{% extends "base.html" %}
{% block title %}My Second — Pricing{% endblock %}
{% block main_class %}w-full max-w-none{% endblock %}
{% block main_px %}{% endblock %}
{% block main_padding %}p-0{% endblock %}

{% block content %}

<!-- ─── Hero ────────────────────────────────────────────────────────────── -->
<section class="relative overflow-hidden text-center px-6 pt-24 pb-16"
         style="background:#040c1a;">
  <!-- Ambient glow -->
  <div class="absolute pointer-events-none"
       style="top:-180px;left:50%;transform:translateX(-50%);width:900px;height:600px;
              background:radial-gradient(ellipse,rgba(245,158,11,0.09) 0%,transparent 55%);"></div>

  <div class="relative z-10">
    <p class="text-amber-400 text-xs font-mono uppercase tracking-widest mb-4">Pricing</p>
    <h1 class="text-4xl md:text-5xl font-bold text-white mb-4">
      One plan. Everything included.
    </h1>
    <p class="text-gray-400 text-base leading-relaxed" style="max-width:40ch;margin:0 auto;">
      Start free. Upgrade when you want the full toolkit — including
      AI-powered opponent preparation.
    </p>
  </div>
</section>


<!-- ─── Plan cards ───────────────────────────────────────────────────────── -->
<section style="background:#040c1a;padding-bottom:6rem;">
  <div class="max-w-4xl mx-auto px-6">

    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">

      <!-- ── Free ─────────────────────────────────────────────────────── -->
      <div class="rounded-2xl border p-8 flex flex-col"
           style="background:#0a1525;border-color:#1e2d45;">

        <div class="mb-6">
          <p class="text-xs text-gray-500 uppercase tracking-widest font-mono mb-2">Free</p>
          <div class="flex items-end gap-2 mb-1">
            <span class="text-4xl font-bold text-white">$0</span>
            <span class="text-gray-500 text-sm mb-1">/ month</span>
          </div>
          <p class="text-gray-500 text-sm">No credit card required.</p>
        </div>

        <ul class="flex-1 space-y-3 mb-8">
          <li class="flex items-start gap-3 text-sm">
            <span style="color:#4ade80;flex-shrink:0;margin-top:1px;">✓</span>
            <span class="text-gray-300">Fetch games from Lichess &amp; Chess.com</span>
          </li>
          <li class="flex items-start gap-3 text-sm">
            <span style="color:#4ade80;flex-shrink:0;margin-top:1px;">✓</span>
            <span class="text-gray-300">Import PGN files</span>
          </li>
          <li class="flex items-start gap-3 text-sm">
            <span style="color:#4ade80;flex-shrink:0;margin-top:1px;">✓</span>
            <span class="text-gray-300">Find Novelties — 3 analyses / month</span>
          </li>
          <li class="flex items-start gap-3 text-sm">
            <span style="color:#4ade80;flex-shrink:0;margin-top:1px;">✓</span>
            <span class="text-gray-300">Analyse Habits — 3 analyses / month</span>
          </li>
          <li class="flex items-start gap-3 text-sm">
            <span style="color:#4ade80;flex-shrink:0;margin-top:1px;">✓</span>
            <span class="text-gray-300">Extract Repertoire — 3 analyses / month</span>
          </li>
          <li class="flex items-start gap-3 text-sm">
            <span style="color:#6b7280;flex-shrink:0;margin-top:1px;">✗</span>
            <span class="text-gray-600">Strategise (AI opponent prep)</span>
          </li>
        </ul>

        <a href="/auth/google"
           style="display:block;text-align:center;padding:0.65rem 1.5rem;
                  border-radius:0.4rem;font-weight:600;font-size:0.9rem;
                  background:#1f2937;color:#f3f4f6;text-decoration:none;
                  border:1px solid #374151;transition:background 0.15s,border-color 0.15s;"
           onmouseover="this.style.background='#374151';this.style.borderColor='#4b5563'"
           onmouseout="this.style.background='#1f2937';this.style.borderColor='#374151'">
          Get started free
        </a>
      </div>


      <!-- ── Pro ──────────────────────────────────────────────────────── -->
      <div class="rounded-2xl border p-8 flex flex-col relative overflow-hidden"
           style="background:#0e1d35;border-color:rgba(245,158,11,0.35);
                  box-shadow:0 0 0 1px rgba(245,158,11,0.06),0 12px 40px rgba(0,0,0,0.5);">

        <!-- "Most popular" pill -->
        <div class="absolute top-0 right-8"
             style="transform:translateY(-50%);">
          <span style="background:#f59e0b;color:#030712;font-size:0.65rem;font-weight:700;
                       text-transform:uppercase;letter-spacing:.07em;
                       padding:0.2rem 0.65rem;border-radius:9999px;">
            Full access
          </span>
        </div>

        <div class="mb-6">
          <p class="text-xs text-amber-500 uppercase tracking-widest font-mono mb-2">Pro</p>
          <div class="flex items-end gap-2 mb-1">
            <span class="text-4xl font-bold text-white">$9</span>
            <span class="text-gray-500 text-sm mb-1">/ month</span>
          </div>
          <p class="text-gray-500 text-sm">Cancel any time.</p>
        </div>

        <ul class="flex-1 space-y-3 mb-8">
          <li class="flex items-start gap-3 text-sm">
            <span style="color:#4ade80;flex-shrink:0;margin-top:1px;">✓</span>
            <span class="text-gray-300">Everything in Free</span>
          </li>
          <li class="flex items-start gap-3 text-sm">
            <span style="color:#f59e0b;flex-shrink:0;margin-top:1px;">✓</span>
            <span class="text-gray-200 font-medium">Unlimited Novelty searches</span>
          </li>
          <li class="flex items-start gap-3 text-sm">
            <span style="color:#f59e0b;flex-shrink:0;margin-top:1px;">✓</span>
            <span class="text-gray-200 font-medium">Unlimited Habit analyses</span>
          </li>
          <li class="flex items-start gap-3 text-sm">
            <span style="color:#f59e0b;flex-shrink:0;margin-top:1px;">✓</span>
            <span class="text-gray-200 font-medium">Unlimited Repertoire extractions</span>
          </li>
          <li class="flex items-start gap-3 text-sm">
            <span style="color:#f59e0b;flex-shrink:0;margin-top:1px;">✓</span>
            <span class="text-gray-200 font-medium">
              Strategise — AI prep brief against any opponent
            </span>
          </li>
          <li class="flex items-start gap-3 text-sm">
            <span style="color:#f59e0b;flex-shrink:0;margin-top:1px;">✓</span>
            <span class="text-gray-200 font-medium">Priority queue</span>
          </li>
        </ul>

        <a href="/auth/google"
           style="display:block;text-align:center;padding:0.75rem 1.5rem;
                  border-radius:0.4rem;font-weight:700;font-size:0.95rem;
                  background:#f59e0b;color:#030712;text-decoration:none;
                  border:none;transition:background 0.15s,box-shadow 0.15s;
                  box-shadow:0 0 0 0 rgba(245,158,11,0);"
           onmouseover="this.style.background='#fbbf24';this.style.boxShadow='0 0 20px rgba(245,158,11,0.3)'"
           onmouseout="this.style.background='#f59e0b';this.style.boxShadow='none'">
          Get started
        </a>
      </div>

    </div>

  </div>
</section>


<!-- ─── Feature comparison ───────────────────────────────────────────────── -->
<section style="background:#060e1e;border-top:1px solid #1a2540;border-bottom:1px solid #1a2540;">
  <div class="max-w-2xl mx-auto px-6 py-16">
    <h2 class="text-xl font-bold text-white text-center mb-10">Everything, compared</h2>

    <table style="width:100%;border-collapse:collapse;">
      <thead>
        <tr>
          <th style="padding:0.5rem 0.75rem;text-align:left;font-size:0.75rem;
                     color:#6b7280;font-weight:500;text-transform:uppercase;letter-spacing:.06em;
                     border-bottom:1px solid #1e2d45;"></th>
          <th style="padding:0.5rem 0.75rem;text-align:center;font-size:0.75rem;
                     color:#6b7280;font-weight:600;text-transform:uppercase;letter-spacing:.06em;
                     border-bottom:1px solid #1e2d45;">Free</th>
          <th style="padding:0.5rem 0.75rem;text-align:center;font-size:0.75rem;
                     color:#f59e0b;font-weight:600;text-transform:uppercase;letter-spacing:.06em;
                     border-bottom:1px solid #1e2d45;">Pro</th>
        </tr>
      </thead>
      <tbody>
        {% set rows = [
          ("Fetch Games",              "✓", "✓",  false),
          ("Import PGN",               "✓", "✓",  false),
          ("Find Novelties",     "3 / mo", "∞",   true),
          ("Analyse Habits",     "3 / mo", "∞",   true),
          ("Extract Repertoire", "3 / mo", "∞",   true),
          ("Strategise",               "—", "✓",  true),
          ("Priority queue",           "—", "✓",  false),
        ] %}
        {% for label, free_val, pro_val, highlight in rows %}
        <tr style="border-bottom:1px solid #111c2e;">
          <td style="padding:0.75rem 0.75rem;font-size:0.875rem;
                     color:{{ '#f3f4f6' if highlight else '#9ca3af' }};">
            {{ label }}
          </td>
          <td style="padding:0.75rem 0.75rem;text-align:center;font-size:0.875rem;
                     color:{{ '#4ade80' if free_val == '✓' else '#6b7280' }};font-family:monospace;">
            {{ free_val }}
          </td>
          <td style="padding:0.75rem 0.75rem;text-align:center;font-size:0.875rem;
                     color:{{ '#f59e0b' if pro_val in ('✓','∞') else '#6b7280' }};font-weight:600;font-family:monospace;">
            {{ pro_val }}
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</section>


<!-- ─── FAQ ──────────────────────────────────────────────────────────────── -->
<section style="background:#040c1a;">
  <div class="max-w-2xl mx-auto px-6 py-20">
    <h2 class="text-xl font-bold text-white text-center mb-10">Questions</h2>

    <div class="space-y-1">

      {% set faqs = [
        (
          "What platforms are supported?",
          "Lichess and Chess.com. Your game history is fetched directly from their public APIs — no upload required."
        ),
        (
          "What is Strategise?",
          "You enter your username, your colour, and an opponent's username. The tool analyses both players' opening habits and tendencies, then asks Claude (Anthropic's AI) to write a personalised preparation brief covering opening approach, endgame tendencies, and exploitable weaknesses."
        ),
        (
          "How are the monthly limits counted?",
          "Each completed analysis job counts as one use. Failed or cancelled jobs are not counted."
        ),
        (
          "Can I cancel my Pro subscription?",
          "Yes, at any time. You keep Pro access until the end of the billing period."
        ),
        (
          "Is my game data stored?",
          "Analysis results (novelties, habits, repertoires) are stored on our server so you can revisit them. Raw game PGN data fetched from Lichess or Chess.com is processed and not stored long-term."
        ),
      ] %}

      {% for q, a in faqs %}
      <details class="border border-gray-800 rounded-lg overflow-hidden faq-item">
        <summary class="flex items-center justify-between gap-4 px-5 py-4 cursor-pointer select-none
                        text-sm font-medium text-gray-200 hover:text-white transition-colors"
                 style="list-style:none;">
          <span>{{ q }}</span>
          <span class="faq-chevron text-gray-500 text-xs shrink-0" style="transition:transform 0.2s;">▶</span>
        </summary>
        <div class="px-5 pb-4 text-sm text-gray-400 leading-relaxed border-t border-gray-800 pt-3">
          {{ a }}
        </div>
      </details>
      {% endfor %}

    </div>
  </div>
</section>


<!-- ─── Final CTA ─────────────────────────────────────────────────────────── -->
<section class="text-center px-6 py-20" style="background:#040c1a;border-top:1px solid #1a2540;">
  <div class="relative inline-block">
    <div class="absolute pointer-events-none"
         style="top:50%;left:50%;transform:translate(-50%,-50%);
                width:500px;height:280px;
                background:radial-gradient(ellipse,rgba(245,158,11,0.07) 0%,transparent 65%);"></div>
    <div class="relative z-10">
      <h2 class="text-2xl md:text-3xl font-bold text-white mb-3">Start free today.</h2>
      <p class="text-gray-500 mb-8 text-sm">No credit card. No setup. Just your chess username.</p>
      <a href="/auth/google"
         style="display:inline-flex;align-items:center;justify-content:center;
                gap:0.65rem;background:#f59e0b;color:#030712;font-weight:700;
                padding:0.85rem 2rem;border-radius:0.4rem;font-size:0.95rem;
                text-decoration:none;border:none;cursor:pointer;
                transition:background-color 0.15s, box-shadow 0.15s;
                box-shadow:0 0 0 0 rgba(245,158,11,0);"
         onmouseover="this.style.background='#fbbf24';this.style.boxShadow='0 0 24px rgba(245,158,11,0.25)'"
         onmouseout="this.style.background='#f59e0b';this.style.boxShadow='none'">
        <svg width="18" height="18" viewBox="0 0 48 48" aria-hidden="true">
          <path fill="#EA4335" d="M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z"/>
          <path fill="#4285F4" d="M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z"/>
          <path fill="#FBBC05" d="M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z"/>
          <path fill="#34A853" d="M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z"/>
        </svg>
        Continue with Google
      </a>
    </div>
  </div>
</section>

{% endblock %}

{% block scripts %}
<style>
  details[open] .faq-chevron { transform: rotate(90deg); }
  details > summary { list-style: none; }
  details > summary::-webkit-details-marker { display: none; }
  /* override base.html details::before */
  details.faq-item > summary::before { content: '' !important; }
</style>
{% endblock %}
