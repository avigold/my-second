var gy=Object.defineProperty;var yy=(e,t,n)=>t in e?gy(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var xe=(e,t,n)=>yy(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(i){if(i.ep)return;i.ep=!0;const l=n(i);fetch(i.href,l)}})();var po=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _u(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var kp={exports:{}},Uo={},Sp={exports:{}},ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var al=Symbol.for("react.element"),vy=Symbol.for("react.portal"),xy=Symbol.for("react.fragment"),wy=Symbol.for("react.strict_mode"),ky=Symbol.for("react.profiler"),Sy=Symbol.for("react.provider"),_y=Symbol.for("react.context"),Ey=Symbol.for("react.forward_ref"),Cy=Symbol.for("react.suspense"),by=Symbol.for("react.memo"),Py=Symbol.for("react.lazy"),ef=Symbol.iterator;function jy(e){return e===null||typeof e!="object"?null:(e=ef&&e[ef]||e["@@iterator"],typeof e=="function"?e:null)}var _p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ep=Object.assign,Cp={};function ti(e,t,n){this.props=e,this.context=t,this.refs=Cp,this.updater=n||_p}ti.prototype.isReactComponent={};ti.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ti.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function bp(){}bp.prototype=ti.prototype;function Eu(e,t,n){this.props=e,this.context=t,this.refs=Cp,this.updater=n||_p}var Cu=Eu.prototype=new bp;Cu.constructor=Eu;Ep(Cu,ti.prototype);Cu.isPureReactComponent=!0;var tf=Array.isArray,Pp=Object.prototype.hasOwnProperty,bu={current:null},jp={key:!0,ref:!0,__self:!0,__source:!0};function Tp(e,t,n){var r,i={},l=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(l=""+t.key),t)Pp.call(t,r)&&!jp.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var a=Array(s),u=0;u<s;u++)a[u]=arguments[u+2];i.children=a}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:al,type:e,key:l,ref:o,props:i,_owner:bu.current}}function Ty(e,t){return{$$typeof:al,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Pu(e){return typeof e=="object"&&e!==null&&e.$$typeof===al}function zy(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var nf=/\/+/g;function ws(e,t){return typeof e=="object"&&e!==null&&e.key!=null?zy(""+e.key):t.toString(36)}function Gl(e,t,n,r,i){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(l){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case al:case vy:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+ws(o,0):r,tf(i)?(n="",e!=null&&(n=e.replace(nf,"$&/")+"/"),Gl(i,t,n,"",function(u){return u})):i!=null&&(Pu(i)&&(i=Ty(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(nf,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",tf(e))for(var s=0;s<e.length;s++){l=e[s];var a=r+ws(l,s);o+=Gl(l,t,n,a,i)}else if(a=jy(e),typeof a=="function")for(e=a.call(e),s=0;!(l=e.next()).done;)l=l.value,a=r+ws(l,s++),o+=Gl(l,t,n,a,i);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Cl(e,t,n){if(e==null)return e;var r=[],i=0;return Gl(e,r,"","",function(l){return t.call(n,l,i++)}),r}function Ny(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var nt={current:null},Xl={transition:null},Iy={ReactCurrentDispatcher:nt,ReactCurrentBatchConfig:Xl,ReactCurrentOwner:bu};function zp(){throw Error("act(...) is not supported in production builds of React.")}ne.Children={map:Cl,forEach:function(e,t,n){Cl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Cl(e,function(){t++}),t},toArray:function(e){return Cl(e,function(t){return t})||[]},only:function(e){if(!Pu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ne.Component=ti;ne.Fragment=xy;ne.Profiler=ky;ne.PureComponent=Eu;ne.StrictMode=wy;ne.Suspense=Cy;ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Iy;ne.act=zp;ne.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Ep({},e.props),i=e.key,l=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,o=bu.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(a in t)Pp.call(t,a)&&!jp.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&s!==void 0?s[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){s=Array(a);for(var u=0;u<a;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:al,type:e.type,key:i,ref:l,props:r,_owner:o}};ne.createContext=function(e){return e={$$typeof:_y,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Sy,_context:e},e.Consumer=e};ne.createElement=Tp;ne.createFactory=function(e){var t=Tp.bind(null,e);return t.type=e,t};ne.createRef=function(){return{current:null}};ne.forwardRef=function(e){return{$$typeof:Ey,render:e}};ne.isValidElement=Pu;ne.lazy=function(e){return{$$typeof:Py,_payload:{_status:-1,_result:e},_init:Ny}};ne.memo=function(e,t){return{$$typeof:by,type:e,compare:t===void 0?null:t}};ne.startTransition=function(e){var t=Xl.transition;Xl.transition={};try{e()}finally{Xl.transition=t}};ne.unstable_act=zp;ne.useCallback=function(e,t){return nt.current.useCallback(e,t)};ne.useContext=function(e){return nt.current.useContext(e)};ne.useDebugValue=function(){};ne.useDeferredValue=function(e){return nt.current.useDeferredValue(e)};ne.useEffect=function(e,t){return nt.current.useEffect(e,t)};ne.useId=function(){return nt.current.useId()};ne.useImperativeHandle=function(e,t,n){return nt.current.useImperativeHandle(e,t,n)};ne.useInsertionEffect=function(e,t){return nt.current.useInsertionEffect(e,t)};ne.useLayoutEffect=function(e,t){return nt.current.useLayoutEffect(e,t)};ne.useMemo=function(e,t){return nt.current.useMemo(e,t)};ne.useReducer=function(e,t,n){return nt.current.useReducer(e,t,n)};ne.useRef=function(e){return nt.current.useRef(e)};ne.useState=function(e){return nt.current.useState(e)};ne.useSyncExternalStore=function(e,t,n){return nt.current.useSyncExternalStore(e,t,n)};ne.useTransition=function(){return nt.current.useTransition()};ne.version="18.3.1";Sp.exports=ne;var W=Sp.exports;const Vr=_u(W);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ay=W,Ly=Symbol.for("react.element"),My=Symbol.for("react.fragment"),Ry=Object.prototype.hasOwnProperty,Oy=Ay.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Dy={key:!0,ref:!0,__self:!0,__source:!0};function Np(e,t,n){var r,i={},l=null,o=null;n!==void 0&&(l=""+n),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)Ry.call(t,r)&&!Dy.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:Ly,type:e,key:l,ref:o,props:i,_owner:Oy.current}}Uo.Fragment=My;Uo.jsx=Np;Uo.jsxs=Np;kp.exports=Uo;var d=kp.exports,Ip={exports:{}},_t={},Ap={exports:{}},Lp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(D,K){var x=D.length;D.push(K);e:for(;0<x;){var ie=x-1>>>1,se=D[ie];if(0<i(se,K))D[ie]=K,D[x]=se,x=ie;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var K=D[0],x=D.pop();if(x!==K){D[0]=x;e:for(var ie=0,se=D.length,k=se>>>1;ie<k;){var be=2*(ie+1)-1,it=D[be],fe=be+1,Ye=D[fe];if(0>i(it,x))fe<se&&0>i(Ye,it)?(D[ie]=Ye,D[fe]=x,ie=fe):(D[ie]=it,D[be]=x,ie=be);else if(fe<se&&0>i(Ye,x))D[ie]=Ye,D[fe]=x,ie=fe;else break e}}return K}function i(D,K){var x=D.sortIndex-K.sortIndex;return x!==0?x:D.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var a=[],u=[],c=1,f=null,p=3,h=!1,g=!1,w=!1,j=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(D){for(var K=n(u);K!==null;){if(K.callback===null)r(u);else if(K.startTime<=D)r(u),K.sortIndex=K.expirationTime,t(a,K);else break;K=n(u)}}function E(D){if(w=!1,v(D),!g)if(n(a)!==null)g=!0,ke(z);else{var K=n(u);K!==null&&ve(E,K.startTime-D)}}function z(D,K){g=!1,w&&(w=!1,m(N),N=-1),h=!0;var x=p;try{for(v(K),f=n(a);f!==null&&(!(f.expirationTime>K)||D&&!F());){var ie=f.callback;if(typeof ie=="function"){f.callback=null,p=f.priorityLevel;var se=ie(f.expirationTime<=K);K=e.unstable_now(),typeof se=="function"?f.callback=se:f===n(a)&&r(a),v(K)}else r(a);f=n(a)}if(f!==null)var k=!0;else{var be=n(u);be!==null&&ve(E,be.startTime-K),k=!1}return k}finally{f=null,p=x,h=!1}}var S=!1,I=null,N=-1,H=5,R=-1;function F(){return!(e.unstable_now()-R<H)}function B(){if(I!==null){var D=e.unstable_now();R=D;var K=!0;try{K=I(!0,D)}finally{K?re():(S=!1,I=null)}}else S=!1}var re;if(typeof y=="function")re=function(){y(B)};else if(typeof MessageChannel<"u"){var de=new MessageChannel,ee=de.port2;de.port1.onmessage=B,re=function(){ee.postMessage(null)}}else re=function(){j(B,0)};function ke(D){I=D,S||(S=!0,re())}function ve(D,K){N=j(function(){D(e.unstable_now())},K)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){g||h||(g=!0,ke(z))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(D){switch(p){case 1:case 2:case 3:var K=3;break;default:K=p}var x=p;p=K;try{return D()}finally{p=x}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,K){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var x=p;p=D;try{return K()}finally{p=x}},e.unstable_scheduleCallback=function(D,K,x){var ie=e.unstable_now();switch(typeof x=="object"&&x!==null?(x=x.delay,x=typeof x=="number"&&0<x?ie+x:ie):x=ie,D){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=x+se,D={id:c++,callback:K,priorityLevel:D,startTime:x,expirationTime:se,sortIndex:-1},x>ie?(D.sortIndex=x,t(u,D),n(a)===null&&D===n(u)&&(w?(m(N),N=-1):w=!0,ve(E,x-ie))):(D.sortIndex=se,t(a,D),g||h||(g=!0,ke(z))),D},e.unstable_shouldYield=F,e.unstable_wrapCallback=function(D){var K=p;return function(){var x=p;p=K;try{return D.apply(this,arguments)}finally{p=x}}}})(Lp);Ap.exports=Lp;var Fy=Ap.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $y=W,St=Fy;function A(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Mp=new Set,Ui={};function gr(e,t){Kr(e,t),Kr(e+"Capture",t)}function Kr(e,t){for(Ui[e]=t,e=0;e<t.length;e++)Mp.add(t[e])}var pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ha=Object.prototype.hasOwnProperty,By=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,rf={},lf={};function Uy(e){return ha.call(lf,e)?!0:ha.call(rf,e)?!1:By.test(e)?lf[e]=!0:(rf[e]=!0,!1)}function Hy(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Wy(e,t,n,r){if(t===null||typeof t>"u"||Hy(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function rt(e,t,n,r,i,l,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=o}var Ue={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ue[e]=new rt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ue[t]=new rt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ue[e]=new rt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ue[e]=new rt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ue[e]=new rt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ue[e]=new rt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ue[e]=new rt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ue[e]=new rt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ue[e]=new rt(e,5,!1,e.toLowerCase(),null,!1,!1)});var ju=/[\-:]([a-z])/g;function Tu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ju,Tu);Ue[t]=new rt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ju,Tu);Ue[t]=new rt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ju,Tu);Ue[t]=new rt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ue[e]=new rt(e,1,!1,e.toLowerCase(),null,!1,!1)});Ue.xlinkHref=new rt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ue[e]=new rt(e,1,!1,e.toLowerCase(),null,!0,!0)});function zu(e,t,n,r){var i=Ue.hasOwnProperty(t)?Ue[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Wy(t,n,i,r)&&(n=null),r||i===null?Uy(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var yn=$y.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,bl=Symbol.for("react.element"),Cr=Symbol.for("react.portal"),br=Symbol.for("react.fragment"),Nu=Symbol.for("react.strict_mode"),ma=Symbol.for("react.profiler"),Rp=Symbol.for("react.provider"),Op=Symbol.for("react.context"),Iu=Symbol.for("react.forward_ref"),ga=Symbol.for("react.suspense"),ya=Symbol.for("react.suspense_list"),Au=Symbol.for("react.memo"),bn=Symbol.for("react.lazy"),Dp=Symbol.for("react.offscreen"),of=Symbol.iterator;function ai(e){return e===null||typeof e!="object"?null:(e=of&&e[of]||e["@@iterator"],typeof e=="function"?e:null)}var Ee=Object.assign,ks;function Ci(e){if(ks===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ks=t&&t[1]||""}return`
`+ks+e}var Ss=!1;function _s(e,t){if(!e||Ss)return"";Ss=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),l=r.stack.split(`
`),o=i.length-1,s=l.length-1;1<=o&&0<=s&&i[o]!==l[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==l[s]){if(o!==1||s!==1)do if(o--,s--,0>s||i[o]!==l[s]){var a=`
`+i[o].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=o&&0<=s);break}}}finally{Ss=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ci(e):""}function Vy(e){switch(e.tag){case 5:return Ci(e.type);case 16:return Ci("Lazy");case 13:return Ci("Suspense");case 19:return Ci("SuspenseList");case 0:case 2:case 15:return e=_s(e.type,!1),e;case 11:return e=_s(e.type.render,!1),e;case 1:return e=_s(e.type,!0),e;default:return""}}function va(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case br:return"Fragment";case Cr:return"Portal";case ma:return"Profiler";case Nu:return"StrictMode";case ga:return"Suspense";case ya:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Op:return(e.displayName||"Context")+".Consumer";case Rp:return(e._context.displayName||"Context")+".Provider";case Iu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Au:return t=e.displayName||null,t!==null?t:va(e.type)||"Memo";case bn:t=e._payload,e=e._init;try{return va(e(t))}catch{}}return null}function Ky(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return va(t);case 8:return t===Nu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Bn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Fp(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function qy(e){var t=Fp(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,l=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,l.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Pl(e){e._valueTracker||(e._valueTracker=qy(e))}function $p(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Fp(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ho(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function xa(e,t){var n=t.checked;return Ee({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function sf(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Bn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Bp(e,t){t=t.checked,t!=null&&zu(e,"checked",t,!1)}function wa(e,t){Bp(e,t);var n=Bn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ka(e,t.type,n):t.hasOwnProperty("defaultValue")&&ka(e,t.type,Bn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function af(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ka(e,t,n){(t!=="number"||ho(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var bi=Array.isArray;function Or(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Bn(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Sa(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(A(91));return Ee({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function uf(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(A(92));if(bi(n)){if(1<n.length)throw Error(A(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Bn(n)}}function Up(e,t){var n=Bn(t.value),r=Bn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function cf(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Hp(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _a(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Hp(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var jl,Wp=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(jl=jl||document.createElement("div"),jl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=jl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Hi(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var zi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Qy=["Webkit","ms","Moz","O"];Object.keys(zi).forEach(function(e){Qy.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),zi[t]=zi[e]})});function Vp(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||zi.hasOwnProperty(e)&&zi[e]?(""+t).trim():t+"px"}function Kp(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Vp(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var Yy=Ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ea(e,t){if(t){if(Yy[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(A(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(A(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(A(61))}if(t.style!=null&&typeof t.style!="object")throw Error(A(62))}}function Ca(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ba=null;function Lu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Pa=null,Dr=null,Fr=null;function ff(e){if(e=fl(e)){if(typeof Pa!="function")throw Error(A(280));var t=e.stateNode;t&&(t=qo(t),Pa(e.stateNode,e.type,t))}}function qp(e){Dr?Fr?Fr.push(e):Fr=[e]:Dr=e}function Qp(){if(Dr){var e=Dr,t=Fr;if(Fr=Dr=null,ff(e),t)for(e=0;e<t.length;e++)ff(t[e])}}function Yp(e,t){return e(t)}function Gp(){}var Es=!1;function Xp(e,t,n){if(Es)return e(t,n);Es=!0;try{return Yp(e,t,n)}finally{Es=!1,(Dr!==null||Fr!==null)&&(Gp(),Qp())}}function Wi(e,t){var n=e.stateNode;if(n===null)return null;var r=qo(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(A(231,t,typeof n));return n}var ja=!1;if(pn)try{var ui={};Object.defineProperty(ui,"passive",{get:function(){ja=!0}}),window.addEventListener("test",ui,ui),window.removeEventListener("test",ui,ui)}catch{ja=!1}function Gy(e,t,n,r,i,l,o,s,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Ni=!1,mo=null,go=!1,Ta=null,Xy={onError:function(e){Ni=!0,mo=e}};function Zy(e,t,n,r,i,l,o,s,a){Ni=!1,mo=null,Gy.apply(Xy,arguments)}function Jy(e,t,n,r,i,l,o,s,a){if(Zy.apply(this,arguments),Ni){if(Ni){var u=mo;Ni=!1,mo=null}else throw Error(A(198));go||(go=!0,Ta=u)}}function yr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Zp(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function df(e){if(yr(e)!==e)throw Error(A(188))}function e0(e){var t=e.alternate;if(!t){if(t=yr(e),t===null)throw Error(A(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var l=i.alternate;if(l===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===l.child){for(l=i.child;l;){if(l===n)return df(i),e;if(l===r)return df(i),t;l=l.sibling}throw Error(A(188))}if(n.return!==r.return)n=i,r=l;else{for(var o=!1,s=i.child;s;){if(s===n){o=!0,n=i,r=l;break}if(s===r){o=!0,r=i,n=l;break}s=s.sibling}if(!o){for(s=l.child;s;){if(s===n){o=!0,n=l,r=i;break}if(s===r){o=!0,r=l,n=i;break}s=s.sibling}if(!o)throw Error(A(189))}}if(n.alternate!==r)throw Error(A(190))}if(n.tag!==3)throw Error(A(188));return n.stateNode.current===n?e:t}function Jp(e){return e=e0(e),e!==null?eh(e):null}function eh(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=eh(e);if(t!==null)return t;e=e.sibling}return null}var th=St.unstable_scheduleCallback,pf=St.unstable_cancelCallback,t0=St.unstable_shouldYield,n0=St.unstable_requestPaint,je=St.unstable_now,r0=St.unstable_getCurrentPriorityLevel,Mu=St.unstable_ImmediatePriority,nh=St.unstable_UserBlockingPriority,yo=St.unstable_NormalPriority,i0=St.unstable_LowPriority,rh=St.unstable_IdlePriority,Ho=null,en=null;function l0(e){if(en&&typeof en.onCommitFiberRoot=="function")try{en.onCommitFiberRoot(Ho,e,void 0,(e.current.flags&128)===128)}catch{}}var Ht=Math.clz32?Math.clz32:a0,o0=Math.log,s0=Math.LN2;function a0(e){return e>>>=0,e===0?32:31-(o0(e)/s0|0)|0}var Tl=64,zl=4194304;function Pi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function vo(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,l=e.pingedLanes,o=n&268435455;if(o!==0){var s=o&~i;s!==0?r=Pi(s):(l&=o,l!==0&&(r=Pi(l)))}else o=n&~i,o!==0?r=Pi(o):l!==0&&(r=Pi(l));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,l=t&-t,i>=l||i===16&&(l&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Ht(t),i=1<<n,r|=e[n],t&=~i;return r}function u0(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function c0(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,l=e.pendingLanes;0<l;){var o=31-Ht(l),s=1<<o,a=i[o];a===-1?(!(s&n)||s&r)&&(i[o]=u0(s,t)):a<=t&&(e.expiredLanes|=s),l&=~s}}function za(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ih(){var e=Tl;return Tl<<=1,!(Tl&4194240)&&(Tl=64),e}function Cs(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ul(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ht(t),e[t]=n}function f0(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Ht(n),l=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~l}}function Ru(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ht(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var ce=0;function lh(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var oh,Ou,sh,ah,uh,Na=!1,Nl=[],An=null,Ln=null,Mn=null,Vi=new Map,Ki=new Map,Tn=[],d0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function hf(e,t){switch(e){case"focusin":case"focusout":An=null;break;case"dragenter":case"dragleave":Ln=null;break;case"mouseover":case"mouseout":Mn=null;break;case"pointerover":case"pointerout":Vi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ki.delete(t.pointerId)}}function ci(e,t,n,r,i,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:l,targetContainers:[i]},t!==null&&(t=fl(t),t!==null&&Ou(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function p0(e,t,n,r,i){switch(t){case"focusin":return An=ci(An,e,t,n,r,i),!0;case"dragenter":return Ln=ci(Ln,e,t,n,r,i),!0;case"mouseover":return Mn=ci(Mn,e,t,n,r,i),!0;case"pointerover":var l=i.pointerId;return Vi.set(l,ci(Vi.get(l)||null,e,t,n,r,i)),!0;case"gotpointercapture":return l=i.pointerId,Ki.set(l,ci(Ki.get(l)||null,e,t,n,r,i)),!0}return!1}function ch(e){var t=ir(e.target);if(t!==null){var n=yr(t);if(n!==null){if(t=n.tag,t===13){if(t=Zp(n),t!==null){e.blockedOn=t,uh(e.priority,function(){sh(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Zl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ia(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);ba=r,n.target.dispatchEvent(r),ba=null}else return t=fl(n),t!==null&&Ou(t),e.blockedOn=n,!1;t.shift()}return!0}function mf(e,t,n){Zl(e)&&n.delete(t)}function h0(){Na=!1,An!==null&&Zl(An)&&(An=null),Ln!==null&&Zl(Ln)&&(Ln=null),Mn!==null&&Zl(Mn)&&(Mn=null),Vi.forEach(mf),Ki.forEach(mf)}function fi(e,t){e.blockedOn===t&&(e.blockedOn=null,Na||(Na=!0,St.unstable_scheduleCallback(St.unstable_NormalPriority,h0)))}function qi(e){function t(i){return fi(i,e)}if(0<Nl.length){fi(Nl[0],e);for(var n=1;n<Nl.length;n++){var r=Nl[n];r.blockedOn===e&&(r.blockedOn=null)}}for(An!==null&&fi(An,e),Ln!==null&&fi(Ln,e),Mn!==null&&fi(Mn,e),Vi.forEach(t),Ki.forEach(t),n=0;n<Tn.length;n++)r=Tn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Tn.length&&(n=Tn[0],n.blockedOn===null);)ch(n),n.blockedOn===null&&Tn.shift()}var $r=yn.ReactCurrentBatchConfig,xo=!0;function m0(e,t,n,r){var i=ce,l=$r.transition;$r.transition=null;try{ce=1,Du(e,t,n,r)}finally{ce=i,$r.transition=l}}function g0(e,t,n,r){var i=ce,l=$r.transition;$r.transition=null;try{ce=4,Du(e,t,n,r)}finally{ce=i,$r.transition=l}}function Du(e,t,n,r){if(xo){var i=Ia(e,t,n,r);if(i===null)Ms(e,t,r,wo,n),hf(e,r);else if(p0(i,e,t,n,r))r.stopPropagation();else if(hf(e,r),t&4&&-1<d0.indexOf(e)){for(;i!==null;){var l=fl(i);if(l!==null&&oh(l),l=Ia(e,t,n,r),l===null&&Ms(e,t,r,wo,n),l===i)break;i=l}i!==null&&r.stopPropagation()}else Ms(e,t,r,null,n)}}var wo=null;function Ia(e,t,n,r){if(wo=null,e=Lu(r),e=ir(e),e!==null)if(t=yr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Zp(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return wo=e,null}function fh(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(r0()){case Mu:return 1;case nh:return 4;case yo:case i0:return 16;case rh:return 536870912;default:return 16}default:return 16}}var Nn=null,Fu=null,Jl=null;function dh(){if(Jl)return Jl;var e,t=Fu,n=t.length,r,i="value"in Nn?Nn.value:Nn.textContent,l=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[l-r];r++);return Jl=i.slice(e,1<r?1-r:void 0)}function eo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Il(){return!0}function gf(){return!1}function Et(e){function t(n,r,i,l,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=l,this.target=o,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(l):l[s]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?Il:gf,this.isPropagationStopped=gf,this}return Ee(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Il)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Il)},persist:function(){},isPersistent:Il}),t}var ni={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$u=Et(ni),cl=Ee({},ni,{view:0,detail:0}),y0=Et(cl),bs,Ps,di,Wo=Ee({},cl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==di&&(di&&e.type==="mousemove"?(bs=e.screenX-di.screenX,Ps=e.screenY-di.screenY):Ps=bs=0,di=e),bs)},movementY:function(e){return"movementY"in e?e.movementY:Ps}}),yf=Et(Wo),v0=Ee({},Wo,{dataTransfer:0}),x0=Et(v0),w0=Ee({},cl,{relatedTarget:0}),js=Et(w0),k0=Ee({},ni,{animationName:0,elapsedTime:0,pseudoElement:0}),S0=Et(k0),_0=Ee({},ni,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),E0=Et(_0),C0=Ee({},ni,{data:0}),vf=Et(C0),b0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},P0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},j0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function T0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=j0[e])?!!t[e]:!1}function Bu(){return T0}var z0=Ee({},cl,{key:function(e){if(e.key){var t=b0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=eo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?P0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bu,charCode:function(e){return e.type==="keypress"?eo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?eo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),N0=Et(z0),I0=Ee({},Wo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xf=Et(I0),A0=Ee({},cl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bu}),L0=Et(A0),M0=Ee({},ni,{propertyName:0,elapsedTime:0,pseudoElement:0}),R0=Et(M0),O0=Ee({},Wo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),D0=Et(O0),F0=[9,13,27,32],Uu=pn&&"CompositionEvent"in window,Ii=null;pn&&"documentMode"in document&&(Ii=document.documentMode);var $0=pn&&"TextEvent"in window&&!Ii,ph=pn&&(!Uu||Ii&&8<Ii&&11>=Ii),wf=" ",kf=!1;function hh(e,t){switch(e){case"keyup":return F0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Pr=!1;function B0(e,t){switch(e){case"compositionend":return mh(t);case"keypress":return t.which!==32?null:(kf=!0,wf);case"textInput":return e=t.data,e===wf&&kf?null:e;default:return null}}function U0(e,t){if(Pr)return e==="compositionend"||!Uu&&hh(e,t)?(e=dh(),Jl=Fu=Nn=null,Pr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ph&&t.locale!=="ko"?null:t.data;default:return null}}var H0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!H0[e.type]:t==="textarea"}function gh(e,t,n,r){qp(r),t=ko(t,"onChange"),0<t.length&&(n=new $u("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ai=null,Qi=null;function W0(e){Ph(e,0)}function Vo(e){var t=zr(e);if($p(t))return e}function V0(e,t){if(e==="change")return t}var yh=!1;if(pn){var Ts;if(pn){var zs="oninput"in document;if(!zs){var _f=document.createElement("div");_f.setAttribute("oninput","return;"),zs=typeof _f.oninput=="function"}Ts=zs}else Ts=!1;yh=Ts&&(!document.documentMode||9<document.documentMode)}function Ef(){Ai&&(Ai.detachEvent("onpropertychange",vh),Qi=Ai=null)}function vh(e){if(e.propertyName==="value"&&Vo(Qi)){var t=[];gh(t,Qi,e,Lu(e)),Xp(W0,t)}}function K0(e,t,n){e==="focusin"?(Ef(),Ai=t,Qi=n,Ai.attachEvent("onpropertychange",vh)):e==="focusout"&&Ef()}function q0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Vo(Qi)}function Q0(e,t){if(e==="click")return Vo(t)}function Y0(e,t){if(e==="input"||e==="change")return Vo(t)}function G0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Vt=typeof Object.is=="function"?Object.is:G0;function Yi(e,t){if(Vt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!ha.call(t,i)||!Vt(e[i],t[i]))return!1}return!0}function Cf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function bf(e,t){var n=Cf(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Cf(n)}}function xh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?xh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function wh(){for(var e=window,t=ho();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ho(e.document)}return t}function Hu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function X0(e){var t=wh(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&xh(n.ownerDocument.documentElement,n)){if(r!==null&&Hu(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,l=Math.min(r.start,i);r=r.end===void 0?l:Math.min(r.end,i),!e.extend&&l>r&&(i=r,r=l,l=i),i=bf(n,l);var o=bf(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),l>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Z0=pn&&"documentMode"in document&&11>=document.documentMode,jr=null,Aa=null,Li=null,La=!1;function Pf(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;La||jr==null||jr!==ho(r)||(r=jr,"selectionStart"in r&&Hu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Li&&Yi(Li,r)||(Li=r,r=ko(Aa,"onSelect"),0<r.length&&(t=new $u("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=jr)))}function Al(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Tr={animationend:Al("Animation","AnimationEnd"),animationiteration:Al("Animation","AnimationIteration"),animationstart:Al("Animation","AnimationStart"),transitionend:Al("Transition","TransitionEnd")},Ns={},kh={};pn&&(kh=document.createElement("div").style,"AnimationEvent"in window||(delete Tr.animationend.animation,delete Tr.animationiteration.animation,delete Tr.animationstart.animation),"TransitionEvent"in window||delete Tr.transitionend.transition);function Ko(e){if(Ns[e])return Ns[e];if(!Tr[e])return e;var t=Tr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in kh)return Ns[e]=t[n];return e}var Sh=Ko("animationend"),_h=Ko("animationiteration"),Eh=Ko("animationstart"),Ch=Ko("transitionend"),bh=new Map,jf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wn(e,t){bh.set(e,t),gr(t,[e])}for(var Is=0;Is<jf.length;Is++){var As=jf[Is],J0=As.toLowerCase(),e1=As[0].toUpperCase()+As.slice(1);Wn(J0,"on"+e1)}Wn(Sh,"onAnimationEnd");Wn(_h,"onAnimationIteration");Wn(Eh,"onAnimationStart");Wn("dblclick","onDoubleClick");Wn("focusin","onFocus");Wn("focusout","onBlur");Wn(Ch,"onTransitionEnd");Kr("onMouseEnter",["mouseout","mouseover"]);Kr("onMouseLeave",["mouseout","mouseover"]);Kr("onPointerEnter",["pointerout","pointerover"]);Kr("onPointerLeave",["pointerout","pointerover"]);gr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));gr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));gr("onBeforeInput",["compositionend","keypress","textInput","paste"]);gr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));gr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));gr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ji="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),t1=new Set("cancel close invalid load scroll toggle".split(" ").concat(ji));function Tf(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Jy(r,t,void 0,e),e.currentTarget=null}function Ph(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var l=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],a=s.instance,u=s.currentTarget;if(s=s.listener,a!==l&&i.isPropagationStopped())break e;Tf(i,s,u),l=a}else for(o=0;o<r.length;o++){if(s=r[o],a=s.instance,u=s.currentTarget,s=s.listener,a!==l&&i.isPropagationStopped())break e;Tf(i,s,u),l=a}}}if(go)throw e=Ta,go=!1,Ta=null,e}function ge(e,t){var n=t[Fa];n===void 0&&(n=t[Fa]=new Set);var r=e+"__bubble";n.has(r)||(jh(t,e,2,!1),n.add(r))}function Ls(e,t,n){var r=0;t&&(r|=4),jh(n,e,r,t)}var Ll="_reactListening"+Math.random().toString(36).slice(2);function Gi(e){if(!e[Ll]){e[Ll]=!0,Mp.forEach(function(n){n!=="selectionchange"&&(t1.has(n)||Ls(n,!1,e),Ls(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ll]||(t[Ll]=!0,Ls("selectionchange",!1,t))}}function jh(e,t,n,r){switch(fh(t)){case 1:var i=m0;break;case 4:i=g0;break;default:i=Du}n=i.bind(null,t,n,e),i=void 0,!ja||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Ms(e,t,n,r,i){var l=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;o=o.return}for(;s!==null;){if(o=ir(s),o===null)return;if(a=o.tag,a===5||a===6){r=l=o;continue e}s=s.parentNode}}r=r.return}Xp(function(){var u=l,c=Lu(n),f=[];e:{var p=bh.get(e);if(p!==void 0){var h=$u,g=e;switch(e){case"keypress":if(eo(n)===0)break e;case"keydown":case"keyup":h=N0;break;case"focusin":g="focus",h=js;break;case"focusout":g="blur",h=js;break;case"beforeblur":case"afterblur":h=js;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=yf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=x0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=L0;break;case Sh:case _h:case Eh:h=S0;break;case Ch:h=R0;break;case"scroll":h=y0;break;case"wheel":h=D0;break;case"copy":case"cut":case"paste":h=E0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=xf}var w=(t&4)!==0,j=!w&&e==="scroll",m=w?p!==null?p+"Capture":null:p;w=[];for(var y=u,v;y!==null;){v=y;var E=v.stateNode;if(v.tag===5&&E!==null&&(v=E,m!==null&&(E=Wi(y,m),E!=null&&w.push(Xi(y,E,v)))),j)break;y=y.return}0<w.length&&(p=new h(p,g,null,n,c),f.push({event:p,listeners:w}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",p&&n!==ba&&(g=n.relatedTarget||n.fromElement)&&(ir(g)||g[hn]))break e;if((h||p)&&(p=c.window===c?c:(p=c.ownerDocument)?p.defaultView||p.parentWindow:window,h?(g=n.relatedTarget||n.toElement,h=u,g=g?ir(g):null,g!==null&&(j=yr(g),g!==j||g.tag!==5&&g.tag!==6)&&(g=null)):(h=null,g=u),h!==g)){if(w=yf,E="onMouseLeave",m="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(w=xf,E="onPointerLeave",m="onPointerEnter",y="pointer"),j=h==null?p:zr(h),v=g==null?p:zr(g),p=new w(E,y+"leave",h,n,c),p.target=j,p.relatedTarget=v,E=null,ir(c)===u&&(w=new w(m,y+"enter",g,n,c),w.target=v,w.relatedTarget=j,E=w),j=E,h&&g)t:{for(w=h,m=g,y=0,v=w;v;v=_r(v))y++;for(v=0,E=m;E;E=_r(E))v++;for(;0<y-v;)w=_r(w),y--;for(;0<v-y;)m=_r(m),v--;for(;y--;){if(w===m||m!==null&&w===m.alternate)break t;w=_r(w),m=_r(m)}w=null}else w=null;h!==null&&zf(f,p,h,w,!1),g!==null&&j!==null&&zf(f,j,g,w,!0)}}e:{if(p=u?zr(u):window,h=p.nodeName&&p.nodeName.toLowerCase(),h==="select"||h==="input"&&p.type==="file")var z=V0;else if(Sf(p))if(yh)z=Y0;else{z=q0;var S=K0}else(h=p.nodeName)&&h.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(z=Q0);if(z&&(z=z(e,u))){gh(f,z,n,c);break e}S&&S(e,p,u),e==="focusout"&&(S=p._wrapperState)&&S.controlled&&p.type==="number"&&ka(p,"number",p.value)}switch(S=u?zr(u):window,e){case"focusin":(Sf(S)||S.contentEditable==="true")&&(jr=S,Aa=u,Li=null);break;case"focusout":Li=Aa=jr=null;break;case"mousedown":La=!0;break;case"contextmenu":case"mouseup":case"dragend":La=!1,Pf(f,n,c);break;case"selectionchange":if(Z0)break;case"keydown":case"keyup":Pf(f,n,c)}var I;if(Uu)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Pr?hh(e,n)&&(N="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(ph&&n.locale!=="ko"&&(Pr||N!=="onCompositionStart"?N==="onCompositionEnd"&&Pr&&(I=dh()):(Nn=c,Fu="value"in Nn?Nn.value:Nn.textContent,Pr=!0)),S=ko(u,N),0<S.length&&(N=new vf(N,e,null,n,c),f.push({event:N,listeners:S}),I?N.data=I:(I=mh(n),I!==null&&(N.data=I)))),(I=$0?B0(e,n):U0(e,n))&&(u=ko(u,"onBeforeInput"),0<u.length&&(c=new vf("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=I))}Ph(f,t)})}function Xi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ko(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,l=i.stateNode;i.tag===5&&l!==null&&(i=l,l=Wi(e,n),l!=null&&r.unshift(Xi(e,l,i)),l=Wi(e,t),l!=null&&r.push(Xi(e,l,i))),e=e.return}return r}function _r(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function zf(e,t,n,r,i){for(var l=t._reactName,o=[];n!==null&&n!==r;){var s=n,a=s.alternate,u=s.stateNode;if(a!==null&&a===r)break;s.tag===5&&u!==null&&(s=u,i?(a=Wi(n,l),a!=null&&o.unshift(Xi(n,a,s))):i||(a=Wi(n,l),a!=null&&o.push(Xi(n,a,s)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var n1=/\r\n?/g,r1=/\u0000|\uFFFD/g;function Nf(e){return(typeof e=="string"?e:""+e).replace(n1,`
`).replace(r1,"")}function Ml(e,t,n){if(t=Nf(t),Nf(e)!==t&&n)throw Error(A(425))}function So(){}var Ma=null,Ra=null;function Oa(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Da=typeof setTimeout=="function"?setTimeout:void 0,i1=typeof clearTimeout=="function"?clearTimeout:void 0,If=typeof Promise=="function"?Promise:void 0,l1=typeof queueMicrotask=="function"?queueMicrotask:typeof If<"u"?function(e){return If.resolve(null).then(e).catch(o1)}:Da;function o1(e){setTimeout(function(){throw e})}function Rs(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),qi(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);qi(t)}function Rn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Af(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ri=Math.random().toString(36).slice(2),Zt="__reactFiber$"+ri,Zi="__reactProps$"+ri,hn="__reactContainer$"+ri,Fa="__reactEvents$"+ri,s1="__reactListeners$"+ri,a1="__reactHandles$"+ri;function ir(e){var t=e[Zt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[hn]||n[Zt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Af(e);e!==null;){if(n=e[Zt])return n;e=Af(e)}return t}e=n,n=e.parentNode}return null}function fl(e){return e=e[Zt]||e[hn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function zr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(A(33))}function qo(e){return e[Zi]||null}var $a=[],Nr=-1;function Vn(e){return{current:e}}function ye(e){0>Nr||(e.current=$a[Nr],$a[Nr]=null,Nr--)}function he(e,t){Nr++,$a[Nr]=e.current,e.current=t}var Un={},qe=Vn(Un),at=Vn(!1),cr=Un;function qr(e,t){var n=e.type.contextTypes;if(!n)return Un;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},l;for(l in n)i[l]=t[l];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function ut(e){return e=e.childContextTypes,e!=null}function _o(){ye(at),ye(qe)}function Lf(e,t,n){if(qe.current!==Un)throw Error(A(168));he(qe,t),he(at,n)}function Th(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(A(108,Ky(e)||"Unknown",i));return Ee({},n,r)}function Eo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Un,cr=qe.current,he(qe,e),he(at,at.current),!0}function Mf(e,t,n){var r=e.stateNode;if(!r)throw Error(A(169));n?(e=Th(e,t,cr),r.__reactInternalMemoizedMergedChildContext=e,ye(at),ye(qe),he(qe,e)):ye(at),he(at,n)}var an=null,Qo=!1,Os=!1;function zh(e){an===null?an=[e]:an.push(e)}function u1(e){Qo=!0,zh(e)}function Kn(){if(!Os&&an!==null){Os=!0;var e=0,t=ce;try{var n=an;for(ce=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}an=null,Qo=!1}catch(i){throw an!==null&&(an=an.slice(e+1)),th(Mu,Kn),i}finally{ce=t,Os=!1}}return null}var Ir=[],Ar=0,Co=null,bo=0,bt=[],Pt=0,fr=null,un=1,cn="";function er(e,t){Ir[Ar++]=bo,Ir[Ar++]=Co,Co=e,bo=t}function Nh(e,t,n){bt[Pt++]=un,bt[Pt++]=cn,bt[Pt++]=fr,fr=e;var r=un;e=cn;var i=32-Ht(r)-1;r&=~(1<<i),n+=1;var l=32-Ht(t)+i;if(30<l){var o=i-i%5;l=(r&(1<<o)-1).toString(32),r>>=o,i-=o,un=1<<32-Ht(t)+i|n<<i|r,cn=l+e}else un=1<<l|n<<i|r,cn=e}function Wu(e){e.return!==null&&(er(e,1),Nh(e,1,0))}function Vu(e){for(;e===Co;)Co=Ir[--Ar],Ir[Ar]=null,bo=Ir[--Ar],Ir[Ar]=null;for(;e===fr;)fr=bt[--Pt],bt[Pt]=null,cn=bt[--Pt],bt[Pt]=null,un=bt[--Pt],bt[Pt]=null}var kt=null,xt=null,we=!1,Bt=null;function Ih(e,t){var n=zt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Rf(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,kt=e,xt=Rn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,kt=e,xt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=fr!==null?{id:un,overflow:cn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=zt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,kt=e,xt=null,!0):!1;default:return!1}}function Ba(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ua(e){if(we){var t=xt;if(t){var n=t;if(!Rf(e,t)){if(Ba(e))throw Error(A(418));t=Rn(n.nextSibling);var r=kt;t&&Rf(e,t)?Ih(r,n):(e.flags=e.flags&-4097|2,we=!1,kt=e)}}else{if(Ba(e))throw Error(A(418));e.flags=e.flags&-4097|2,we=!1,kt=e}}}function Of(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;kt=e}function Rl(e){if(e!==kt)return!1;if(!we)return Of(e),we=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Oa(e.type,e.memoizedProps)),t&&(t=xt)){if(Ba(e))throw Ah(),Error(A(418));for(;t;)Ih(e,t),t=Rn(t.nextSibling)}if(Of(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(A(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){xt=Rn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}xt=null}}else xt=kt?Rn(e.stateNode.nextSibling):null;return!0}function Ah(){for(var e=xt;e;)e=Rn(e.nextSibling)}function Qr(){xt=kt=null,we=!1}function Ku(e){Bt===null?Bt=[e]:Bt.push(e)}var c1=yn.ReactCurrentBatchConfig;function pi(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(A(309));var r=n.stateNode}if(!r)throw Error(A(147,e));var i=r,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(o){var s=i.refs;o===null?delete s[l]:s[l]=o},t._stringRef=l,t)}if(typeof e!="string")throw Error(A(284));if(!n._owner)throw Error(A(290,e))}return e}function Ol(e,t){throw e=Object.prototype.toString.call(t),Error(A(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Df(e){var t=e._init;return t(e._payload)}function Lh(e){function t(m,y){if(e){var v=m.deletions;v===null?(m.deletions=[y],m.flags|=16):v.push(y)}}function n(m,y){if(!e)return null;for(;y!==null;)t(m,y),y=y.sibling;return null}function r(m,y){for(m=new Map;y!==null;)y.key!==null?m.set(y.key,y):m.set(y.index,y),y=y.sibling;return m}function i(m,y){return m=$n(m,y),m.index=0,m.sibling=null,m}function l(m,y,v){return m.index=v,e?(v=m.alternate,v!==null?(v=v.index,v<y?(m.flags|=2,y):v):(m.flags|=2,y)):(m.flags|=1048576,y)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function s(m,y,v,E){return y===null||y.tag!==6?(y=Ws(v,m.mode,E),y.return=m,y):(y=i(y,v),y.return=m,y)}function a(m,y,v,E){var z=v.type;return z===br?c(m,y,v.props.children,E,v.key):y!==null&&(y.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===bn&&Df(z)===y.type)?(E=i(y,v.props),E.ref=pi(m,y,v),E.return=m,E):(E=so(v.type,v.key,v.props,null,m.mode,E),E.ref=pi(m,y,v),E.return=m,E)}function u(m,y,v,E){return y===null||y.tag!==4||y.stateNode.containerInfo!==v.containerInfo||y.stateNode.implementation!==v.implementation?(y=Vs(v,m.mode,E),y.return=m,y):(y=i(y,v.children||[]),y.return=m,y)}function c(m,y,v,E,z){return y===null||y.tag!==7?(y=ar(v,m.mode,E,z),y.return=m,y):(y=i(y,v),y.return=m,y)}function f(m,y,v){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Ws(""+y,m.mode,v),y.return=m,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case bl:return v=so(y.type,y.key,y.props,null,m.mode,v),v.ref=pi(m,null,y),v.return=m,v;case Cr:return y=Vs(y,m.mode,v),y.return=m,y;case bn:var E=y._init;return f(m,E(y._payload),v)}if(bi(y)||ai(y))return y=ar(y,m.mode,v,null),y.return=m,y;Ol(m,y)}return null}function p(m,y,v,E){var z=y!==null?y.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return z!==null?null:s(m,y,""+v,E);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case bl:return v.key===z?a(m,y,v,E):null;case Cr:return v.key===z?u(m,y,v,E):null;case bn:return z=v._init,p(m,y,z(v._payload),E)}if(bi(v)||ai(v))return z!==null?null:c(m,y,v,E,null);Ol(m,v)}return null}function h(m,y,v,E,z){if(typeof E=="string"&&E!==""||typeof E=="number")return m=m.get(v)||null,s(y,m,""+E,z);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case bl:return m=m.get(E.key===null?v:E.key)||null,a(y,m,E,z);case Cr:return m=m.get(E.key===null?v:E.key)||null,u(y,m,E,z);case bn:var S=E._init;return h(m,y,v,S(E._payload),z)}if(bi(E)||ai(E))return m=m.get(v)||null,c(y,m,E,z,null);Ol(y,E)}return null}function g(m,y,v,E){for(var z=null,S=null,I=y,N=y=0,H=null;I!==null&&N<v.length;N++){I.index>N?(H=I,I=null):H=I.sibling;var R=p(m,I,v[N],E);if(R===null){I===null&&(I=H);break}e&&I&&R.alternate===null&&t(m,I),y=l(R,y,N),S===null?z=R:S.sibling=R,S=R,I=H}if(N===v.length)return n(m,I),we&&er(m,N),z;if(I===null){for(;N<v.length;N++)I=f(m,v[N],E),I!==null&&(y=l(I,y,N),S===null?z=I:S.sibling=I,S=I);return we&&er(m,N),z}for(I=r(m,I);N<v.length;N++)H=h(I,m,N,v[N],E),H!==null&&(e&&H.alternate!==null&&I.delete(H.key===null?N:H.key),y=l(H,y,N),S===null?z=H:S.sibling=H,S=H);return e&&I.forEach(function(F){return t(m,F)}),we&&er(m,N),z}function w(m,y,v,E){var z=ai(v);if(typeof z!="function")throw Error(A(150));if(v=z.call(v),v==null)throw Error(A(151));for(var S=z=null,I=y,N=y=0,H=null,R=v.next();I!==null&&!R.done;N++,R=v.next()){I.index>N?(H=I,I=null):H=I.sibling;var F=p(m,I,R.value,E);if(F===null){I===null&&(I=H);break}e&&I&&F.alternate===null&&t(m,I),y=l(F,y,N),S===null?z=F:S.sibling=F,S=F,I=H}if(R.done)return n(m,I),we&&er(m,N),z;if(I===null){for(;!R.done;N++,R=v.next())R=f(m,R.value,E),R!==null&&(y=l(R,y,N),S===null?z=R:S.sibling=R,S=R);return we&&er(m,N),z}for(I=r(m,I);!R.done;N++,R=v.next())R=h(I,m,N,R.value,E),R!==null&&(e&&R.alternate!==null&&I.delete(R.key===null?N:R.key),y=l(R,y,N),S===null?z=R:S.sibling=R,S=R);return e&&I.forEach(function(B){return t(m,B)}),we&&er(m,N),z}function j(m,y,v,E){if(typeof v=="object"&&v!==null&&v.type===br&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case bl:e:{for(var z=v.key,S=y;S!==null;){if(S.key===z){if(z=v.type,z===br){if(S.tag===7){n(m,S.sibling),y=i(S,v.props.children),y.return=m,m=y;break e}}else if(S.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===bn&&Df(z)===S.type){n(m,S.sibling),y=i(S,v.props),y.ref=pi(m,S,v),y.return=m,m=y;break e}n(m,S);break}else t(m,S);S=S.sibling}v.type===br?(y=ar(v.props.children,m.mode,E,v.key),y.return=m,m=y):(E=so(v.type,v.key,v.props,null,m.mode,E),E.ref=pi(m,y,v),E.return=m,m=E)}return o(m);case Cr:e:{for(S=v.key;y!==null;){if(y.key===S)if(y.tag===4&&y.stateNode.containerInfo===v.containerInfo&&y.stateNode.implementation===v.implementation){n(m,y.sibling),y=i(y,v.children||[]),y.return=m,m=y;break e}else{n(m,y);break}else t(m,y);y=y.sibling}y=Vs(v,m.mode,E),y.return=m,m=y}return o(m);case bn:return S=v._init,j(m,y,S(v._payload),E)}if(bi(v))return g(m,y,v,E);if(ai(v))return w(m,y,v,E);Ol(m,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,y!==null&&y.tag===6?(n(m,y.sibling),y=i(y,v),y.return=m,m=y):(n(m,y),y=Ws(v,m.mode,E),y.return=m,m=y),o(m)):n(m,y)}return j}var Yr=Lh(!0),Mh=Lh(!1),Po=Vn(null),jo=null,Lr=null,qu=null;function Qu(){qu=Lr=jo=null}function Yu(e){var t=Po.current;ye(Po),e._currentValue=t}function Ha(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Br(e,t){jo=e,qu=Lr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(st=!0),e.firstContext=null)}function At(e){var t=e._currentValue;if(qu!==e)if(e={context:e,memoizedValue:t,next:null},Lr===null){if(jo===null)throw Error(A(308));Lr=e,jo.dependencies={lanes:0,firstContext:e}}else Lr=Lr.next=e;return t}var lr=null;function Gu(e){lr===null?lr=[e]:lr.push(e)}function Rh(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Gu(t)):(n.next=i.next,i.next=n),t.interleaved=n,mn(e,r)}function mn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Pn=!1;function Xu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Oh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function dn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function On(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,le&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,mn(e,n)}return i=r.interleaved,i===null?(t.next=t,Gu(r)):(t.next=i.next,i.next=t),r.interleaved=t,mn(e,n)}function to(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ru(e,n)}}function Ff(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,l=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};l===null?i=l=o:l=l.next=o,n=n.next}while(n!==null);l===null?i=l=t:l=l.next=t}else i=l=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:l,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function To(e,t,n,r){var i=e.updateQueue;Pn=!1;var l=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var a=s,u=a.next;a.next=null,o===null?l=u:o.next=u,o=a;var c=e.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==o&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=a))}if(l!==null){var f=i.baseState;o=0,c=u=a=null,s=l;do{var p=s.lane,h=s.eventTime;if((r&p)===p){c!==null&&(c=c.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var g=e,w=s;switch(p=t,h=n,w.tag){case 1:if(g=w.payload,typeof g=="function"){f=g.call(h,f,p);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=w.payload,p=typeof g=="function"?g.call(h,f,p):g,p==null)break e;f=Ee({},f,p);break e;case 2:Pn=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,p=i.effects,p===null?i.effects=[s]:p.push(s))}else h={eventTime:h,lane:p,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=h,a=f):c=c.next=h,o|=p;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;p=s,s=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(c===null&&(a=f),i.baseState=a,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else l===null&&(i.shared.lanes=0);pr|=o,e.lanes=o,e.memoizedState=f}}function $f(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(A(191,i));i.call(r)}}}var dl={},tn=Vn(dl),Ji=Vn(dl),el=Vn(dl);function or(e){if(e===dl)throw Error(A(174));return e}function Zu(e,t){switch(he(el,t),he(Ji,e),he(tn,dl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:_a(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=_a(t,e)}ye(tn),he(tn,t)}function Gr(){ye(tn),ye(Ji),ye(el)}function Dh(e){or(el.current);var t=or(tn.current),n=_a(t,e.type);t!==n&&(he(Ji,e),he(tn,n))}function Ju(e){Ji.current===e&&(ye(tn),ye(Ji))}var Se=Vn(0);function zo(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ds=[];function ec(){for(var e=0;e<Ds.length;e++)Ds[e]._workInProgressVersionPrimary=null;Ds.length=0}var no=yn.ReactCurrentDispatcher,Fs=yn.ReactCurrentBatchConfig,dr=0,_e=null,Ae=null,Oe=null,No=!1,Mi=!1,tl=0,f1=0;function He(){throw Error(A(321))}function tc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Vt(e[n],t[n]))return!1;return!0}function nc(e,t,n,r,i,l){if(dr=l,_e=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,no.current=e===null||e.memoizedState===null?m1:g1,e=n(r,i),Mi){l=0;do{if(Mi=!1,tl=0,25<=l)throw Error(A(301));l+=1,Oe=Ae=null,t.updateQueue=null,no.current=y1,e=n(r,i)}while(Mi)}if(no.current=Io,t=Ae!==null&&Ae.next!==null,dr=0,Oe=Ae=_e=null,No=!1,t)throw Error(A(300));return e}function rc(){var e=tl!==0;return tl=0,e}function Yt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Oe===null?_e.memoizedState=Oe=e:Oe=Oe.next=e,Oe}function Lt(){if(Ae===null){var e=_e.alternate;e=e!==null?e.memoizedState:null}else e=Ae.next;var t=Oe===null?_e.memoizedState:Oe.next;if(t!==null)Oe=t,Ae=e;else{if(e===null)throw Error(A(310));Ae=e,e={memoizedState:Ae.memoizedState,baseState:Ae.baseState,baseQueue:Ae.baseQueue,queue:Ae.queue,next:null},Oe===null?_e.memoizedState=Oe=e:Oe=Oe.next=e}return Oe}function nl(e,t){return typeof t=="function"?t(e):t}function $s(e){var t=Lt(),n=t.queue;if(n===null)throw Error(A(311));n.lastRenderedReducer=e;var r=Ae,i=r.baseQueue,l=n.pending;if(l!==null){if(i!==null){var o=i.next;i.next=l.next,l.next=o}r.baseQueue=i=l,n.pending=null}if(i!==null){l=i.next,r=r.baseState;var s=o=null,a=null,u=l;do{var c=u.lane;if((dr&c)===c)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(s=a=f,o=r):a=a.next=f,_e.lanes|=c,pr|=c}u=u.next}while(u!==null&&u!==l);a===null?o=r:a.next=s,Vt(r,t.memoizedState)||(st=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do l=i.lane,_e.lanes|=l,pr|=l,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Bs(e){var t=Lt(),n=t.queue;if(n===null)throw Error(A(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,l=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do l=e(l,o.action),o=o.next;while(o!==i);Vt(l,t.memoizedState)||(st=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),n.lastRenderedState=l}return[l,r]}function Fh(){}function $h(e,t){var n=_e,r=Lt(),i=t(),l=!Vt(r.memoizedState,i);if(l&&(r.memoizedState=i,st=!0),r=r.queue,ic(Hh.bind(null,n,r,e),[e]),r.getSnapshot!==t||l||Oe!==null&&Oe.memoizedState.tag&1){if(n.flags|=2048,rl(9,Uh.bind(null,n,r,i,t),void 0,null),De===null)throw Error(A(349));dr&30||Bh(n,t,i)}return i}function Bh(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=_e.updateQueue,t===null?(t={lastEffect:null,stores:null},_e.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Uh(e,t,n,r){t.value=n,t.getSnapshot=r,Wh(t)&&Vh(e)}function Hh(e,t,n){return n(function(){Wh(t)&&Vh(e)})}function Wh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Vt(e,n)}catch{return!0}}function Vh(e){var t=mn(e,1);t!==null&&Wt(t,e,1,-1)}function Bf(e){var t=Yt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:nl,lastRenderedState:e},t.queue=e,e=e.dispatch=h1.bind(null,_e,e),[t.memoizedState,e]}function rl(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=_e.updateQueue,t===null?(t={lastEffect:null,stores:null},_e.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Kh(){return Lt().memoizedState}function ro(e,t,n,r){var i=Yt();_e.flags|=e,i.memoizedState=rl(1|t,n,void 0,r===void 0?null:r)}function Yo(e,t,n,r){var i=Lt();r=r===void 0?null:r;var l=void 0;if(Ae!==null){var o=Ae.memoizedState;if(l=o.destroy,r!==null&&tc(r,o.deps)){i.memoizedState=rl(t,n,l,r);return}}_e.flags|=e,i.memoizedState=rl(1|t,n,l,r)}function Uf(e,t){return ro(8390656,8,e,t)}function ic(e,t){return Yo(2048,8,e,t)}function qh(e,t){return Yo(4,2,e,t)}function Qh(e,t){return Yo(4,4,e,t)}function Yh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Gh(e,t,n){return n=n!=null?n.concat([e]):null,Yo(4,4,Yh.bind(null,t,e),n)}function lc(){}function Xh(e,t){var n=Lt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&tc(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Zh(e,t){var n=Lt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&tc(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jh(e,t,n){return dr&21?(Vt(n,t)||(n=ih(),_e.lanes|=n,pr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,st=!0),e.memoizedState=n)}function d1(e,t){var n=ce;ce=n!==0&&4>n?n:4,e(!0);var r=Fs.transition;Fs.transition={};try{e(!1),t()}finally{ce=n,Fs.transition=r}}function em(){return Lt().memoizedState}function p1(e,t,n){var r=Fn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},tm(e))nm(t,n);else if(n=Rh(e,t,n,r),n!==null){var i=tt();Wt(n,e,r,i),rm(n,t,r)}}function h1(e,t,n){var r=Fn(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(tm(e))nm(t,i);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var o=t.lastRenderedState,s=l(o,n);if(i.hasEagerState=!0,i.eagerState=s,Vt(s,o)){var a=t.interleaved;a===null?(i.next=i,Gu(t)):(i.next=a.next,a.next=i),t.interleaved=i;return}}catch{}finally{}n=Rh(e,t,i,r),n!==null&&(i=tt(),Wt(n,e,r,i),rm(n,t,r))}}function tm(e){var t=e.alternate;return e===_e||t!==null&&t===_e}function nm(e,t){Mi=No=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function rm(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ru(e,n)}}var Io={readContext:At,useCallback:He,useContext:He,useEffect:He,useImperativeHandle:He,useInsertionEffect:He,useLayoutEffect:He,useMemo:He,useReducer:He,useRef:He,useState:He,useDebugValue:He,useDeferredValue:He,useTransition:He,useMutableSource:He,useSyncExternalStore:He,useId:He,unstable_isNewReconciler:!1},m1={readContext:At,useCallback:function(e,t){return Yt().memoizedState=[e,t===void 0?null:t],e},useContext:At,useEffect:Uf,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ro(4194308,4,Yh.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ro(4194308,4,e,t)},useInsertionEffect:function(e,t){return ro(4,2,e,t)},useMemo:function(e,t){var n=Yt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Yt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=p1.bind(null,_e,e),[r.memoizedState,e]},useRef:function(e){var t=Yt();return e={current:e},t.memoizedState=e},useState:Bf,useDebugValue:lc,useDeferredValue:function(e){return Yt().memoizedState=e},useTransition:function(){var e=Bf(!1),t=e[0];return e=d1.bind(null,e[1]),Yt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=_e,i=Yt();if(we){if(n===void 0)throw Error(A(407));n=n()}else{if(n=t(),De===null)throw Error(A(349));dr&30||Bh(r,t,n)}i.memoizedState=n;var l={value:n,getSnapshot:t};return i.queue=l,Uf(Hh.bind(null,r,l,e),[e]),r.flags|=2048,rl(9,Uh.bind(null,r,l,n,t),void 0,null),n},useId:function(){var e=Yt(),t=De.identifierPrefix;if(we){var n=cn,r=un;n=(r&~(1<<32-Ht(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=tl++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=f1++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},g1={readContext:At,useCallback:Xh,useContext:At,useEffect:ic,useImperativeHandle:Gh,useInsertionEffect:qh,useLayoutEffect:Qh,useMemo:Zh,useReducer:$s,useRef:Kh,useState:function(){return $s(nl)},useDebugValue:lc,useDeferredValue:function(e){var t=Lt();return Jh(t,Ae.memoizedState,e)},useTransition:function(){var e=$s(nl)[0],t=Lt().memoizedState;return[e,t]},useMutableSource:Fh,useSyncExternalStore:$h,useId:em,unstable_isNewReconciler:!1},y1={readContext:At,useCallback:Xh,useContext:At,useEffect:ic,useImperativeHandle:Gh,useInsertionEffect:qh,useLayoutEffect:Qh,useMemo:Zh,useReducer:Bs,useRef:Kh,useState:function(){return Bs(nl)},useDebugValue:lc,useDeferredValue:function(e){var t=Lt();return Ae===null?t.memoizedState=e:Jh(t,Ae.memoizedState,e)},useTransition:function(){var e=Bs(nl)[0],t=Lt().memoizedState;return[e,t]},useMutableSource:Fh,useSyncExternalStore:$h,useId:em,unstable_isNewReconciler:!1};function Ft(e,t){if(e&&e.defaultProps){t=Ee({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Wa(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ee({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Go={isMounted:function(e){return(e=e._reactInternals)?yr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tt(),i=Fn(e),l=dn(r,i);l.payload=t,n!=null&&(l.callback=n),t=On(e,l,i),t!==null&&(Wt(t,e,i,r),to(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tt(),i=Fn(e),l=dn(r,i);l.tag=1,l.payload=t,n!=null&&(l.callback=n),t=On(e,l,i),t!==null&&(Wt(t,e,i,r),to(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tt(),r=Fn(e),i=dn(n,r);i.tag=2,t!=null&&(i.callback=t),t=On(e,i,r),t!==null&&(Wt(t,e,r,n),to(t,e,r))}};function Hf(e,t,n,r,i,l,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,l,o):t.prototype&&t.prototype.isPureReactComponent?!Yi(n,r)||!Yi(i,l):!0}function im(e,t,n){var r=!1,i=Un,l=t.contextType;return typeof l=="object"&&l!==null?l=At(l):(i=ut(t)?cr:qe.current,r=t.contextTypes,l=(r=r!=null)?qr(e,i):Un),t=new t(n,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Go,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=l),t}function Wf(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Go.enqueueReplaceState(t,t.state,null)}function Va(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Xu(e);var l=t.contextType;typeof l=="object"&&l!==null?i.context=At(l):(l=ut(t)?cr:qe.current,i.context=qr(e,l)),i.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(Wa(e,t,l,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Go.enqueueReplaceState(i,i.state,null),To(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Xr(e,t){try{var n="",r=t;do n+=Vy(r),r=r.return;while(r);var i=n}catch(l){i=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:i,digest:null}}function Us(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ka(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var v1=typeof WeakMap=="function"?WeakMap:Map;function lm(e,t,n){n=dn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Lo||(Lo=!0,nu=r),Ka(e,t)},n}function om(e,t,n){n=dn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Ka(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(n.callback=function(){Ka(e,t),typeof r!="function"&&(Dn===null?Dn=new Set([this]):Dn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Vf(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new v1;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=I1.bind(null,e,t,n),t.then(e,e))}function Kf(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function qf(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=dn(-1,1),t.tag=2,On(n,t,1))),n.lanes|=1),e)}var x1=yn.ReactCurrentOwner,st=!1;function Ze(e,t,n,r){t.child=e===null?Mh(t,null,n,r):Yr(t,e.child,n,r)}function Qf(e,t,n,r,i){n=n.render;var l=t.ref;return Br(t,i),r=nc(e,t,n,r,l,i),n=rc(),e!==null&&!st?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,gn(e,t,i)):(we&&n&&Wu(t),t.flags|=1,Ze(e,t,r,i),t.child)}function Yf(e,t,n,r,i){if(e===null){var l=n.type;return typeof l=="function"&&!pc(l)&&l.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=l,sm(e,t,l,r,i)):(e=so(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&i)){var o=l.memoizedProps;if(n=n.compare,n=n!==null?n:Yi,n(o,r)&&e.ref===t.ref)return gn(e,t,i)}return t.flags|=1,e=$n(l,r),e.ref=t.ref,e.return=t,t.child=e}function sm(e,t,n,r,i){if(e!==null){var l=e.memoizedProps;if(Yi(l,r)&&e.ref===t.ref)if(st=!1,t.pendingProps=r=l,(e.lanes&i)!==0)e.flags&131072&&(st=!0);else return t.lanes=e.lanes,gn(e,t,i)}return qa(e,t,n,r,i)}function am(e,t,n){var r=t.pendingProps,i=r.children,l=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},he(Rr,vt),vt|=n;else{if(!(n&1073741824))return e=l!==null?l.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,he(Rr,vt),vt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=l!==null?l.baseLanes:n,he(Rr,vt),vt|=r}else l!==null?(r=l.baseLanes|n,t.memoizedState=null):r=n,he(Rr,vt),vt|=r;return Ze(e,t,i,n),t.child}function um(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function qa(e,t,n,r,i){var l=ut(n)?cr:qe.current;return l=qr(t,l),Br(t,i),n=nc(e,t,n,r,l,i),r=rc(),e!==null&&!st?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,gn(e,t,i)):(we&&r&&Wu(t),t.flags|=1,Ze(e,t,n,i),t.child)}function Gf(e,t,n,r,i){if(ut(n)){var l=!0;Eo(t)}else l=!1;if(Br(t,i),t.stateNode===null)io(e,t),im(t,n,r),Va(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,s=t.memoizedProps;o.props=s;var a=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=At(u):(u=ut(n)?cr:qe.current,u=qr(t,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==r||a!==u)&&Wf(t,o,r,u),Pn=!1;var p=t.memoizedState;o.state=p,To(t,r,o,i),a=t.memoizedState,s!==r||p!==a||at.current||Pn?(typeof c=="function"&&(Wa(t,n,c,r),a=t.memoizedState),(s=Pn||Hf(t,n,s,r,p,a,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),o.props=r,o.state=a,o.context=u,r=s):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Oh(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:Ft(t.type,s),o.props=u,f=t.pendingProps,p=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=At(a):(a=ut(n)?cr:qe.current,a=qr(t,a));var h=n.getDerivedStateFromProps;(c=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==f||p!==a)&&Wf(t,o,r,a),Pn=!1,p=t.memoizedState,o.state=p,To(t,r,o,i);var g=t.memoizedState;s!==f||p!==g||at.current||Pn?(typeof h=="function"&&(Wa(t,n,h,r),g=t.memoizedState),(u=Pn||Hf(t,n,u,r,p,g,a)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,a)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),o.props=r,o.state=g,o.context=a,r=u):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return Qa(e,t,n,r,l,i)}function Qa(e,t,n,r,i,l){um(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&Mf(t,n,!1),gn(e,t,l);r=t.stateNode,x1.current=t;var s=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Yr(t,e.child,null,l),t.child=Yr(t,null,s,l)):Ze(e,t,s,l),t.memoizedState=r.state,i&&Mf(t,n,!0),t.child}function cm(e){var t=e.stateNode;t.pendingContext?Lf(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Lf(e,t.context,!1),Zu(e,t.containerInfo)}function Xf(e,t,n,r,i){return Qr(),Ku(i),t.flags|=256,Ze(e,t,n,r),t.child}var Ya={dehydrated:null,treeContext:null,retryLane:0};function Ga(e){return{baseLanes:e,cachePool:null,transitions:null}}function fm(e,t,n){var r=t.pendingProps,i=Se.current,l=!1,o=(t.flags&128)!==0,s;if((s=o)||(s=e!==null&&e.memoizedState===null?!1:(i&2)!==0),s?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),he(Se,i&1),e===null)return Ua(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,l?(r=t.mode,l=t.child,o={mode:"hidden",children:o},!(r&1)&&l!==null?(l.childLanes=0,l.pendingProps=o):l=Jo(o,r,0,null),e=ar(e,r,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=Ga(n),t.memoizedState=Ya,e):oc(t,o));if(i=e.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return w1(e,t,o,r,s,i,n);if(l){l=r.fallback,o=t.mode,i=e.child,s=i.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=$n(i,a),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?l=$n(s,l):(l=ar(l,o,n,null),l.flags|=2),l.return=t,r.return=t,r.sibling=l,t.child=r,r=l,l=t.child,o=e.child.memoizedState,o=o===null?Ga(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},l.memoizedState=o,l.childLanes=e.childLanes&~n,t.memoizedState=Ya,r}return l=e.child,e=l.sibling,r=$n(l,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function oc(e,t){return t=Jo({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Dl(e,t,n,r){return r!==null&&Ku(r),Yr(t,e.child,null,n),e=oc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function w1(e,t,n,r,i,l,o){if(n)return t.flags&256?(t.flags&=-257,r=Us(Error(A(422))),Dl(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=r.fallback,i=t.mode,r=Jo({mode:"visible",children:r.children},i,0,null),l=ar(l,i,o,null),l.flags|=2,r.return=t,l.return=t,r.sibling=l,t.child=r,t.mode&1&&Yr(t,e.child,null,o),t.child.memoizedState=Ga(o),t.memoizedState=Ya,l);if(!(t.mode&1))return Dl(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,l=Error(A(419)),r=Us(l,r,void 0),Dl(e,t,o,r)}if(s=(o&e.childLanes)!==0,st||s){if(r=De,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==l.retryLane&&(l.retryLane=i,mn(e,i),Wt(r,e,i,-1))}return dc(),r=Us(Error(A(421))),Dl(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=A1.bind(null,e),i._reactRetry=t,null):(e=l.treeContext,xt=Rn(i.nextSibling),kt=t,we=!0,Bt=null,e!==null&&(bt[Pt++]=un,bt[Pt++]=cn,bt[Pt++]=fr,un=e.id,cn=e.overflow,fr=t),t=oc(t,r.children),t.flags|=4096,t)}function Zf(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ha(e.return,t,n)}function Hs(e,t,n,r,i){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=r,l.tail=n,l.tailMode=i)}function dm(e,t,n){var r=t.pendingProps,i=r.revealOrder,l=r.tail;if(Ze(e,t,r.children,n),r=Se.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Zf(e,n,t);else if(e.tag===19)Zf(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(he(Se,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&zo(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Hs(t,!1,i,n,l);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&zo(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Hs(t,!0,n,null,l);break;case"together":Hs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function io(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function gn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),pr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(A(153));if(t.child!==null){for(e=t.child,n=$n(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=$n(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function k1(e,t,n){switch(t.tag){case 3:cm(t),Qr();break;case 5:Dh(t);break;case 1:ut(t.type)&&Eo(t);break;case 4:Zu(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;he(Po,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(he(Se,Se.current&1),t.flags|=128,null):n&t.child.childLanes?fm(e,t,n):(he(Se,Se.current&1),e=gn(e,t,n),e!==null?e.sibling:null);he(Se,Se.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return dm(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),he(Se,Se.current),r)break;return null;case 22:case 23:return t.lanes=0,am(e,t,n)}return gn(e,t,n)}var pm,Xa,hm,mm;pm=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Xa=function(){};hm=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,or(tn.current);var l=null;switch(n){case"input":i=xa(e,i),r=xa(e,r),l=[];break;case"select":i=Ee({},i,{value:void 0}),r=Ee({},r,{value:void 0}),l=[];break;case"textarea":i=Sa(e,i),r=Sa(e,r),l=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=So)}Ea(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(o in s)s.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ui.hasOwnProperty(u)?l||(l=[]):(l=l||[]).push(u,null));for(u in r){var a=r[u];if(s=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&a!==s&&(a!=null||s!=null))if(u==="style")if(s){for(o in s)!s.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&s[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(l||(l=[]),l.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,s=s?s.__html:void 0,a!=null&&s!==a&&(l=l||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(l=l||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ui.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&ge("scroll",e),l||s===a||(l=[])):(l=l||[]).push(u,a))}n&&(l=l||[]).push("style",n);var u=l;(t.updateQueue=u)&&(t.flags|=4)}};mm=function(e,t,n,r){n!==r&&(t.flags|=4)};function hi(e,t){if(!we)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function We(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function S1(e,t,n){var r=t.pendingProps;switch(Vu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return We(t),null;case 1:return ut(t.type)&&_o(),We(t),null;case 3:return r=t.stateNode,Gr(),ye(at),ye(qe),ec(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Rl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Bt!==null&&(lu(Bt),Bt=null))),Xa(e,t),We(t),null;case 5:Ju(t);var i=or(el.current);if(n=t.type,e!==null&&t.stateNode!=null)hm(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(A(166));return We(t),null}if(e=or(tn.current),Rl(t)){r=t.stateNode,n=t.type;var l=t.memoizedProps;switch(r[Zt]=t,r[Zi]=l,e=(t.mode&1)!==0,n){case"dialog":ge("cancel",r),ge("close",r);break;case"iframe":case"object":case"embed":ge("load",r);break;case"video":case"audio":for(i=0;i<ji.length;i++)ge(ji[i],r);break;case"source":ge("error",r);break;case"img":case"image":case"link":ge("error",r),ge("load",r);break;case"details":ge("toggle",r);break;case"input":sf(r,l),ge("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!l.multiple},ge("invalid",r);break;case"textarea":uf(r,l),ge("invalid",r)}Ea(n,l),i=null;for(var o in l)if(l.hasOwnProperty(o)){var s=l[o];o==="children"?typeof s=="string"?r.textContent!==s&&(l.suppressHydrationWarning!==!0&&Ml(r.textContent,s,e),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(l.suppressHydrationWarning!==!0&&Ml(r.textContent,s,e),i=["children",""+s]):Ui.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&ge("scroll",r)}switch(n){case"input":Pl(r),af(r,l,!0);break;case"textarea":Pl(r),cf(r);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(r.onclick=So)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Hp(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Zt]=t,e[Zi]=r,pm(e,t,!1,!1),t.stateNode=e;e:{switch(o=Ca(n,r),n){case"dialog":ge("cancel",e),ge("close",e),i=r;break;case"iframe":case"object":case"embed":ge("load",e),i=r;break;case"video":case"audio":for(i=0;i<ji.length;i++)ge(ji[i],e);i=r;break;case"source":ge("error",e),i=r;break;case"img":case"image":case"link":ge("error",e),ge("load",e),i=r;break;case"details":ge("toggle",e),i=r;break;case"input":sf(e,r),i=xa(e,r),ge("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Ee({},r,{value:void 0}),ge("invalid",e);break;case"textarea":uf(e,r),i=Sa(e,r),ge("invalid",e);break;default:i=r}Ea(n,i),s=i;for(l in s)if(s.hasOwnProperty(l)){var a=s[l];l==="style"?Kp(e,a):l==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Wp(e,a)):l==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Hi(e,a):typeof a=="number"&&Hi(e,""+a):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Ui.hasOwnProperty(l)?a!=null&&l==="onScroll"&&ge("scroll",e):a!=null&&zu(e,l,a,o))}switch(n){case"input":Pl(e),af(e,r,!1);break;case"textarea":Pl(e),cf(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Bn(r.value));break;case"select":e.multiple=!!r.multiple,l=r.value,l!=null?Or(e,!!r.multiple,l,!1):r.defaultValue!=null&&Or(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=So)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return We(t),null;case 6:if(e&&t.stateNode!=null)mm(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(A(166));if(n=or(el.current),or(tn.current),Rl(t)){if(r=t.stateNode,n=t.memoizedProps,r[Zt]=t,(l=r.nodeValue!==n)&&(e=kt,e!==null))switch(e.tag){case 3:Ml(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ml(r.nodeValue,n,(e.mode&1)!==0)}l&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Zt]=t,t.stateNode=r}return We(t),null;case 13:if(ye(Se),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(we&&xt!==null&&t.mode&1&&!(t.flags&128))Ah(),Qr(),t.flags|=98560,l=!1;else if(l=Rl(t),r!==null&&r.dehydrated!==null){if(e===null){if(!l)throw Error(A(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(A(317));l[Zt]=t}else Qr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;We(t),l=!1}else Bt!==null&&(lu(Bt),Bt=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Se.current&1?Le===0&&(Le=3):dc())),t.updateQueue!==null&&(t.flags|=4),We(t),null);case 4:return Gr(),Xa(e,t),e===null&&Gi(t.stateNode.containerInfo),We(t),null;case 10:return Yu(t.type._context),We(t),null;case 17:return ut(t.type)&&_o(),We(t),null;case 19:if(ye(Se),l=t.memoizedState,l===null)return We(t),null;if(r=(t.flags&128)!==0,o=l.rendering,o===null)if(r)hi(l,!1);else{if(Le!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=zo(e),o!==null){for(t.flags|=128,hi(l,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)l=n,e=r,l.flags&=14680066,o=l.alternate,o===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=o.childLanes,l.lanes=o.lanes,l.child=o.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=o.memoizedProps,l.memoizedState=o.memoizedState,l.updateQueue=o.updateQueue,l.type=o.type,e=o.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return he(Se,Se.current&1|2),t.child}e=e.sibling}l.tail!==null&&je()>Zr&&(t.flags|=128,r=!0,hi(l,!1),t.lanes=4194304)}else{if(!r)if(e=zo(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),hi(l,!0),l.tail===null&&l.tailMode==="hidden"&&!o.alternate&&!we)return We(t),null}else 2*je()-l.renderingStartTime>Zr&&n!==1073741824&&(t.flags|=128,r=!0,hi(l,!1),t.lanes=4194304);l.isBackwards?(o.sibling=t.child,t.child=o):(n=l.last,n!==null?n.sibling=o:t.child=o,l.last=o)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=je(),t.sibling=null,n=Se.current,he(Se,r?n&1|2:n&1),t):(We(t),null);case 22:case 23:return fc(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?vt&1073741824&&(We(t),t.subtreeFlags&6&&(t.flags|=8192)):We(t),null;case 24:return null;case 25:return null}throw Error(A(156,t.tag))}function _1(e,t){switch(Vu(t),t.tag){case 1:return ut(t.type)&&_o(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Gr(),ye(at),ye(qe),ec(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ju(t),null;case 13:if(ye(Se),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(A(340));Qr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ye(Se),null;case 4:return Gr(),null;case 10:return Yu(t.type._context),null;case 22:case 23:return fc(),null;case 24:return null;default:return null}}var Fl=!1,Ke=!1,E1=typeof WeakSet=="function"?WeakSet:Set,U=null;function Mr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ce(e,t,r)}else n.current=null}function Za(e,t,n){try{n()}catch(r){Ce(e,t,r)}}var Jf=!1;function C1(e,t){if(Ma=xo,e=wh(),Hu(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,l=r.focusNode;r=r.focusOffset;try{n.nodeType,l.nodeType}catch{n=null;break e}var o=0,s=-1,a=-1,u=0,c=0,f=e,p=null;t:for(;;){for(var h;f!==n||i!==0&&f.nodeType!==3||(s=o+i),f!==l||r!==0&&f.nodeType!==3||(a=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(h=f.firstChild)!==null;)p=f,f=h;for(;;){if(f===e)break t;if(p===n&&++u===i&&(s=o),p===l&&++c===r&&(a=o),(h=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=h}n=s===-1||a===-1?null:{start:s,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ra={focusedElem:e,selectionRange:n},xo=!1,U=t;U!==null;)if(t=U,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,U=e;else for(;U!==null;){t=U;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var w=g.memoizedProps,j=g.memoizedState,m=t.stateNode,y=m.getSnapshotBeforeUpdate(t.elementType===t.type?w:Ft(t.type,w),j);m.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(A(163))}}catch(E){Ce(t,t.return,E)}if(e=t.sibling,e!==null){e.return=t.return,U=e;break}U=t.return}return g=Jf,Jf=!1,g}function Ri(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var l=i.destroy;i.destroy=void 0,l!==void 0&&Za(t,n,l)}i=i.next}while(i!==r)}}function Xo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Ja(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function gm(e){var t=e.alternate;t!==null&&(e.alternate=null,gm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Zt],delete t[Zi],delete t[Fa],delete t[s1],delete t[a1])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ym(e){return e.tag===5||e.tag===3||e.tag===4}function ed(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ym(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function eu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=So));else if(r!==4&&(e=e.child,e!==null))for(eu(e,t,n),e=e.sibling;e!==null;)eu(e,t,n),e=e.sibling}function tu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(tu(e,t,n),e=e.sibling;e!==null;)tu(e,t,n),e=e.sibling}var $e=null,$t=!1;function xn(e,t,n){for(n=n.child;n!==null;)vm(e,t,n),n=n.sibling}function vm(e,t,n){if(en&&typeof en.onCommitFiberUnmount=="function")try{en.onCommitFiberUnmount(Ho,n)}catch{}switch(n.tag){case 5:Ke||Mr(n,t);case 6:var r=$e,i=$t;$e=null,xn(e,t,n),$e=r,$t=i,$e!==null&&($t?(e=$e,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):$e.removeChild(n.stateNode));break;case 18:$e!==null&&($t?(e=$e,n=n.stateNode,e.nodeType===8?Rs(e.parentNode,n):e.nodeType===1&&Rs(e,n),qi(e)):Rs($e,n.stateNode));break;case 4:r=$e,i=$t,$e=n.stateNode.containerInfo,$t=!0,xn(e,t,n),$e=r,$t=i;break;case 0:case 11:case 14:case 15:if(!Ke&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var l=i,o=l.destroy;l=l.tag,o!==void 0&&(l&2||l&4)&&Za(n,t,o),i=i.next}while(i!==r)}xn(e,t,n);break;case 1:if(!Ke&&(Mr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Ce(n,t,s)}xn(e,t,n);break;case 21:xn(e,t,n);break;case 22:n.mode&1?(Ke=(r=Ke)||n.memoizedState!==null,xn(e,t,n),Ke=r):xn(e,t,n);break;default:xn(e,t,n)}}function td(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new E1),t.forEach(function(r){var i=L1.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Dt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var l=e,o=t,s=o;e:for(;s!==null;){switch(s.tag){case 5:$e=s.stateNode,$t=!1;break e;case 3:$e=s.stateNode.containerInfo,$t=!0;break e;case 4:$e=s.stateNode.containerInfo,$t=!0;break e}s=s.return}if($e===null)throw Error(A(160));vm(l,o,i),$e=null,$t=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(u){Ce(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)xm(t,e),t=t.sibling}function xm(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Dt(t,e),Qt(e),r&4){try{Ri(3,e,e.return),Xo(3,e)}catch(w){Ce(e,e.return,w)}try{Ri(5,e,e.return)}catch(w){Ce(e,e.return,w)}}break;case 1:Dt(t,e),Qt(e),r&512&&n!==null&&Mr(n,n.return);break;case 5:if(Dt(t,e),Qt(e),r&512&&n!==null&&Mr(n,n.return),e.flags&32){var i=e.stateNode;try{Hi(i,"")}catch(w){Ce(e,e.return,w)}}if(r&4&&(i=e.stateNode,i!=null)){var l=e.memoizedProps,o=n!==null?n.memoizedProps:l,s=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{s==="input"&&l.type==="radio"&&l.name!=null&&Bp(i,l),Ca(s,o);var u=Ca(s,l);for(o=0;o<a.length;o+=2){var c=a[o],f=a[o+1];c==="style"?Kp(i,f):c==="dangerouslySetInnerHTML"?Wp(i,f):c==="children"?Hi(i,f):zu(i,c,f,u)}switch(s){case"input":wa(i,l);break;case"textarea":Up(i,l);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!l.multiple;var h=l.value;h!=null?Or(i,!!l.multiple,h,!1):p!==!!l.multiple&&(l.defaultValue!=null?Or(i,!!l.multiple,l.defaultValue,!0):Or(i,!!l.multiple,l.multiple?[]:"",!1))}i[Zi]=l}catch(w){Ce(e,e.return,w)}}break;case 6:if(Dt(t,e),Qt(e),r&4){if(e.stateNode===null)throw Error(A(162));i=e.stateNode,l=e.memoizedProps;try{i.nodeValue=l}catch(w){Ce(e,e.return,w)}}break;case 3:if(Dt(t,e),Qt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{qi(t.containerInfo)}catch(w){Ce(e,e.return,w)}break;case 4:Dt(t,e),Qt(e);break;case 13:Dt(t,e),Qt(e),i=e.child,i.flags&8192&&(l=i.memoizedState!==null,i.stateNode.isHidden=l,!l||i.alternate!==null&&i.alternate.memoizedState!==null||(uc=je())),r&4&&td(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(Ke=(u=Ke)||c,Dt(t,e),Ke=u):Dt(t,e),Qt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(U=e,c=e.child;c!==null;){for(f=U=c;U!==null;){switch(p=U,h=p.child,p.tag){case 0:case 11:case 14:case 15:Ri(4,p,p.return);break;case 1:Mr(p,p.return);var g=p.stateNode;if(typeof g.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(w){Ce(r,n,w)}}break;case 5:Mr(p,p.return);break;case 22:if(p.memoizedState!==null){rd(f);continue}}h!==null?(h.return=p,U=h):rd(f)}c=c.sibling}e:for(c=null,f=e;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(l=i.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(s=f.stateNode,a=f.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,s.style.display=Vp("display",o))}catch(w){Ce(e,e.return,w)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(w){Ce(e,e.return,w)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Dt(t,e),Qt(e),r&4&&td(e);break;case 21:break;default:Dt(t,e),Qt(e)}}function Qt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(ym(n)){var r=n;break e}n=n.return}throw Error(A(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Hi(i,""),r.flags&=-33);var l=ed(e);tu(e,l,i);break;case 3:case 4:var o=r.stateNode.containerInfo,s=ed(e);eu(e,s,o);break;default:throw Error(A(161))}}catch(a){Ce(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function b1(e,t,n){U=e,wm(e)}function wm(e,t,n){for(var r=(e.mode&1)!==0;U!==null;){var i=U,l=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Fl;if(!o){var s=i.alternate,a=s!==null&&s.memoizedState!==null||Ke;s=Fl;var u=Ke;if(Fl=o,(Ke=a)&&!u)for(U=i;U!==null;)o=U,a=o.child,o.tag===22&&o.memoizedState!==null?id(i):a!==null?(a.return=o,U=a):id(i);for(;l!==null;)U=l,wm(l),l=l.sibling;U=i,Fl=s,Ke=u}nd(e)}else i.subtreeFlags&8772&&l!==null?(l.return=i,U=l):nd(e)}}function nd(e){for(;U!==null;){var t=U;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ke||Xo(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ke)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Ft(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&$f(t,l,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}$f(t,o,n)}break;case 5:var s=t.stateNode;if(n===null&&t.flags&4){n=s;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&qi(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(A(163))}Ke||t.flags&512&&Ja(t)}catch(p){Ce(t,t.return,p)}}if(t===e){U=null;break}if(n=t.sibling,n!==null){n.return=t.return,U=n;break}U=t.return}}function rd(e){for(;U!==null;){var t=U;if(t===e){U=null;break}var n=t.sibling;if(n!==null){n.return=t.return,U=n;break}U=t.return}}function id(e){for(;U!==null;){var t=U;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Xo(4,t)}catch(a){Ce(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(a){Ce(t,i,a)}}var l=t.return;try{Ja(t)}catch(a){Ce(t,l,a)}break;case 5:var o=t.return;try{Ja(t)}catch(a){Ce(t,o,a)}}}catch(a){Ce(t,t.return,a)}if(t===e){U=null;break}var s=t.sibling;if(s!==null){s.return=t.return,U=s;break}U=t.return}}var P1=Math.ceil,Ao=yn.ReactCurrentDispatcher,sc=yn.ReactCurrentOwner,Nt=yn.ReactCurrentBatchConfig,le=0,De=null,Ne=null,Be=0,vt=0,Rr=Vn(0),Le=0,il=null,pr=0,Zo=0,ac=0,Oi=null,ot=null,uc=0,Zr=1/0,sn=null,Lo=!1,nu=null,Dn=null,$l=!1,In=null,Mo=0,Di=0,ru=null,lo=-1,oo=0;function tt(){return le&6?je():lo!==-1?lo:lo=je()}function Fn(e){return e.mode&1?le&2&&Be!==0?Be&-Be:c1.transition!==null?(oo===0&&(oo=ih()),oo):(e=ce,e!==0||(e=window.event,e=e===void 0?16:fh(e.type)),e):1}function Wt(e,t,n,r){if(50<Di)throw Di=0,ru=null,Error(A(185));ul(e,n,r),(!(le&2)||e!==De)&&(e===De&&(!(le&2)&&(Zo|=n),Le===4&&zn(e,Be)),ct(e,r),n===1&&le===0&&!(t.mode&1)&&(Zr=je()+500,Qo&&Kn()))}function ct(e,t){var n=e.callbackNode;c0(e,t);var r=vo(e,e===De?Be:0);if(r===0)n!==null&&pf(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&pf(n),t===1)e.tag===0?u1(ld.bind(null,e)):zh(ld.bind(null,e)),l1(function(){!(le&6)&&Kn()}),n=null;else{switch(lh(r)){case 1:n=Mu;break;case 4:n=nh;break;case 16:n=yo;break;case 536870912:n=rh;break;default:n=yo}n=jm(n,km.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function km(e,t){if(lo=-1,oo=0,le&6)throw Error(A(327));var n=e.callbackNode;if(Ur()&&e.callbackNode!==n)return null;var r=vo(e,e===De?Be:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Ro(e,r);else{t=r;var i=le;le|=2;var l=_m();(De!==e||Be!==t)&&(sn=null,Zr=je()+500,sr(e,t));do try{z1();break}catch(s){Sm(e,s)}while(!0);Qu(),Ao.current=l,le=i,Ne!==null?t=0:(De=null,Be=0,t=Le)}if(t!==0){if(t===2&&(i=za(e),i!==0&&(r=i,t=iu(e,i))),t===1)throw n=il,sr(e,0),zn(e,r),ct(e,je()),n;if(t===6)zn(e,r);else{if(i=e.current.alternate,!(r&30)&&!j1(i)&&(t=Ro(e,r),t===2&&(l=za(e),l!==0&&(r=l,t=iu(e,l))),t===1))throw n=il,sr(e,0),zn(e,r),ct(e,je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(A(345));case 2:tr(e,ot,sn);break;case 3:if(zn(e,r),(r&130023424)===r&&(t=uc+500-je(),10<t)){if(vo(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){tt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Da(tr.bind(null,e,ot,sn),t);break}tr(e,ot,sn);break;case 4:if(zn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-Ht(r);l=1<<o,o=t[o],o>i&&(i=o),r&=~l}if(r=i,r=je()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*P1(r/1960))-r,10<r){e.timeoutHandle=Da(tr.bind(null,e,ot,sn),r);break}tr(e,ot,sn);break;case 5:tr(e,ot,sn);break;default:throw Error(A(329))}}}return ct(e,je()),e.callbackNode===n?km.bind(null,e):null}function iu(e,t){var n=Oi;return e.current.memoizedState.isDehydrated&&(sr(e,t).flags|=256),e=Ro(e,t),e!==2&&(t=ot,ot=n,t!==null&&lu(t)),e}function lu(e){ot===null?ot=e:ot.push.apply(ot,e)}function j1(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],l=i.getSnapshot;i=i.value;try{if(!Vt(l(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function zn(e,t){for(t&=~ac,t&=~Zo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ht(t),r=1<<n;e[n]=-1,t&=~r}}function ld(e){if(le&6)throw Error(A(327));Ur();var t=vo(e,0);if(!(t&1))return ct(e,je()),null;var n=Ro(e,t);if(e.tag!==0&&n===2){var r=za(e);r!==0&&(t=r,n=iu(e,r))}if(n===1)throw n=il,sr(e,0),zn(e,t),ct(e,je()),n;if(n===6)throw Error(A(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,tr(e,ot,sn),ct(e,je()),null}function cc(e,t){var n=le;le|=1;try{return e(t)}finally{le=n,le===0&&(Zr=je()+500,Qo&&Kn())}}function hr(e){In!==null&&In.tag===0&&!(le&6)&&Ur();var t=le;le|=1;var n=Nt.transition,r=ce;try{if(Nt.transition=null,ce=1,e)return e()}finally{ce=r,Nt.transition=n,le=t,!(le&6)&&Kn()}}function fc(){vt=Rr.current,ye(Rr)}function sr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,i1(n)),Ne!==null)for(n=Ne.return;n!==null;){var r=n;switch(Vu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&_o();break;case 3:Gr(),ye(at),ye(qe),ec();break;case 5:Ju(r);break;case 4:Gr();break;case 13:ye(Se);break;case 19:ye(Se);break;case 10:Yu(r.type._context);break;case 22:case 23:fc()}n=n.return}if(De=e,Ne=e=$n(e.current,null),Be=vt=t,Le=0,il=null,ac=Zo=pr=0,ot=Oi=null,lr!==null){for(t=0;t<lr.length;t++)if(n=lr[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,l=n.pending;if(l!==null){var o=l.next;l.next=i,r.next=o}n.pending=r}lr=null}return e}function Sm(e,t){do{var n=Ne;try{if(Qu(),no.current=Io,No){for(var r=_e.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}No=!1}if(dr=0,Oe=Ae=_e=null,Mi=!1,tl=0,sc.current=null,n===null||n.return===null){Le=1,il=t,Ne=null;break}e:{var l=e,o=n.return,s=n,a=t;if(t=Be,s.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,c=s,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var p=c.alternate;p?(c.updateQueue=p.updateQueue,c.memoizedState=p.memoizedState,c.lanes=p.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=Kf(o);if(h!==null){h.flags&=-257,qf(h,o,s,l,t),h.mode&1&&Vf(l,u,t),t=h,a=u;var g=t.updateQueue;if(g===null){var w=new Set;w.add(a),t.updateQueue=w}else g.add(a);break e}else{if(!(t&1)){Vf(l,u,t),dc();break e}a=Error(A(426))}}else if(we&&s.mode&1){var j=Kf(o);if(j!==null){!(j.flags&65536)&&(j.flags|=256),qf(j,o,s,l,t),Ku(Xr(a,s));break e}}l=a=Xr(a,s),Le!==4&&(Le=2),Oi===null?Oi=[l]:Oi.push(l),l=o;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var m=lm(l,a,t);Ff(l,m);break e;case 1:s=a;var y=l.type,v=l.stateNode;if(!(l.flags&128)&&(typeof y.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Dn===null||!Dn.has(v)))){l.flags|=65536,t&=-t,l.lanes|=t;var E=om(l,s,t);Ff(l,E);break e}}l=l.return}while(l!==null)}Cm(n)}catch(z){t=z,Ne===n&&n!==null&&(Ne=n=n.return);continue}break}while(!0)}function _m(){var e=Ao.current;return Ao.current=Io,e===null?Io:e}function dc(){(Le===0||Le===3||Le===2)&&(Le=4),De===null||!(pr&268435455)&&!(Zo&268435455)||zn(De,Be)}function Ro(e,t){var n=le;le|=2;var r=_m();(De!==e||Be!==t)&&(sn=null,sr(e,t));do try{T1();break}catch(i){Sm(e,i)}while(!0);if(Qu(),le=n,Ao.current=r,Ne!==null)throw Error(A(261));return De=null,Be=0,Le}function T1(){for(;Ne!==null;)Em(Ne)}function z1(){for(;Ne!==null&&!t0();)Em(Ne)}function Em(e){var t=Pm(e.alternate,e,vt);e.memoizedProps=e.pendingProps,t===null?Cm(e):Ne=t,sc.current=null}function Cm(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=_1(n,t),n!==null){n.flags&=32767,Ne=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Le=6,Ne=null;return}}else if(n=S1(n,t,vt),n!==null){Ne=n;return}if(t=t.sibling,t!==null){Ne=t;return}Ne=t=e}while(t!==null);Le===0&&(Le=5)}function tr(e,t,n){var r=ce,i=Nt.transition;try{Nt.transition=null,ce=1,N1(e,t,n,r)}finally{Nt.transition=i,ce=r}return null}function N1(e,t,n,r){do Ur();while(In!==null);if(le&6)throw Error(A(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(A(177));e.callbackNode=null,e.callbackPriority=0;var l=n.lanes|n.childLanes;if(f0(e,l),e===De&&(Ne=De=null,Be=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||$l||($l=!0,jm(yo,function(){return Ur(),null})),l=(n.flags&15990)!==0,n.subtreeFlags&15990||l){l=Nt.transition,Nt.transition=null;var o=ce;ce=1;var s=le;le|=4,sc.current=null,C1(e,n),xm(n,e),X0(Ra),xo=!!Ma,Ra=Ma=null,e.current=n,b1(n),n0(),le=s,ce=o,Nt.transition=l}else e.current=n;if($l&&($l=!1,In=e,Mo=i),l=e.pendingLanes,l===0&&(Dn=null),l0(n.stateNode),ct(e,je()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Lo)throw Lo=!1,e=nu,nu=null,e;return Mo&1&&e.tag!==0&&Ur(),l=e.pendingLanes,l&1?e===ru?Di++:(Di=0,ru=e):Di=0,Kn(),null}function Ur(){if(In!==null){var e=lh(Mo),t=Nt.transition,n=ce;try{if(Nt.transition=null,ce=16>e?16:e,In===null)var r=!1;else{if(e=In,In=null,Mo=0,le&6)throw Error(A(331));var i=le;for(le|=4,U=e.current;U!==null;){var l=U,o=l.child;if(U.flags&16){var s=l.deletions;if(s!==null){for(var a=0;a<s.length;a++){var u=s[a];for(U=u;U!==null;){var c=U;switch(c.tag){case 0:case 11:case 15:Ri(8,c,l)}var f=c.child;if(f!==null)f.return=c,U=f;else for(;U!==null;){c=U;var p=c.sibling,h=c.return;if(gm(c),c===u){U=null;break}if(p!==null){p.return=h,U=p;break}U=h}}}var g=l.alternate;if(g!==null){var w=g.child;if(w!==null){g.child=null;do{var j=w.sibling;w.sibling=null,w=j}while(w!==null)}}U=l}}if(l.subtreeFlags&2064&&o!==null)o.return=l,U=o;else e:for(;U!==null;){if(l=U,l.flags&2048)switch(l.tag){case 0:case 11:case 15:Ri(9,l,l.return)}var m=l.sibling;if(m!==null){m.return=l.return,U=m;break e}U=l.return}}var y=e.current;for(U=y;U!==null;){o=U;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,U=v;else e:for(o=y;U!==null;){if(s=U,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Xo(9,s)}}catch(z){Ce(s,s.return,z)}if(s===o){U=null;break e}var E=s.sibling;if(E!==null){E.return=s.return,U=E;break e}U=s.return}}if(le=i,Kn(),en&&typeof en.onPostCommitFiberRoot=="function")try{en.onPostCommitFiberRoot(Ho,e)}catch{}r=!0}return r}finally{ce=n,Nt.transition=t}}return!1}function od(e,t,n){t=Xr(n,t),t=lm(e,t,1),e=On(e,t,1),t=tt(),e!==null&&(ul(e,1,t),ct(e,t))}function Ce(e,t,n){if(e.tag===3)od(e,e,n);else for(;t!==null;){if(t.tag===3){od(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Dn===null||!Dn.has(r))){e=Xr(n,e),e=om(t,e,1),t=On(t,e,1),e=tt(),t!==null&&(ul(t,1,e),ct(t,e));break}}t=t.return}}function I1(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=tt(),e.pingedLanes|=e.suspendedLanes&n,De===e&&(Be&n)===n&&(Le===4||Le===3&&(Be&130023424)===Be&&500>je()-uc?sr(e,0):ac|=n),ct(e,t)}function bm(e,t){t===0&&(e.mode&1?(t=zl,zl<<=1,!(zl&130023424)&&(zl=4194304)):t=1);var n=tt();e=mn(e,t),e!==null&&(ul(e,t,n),ct(e,n))}function A1(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),bm(e,n)}function L1(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(A(314))}r!==null&&r.delete(t),bm(e,n)}var Pm;Pm=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||at.current)st=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return st=!1,k1(e,t,n);st=!!(e.flags&131072)}else st=!1,we&&t.flags&1048576&&Nh(t,bo,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;io(e,t),e=t.pendingProps;var i=qr(t,qe.current);Br(t,n),i=nc(null,t,r,e,i,n);var l=rc();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ut(r)?(l=!0,Eo(t)):l=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Xu(t),i.updater=Go,t.stateNode=i,i._reactInternals=t,Va(t,r,e,n),t=Qa(null,t,r,!0,l,n)):(t.tag=0,we&&l&&Wu(t),Ze(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(io(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=R1(r),e=Ft(r,e),i){case 0:t=qa(null,t,r,e,n);break e;case 1:t=Gf(null,t,r,e,n);break e;case 11:t=Qf(null,t,r,e,n);break e;case 14:t=Yf(null,t,r,Ft(r.type,e),n);break e}throw Error(A(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ft(r,i),qa(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ft(r,i),Gf(e,t,r,i,n);case 3:e:{if(cm(t),e===null)throw Error(A(387));r=t.pendingProps,l=t.memoizedState,i=l.element,Oh(e,t),To(t,r,null,n);var o=t.memoizedState;if(r=o.element,l.isDehydrated)if(l={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){i=Xr(Error(A(423)),t),t=Xf(e,t,r,n,i);break e}else if(r!==i){i=Xr(Error(A(424)),t),t=Xf(e,t,r,n,i);break e}else for(xt=Rn(t.stateNode.containerInfo.firstChild),kt=t,we=!0,Bt=null,n=Mh(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Qr(),r===i){t=gn(e,t,n);break e}Ze(e,t,r,n)}t=t.child}return t;case 5:return Dh(t),e===null&&Ua(t),r=t.type,i=t.pendingProps,l=e!==null?e.memoizedProps:null,o=i.children,Oa(r,i)?o=null:l!==null&&Oa(r,l)&&(t.flags|=32),um(e,t),Ze(e,t,o,n),t.child;case 6:return e===null&&Ua(t),null;case 13:return fm(e,t,n);case 4:return Zu(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Yr(t,null,r,n):Ze(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ft(r,i),Qf(e,t,r,i,n);case 7:return Ze(e,t,t.pendingProps,n),t.child;case 8:return Ze(e,t,t.pendingProps.children,n),t.child;case 12:return Ze(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,l=t.memoizedProps,o=i.value,he(Po,r._currentValue),r._currentValue=o,l!==null)if(Vt(l.value,o)){if(l.children===i.children&&!at.current){t=gn(e,t,n);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var s=l.dependencies;if(s!==null){o=l.child;for(var a=s.firstContext;a!==null;){if(a.context===r){if(l.tag===1){a=dn(-1,n&-n),a.tag=2;var u=l.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?a.next=a:(a.next=c.next,c.next=a),u.pending=a}}l.lanes|=n,a=l.alternate,a!==null&&(a.lanes|=n),Ha(l.return,n,t),s.lanes|=n;break}a=a.next}}else if(l.tag===10)o=l.type===t.type?null:l.child;else if(l.tag===18){if(o=l.return,o===null)throw Error(A(341));o.lanes|=n,s=o.alternate,s!==null&&(s.lanes|=n),Ha(o,n,t),o=l.sibling}else o=l.child;if(o!==null)o.return=l;else for(o=l;o!==null;){if(o===t){o=null;break}if(l=o.sibling,l!==null){l.return=o.return,o=l;break}o=o.return}l=o}Ze(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Br(t,n),i=At(i),r=r(i),t.flags|=1,Ze(e,t,r,n),t.child;case 14:return r=t.type,i=Ft(r,t.pendingProps),i=Ft(r.type,i),Yf(e,t,r,i,n);case 15:return sm(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ft(r,i),io(e,t),t.tag=1,ut(r)?(e=!0,Eo(t)):e=!1,Br(t,n),im(t,r,i),Va(t,r,i,n),Qa(null,t,r,!0,e,n);case 19:return dm(e,t,n);case 22:return am(e,t,n)}throw Error(A(156,t.tag))};function jm(e,t){return th(e,t)}function M1(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zt(e,t,n,r){return new M1(e,t,n,r)}function pc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function R1(e){if(typeof e=="function")return pc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Iu)return 11;if(e===Au)return 14}return 2}function $n(e,t){var n=e.alternate;return n===null?(n=zt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function so(e,t,n,r,i,l){var o=2;if(r=e,typeof e=="function")pc(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case br:return ar(n.children,i,l,t);case Nu:o=8,i|=8;break;case ma:return e=zt(12,n,t,i|2),e.elementType=ma,e.lanes=l,e;case ga:return e=zt(13,n,t,i),e.elementType=ga,e.lanes=l,e;case ya:return e=zt(19,n,t,i),e.elementType=ya,e.lanes=l,e;case Dp:return Jo(n,i,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Rp:o=10;break e;case Op:o=9;break e;case Iu:o=11;break e;case Au:o=14;break e;case bn:o=16,r=null;break e}throw Error(A(130,e==null?e:typeof e,""))}return t=zt(o,n,t,i),t.elementType=e,t.type=r,t.lanes=l,t}function ar(e,t,n,r){return e=zt(7,e,r,t),e.lanes=n,e}function Jo(e,t,n,r){return e=zt(22,e,r,t),e.elementType=Dp,e.lanes=n,e.stateNode={isHidden:!1},e}function Ws(e,t,n){return e=zt(6,e,null,t),e.lanes=n,e}function Vs(e,t,n){return t=zt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function O1(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Cs(0),this.expirationTimes=Cs(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cs(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function hc(e,t,n,r,i,l,o,s,a){return e=new O1(e,t,n,s,a),t===1?(t=1,l===!0&&(t|=8)):t=0,l=zt(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xu(l),e}function D1(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Cr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Tm(e){if(!e)return Un;e=e._reactInternals;e:{if(yr(e)!==e||e.tag!==1)throw Error(A(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ut(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(A(171))}if(e.tag===1){var n=e.type;if(ut(n))return Th(e,n,t)}return t}function zm(e,t,n,r,i,l,o,s,a){return e=hc(n,r,!0,e,i,l,o,s,a),e.context=Tm(null),n=e.current,r=tt(),i=Fn(n),l=dn(r,i),l.callback=t??null,On(n,l,i),e.current.lanes=i,ul(e,i,r),ct(e,r),e}function es(e,t,n,r){var i=t.current,l=tt(),o=Fn(i);return n=Tm(n),t.context===null?t.context=n:t.pendingContext=n,t=dn(l,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=On(i,t,o),e!==null&&(Wt(e,i,o,l),to(e,i,o)),o}function Oo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function sd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function mc(e,t){sd(e,t),(e=e.alternate)&&sd(e,t)}function F1(){return null}var Nm=typeof reportError=="function"?reportError:function(e){console.error(e)};function gc(e){this._internalRoot=e}ts.prototype.render=gc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(A(409));es(e,t,null,null)};ts.prototype.unmount=gc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;hr(function(){es(null,e,null,null)}),t[hn]=null}};function ts(e){this._internalRoot=e}ts.prototype.unstable_scheduleHydration=function(e){if(e){var t=ah();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Tn.length&&t!==0&&t<Tn[n].priority;n++);Tn.splice(n,0,e),n===0&&ch(e)}};function yc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ns(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ad(){}function $1(e,t,n,r,i){if(i){if(typeof r=="function"){var l=r;r=function(){var u=Oo(o);l.call(u)}}var o=zm(t,r,e,0,null,!1,!1,"",ad);return e._reactRootContainer=o,e[hn]=o.current,Gi(e.nodeType===8?e.parentNode:e),hr(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var u=Oo(a);s.call(u)}}var a=hc(e,0,!1,null,null,!1,!1,"",ad);return e._reactRootContainer=a,e[hn]=a.current,Gi(e.nodeType===8?e.parentNode:e),hr(function(){es(t,a,n,r)}),a}function rs(e,t,n,r,i){var l=n._reactRootContainer;if(l){var o=l;if(typeof i=="function"){var s=i;i=function(){var a=Oo(o);s.call(a)}}es(t,o,e,i)}else o=$1(n,t,e,i,r);return Oo(o)}oh=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Pi(t.pendingLanes);n!==0&&(Ru(t,n|1),ct(t,je()),!(le&6)&&(Zr=je()+500,Kn()))}break;case 13:hr(function(){var r=mn(e,1);if(r!==null){var i=tt();Wt(r,e,1,i)}}),mc(e,1)}};Ou=function(e){if(e.tag===13){var t=mn(e,134217728);if(t!==null){var n=tt();Wt(t,e,134217728,n)}mc(e,134217728)}};sh=function(e){if(e.tag===13){var t=Fn(e),n=mn(e,t);if(n!==null){var r=tt();Wt(n,e,t,r)}mc(e,t)}};ah=function(){return ce};uh=function(e,t){var n=ce;try{return ce=e,t()}finally{ce=n}};Pa=function(e,t,n){switch(t){case"input":if(wa(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=qo(r);if(!i)throw Error(A(90));$p(r),wa(r,i)}}}break;case"textarea":Up(e,n);break;case"select":t=n.value,t!=null&&Or(e,!!n.multiple,t,!1)}};Yp=cc;Gp=hr;var B1={usingClientEntryPoint:!1,Events:[fl,zr,qo,qp,Qp,cc]},mi={findFiberByHostInstance:ir,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},U1={bundleType:mi.bundleType,version:mi.version,rendererPackageName:mi.rendererPackageName,rendererConfig:mi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:yn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Jp(e),e===null?null:e.stateNode},findFiberByHostInstance:mi.findFiberByHostInstance||F1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bl.isDisabled&&Bl.supportsFiber)try{Ho=Bl.inject(U1),en=Bl}catch{}}_t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B1;_t.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!yc(t))throw Error(A(200));return D1(e,t,null,n)};_t.createRoot=function(e,t){if(!yc(e))throw Error(A(299));var n=!1,r="",i=Nm;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=hc(e,1,!1,null,null,n,!1,r,i),e[hn]=t.current,Gi(e.nodeType===8?e.parentNode:e),new gc(t)};_t.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(A(188)):(e=Object.keys(e).join(","),Error(A(268,e)));return e=Jp(t),e=e===null?null:e.stateNode,e};_t.flushSync=function(e){return hr(e)};_t.hydrate=function(e,t,n){if(!ns(t))throw Error(A(200));return rs(null,e,t,!0,n)};_t.hydrateRoot=function(e,t,n){if(!yc(e))throw Error(A(405));var r=n!=null&&n.hydratedSources||null,i=!1,l="",o=Nm;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=zm(t,null,e,1,n??null,i,!1,l,o),e[hn]=t.current,Gi(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new ts(t)};_t.render=function(e,t,n){if(!ns(t))throw Error(A(200));return rs(null,e,t,!1,n)};_t.unmountComponentAtNode=function(e){if(!ns(e))throw Error(A(40));return e._reactRootContainer?(hr(function(){rs(null,null,e,!1,function(){e._reactRootContainer=null,e[hn]=null})}),!0):!1};_t.unstable_batchedUpdates=cc;_t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ns(n))throw Error(A(200));if(e==null||e._reactInternals===void 0)throw Error(A(38));return rs(e,t,n,!1,r)};_t.version="18.3.1-next-f1338f8080-20240426";function Im(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Im)}catch(e){console.error(e)}}Im(),Ip.exports=_t;var H1=Ip.exports,Am,ud=H1;Am=ud.createRoot,ud.hydrateRoot;const W1={color:"#9ca3af",fontSize:11,textTransform:"uppercase",letterSpacing:"0.05em"};function V1(e){return e>=50?"#4ade80":e>=10?"#fbbf24":e>=-10?"#f3f4f6":"#f87171"}function K1({novelties:e,selected:t,onSelect:n}){return d.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[d.jsx("thead",{children:d.jsx("tr",{style:{position:"sticky",top:0,background:"#030712",zIndex:1},children:["#","Move","Ply","Eval","Pre","Post","Score"].map(r=>d.jsx("th",{style:{...W1,padding:"8px 10px",textAlign:r==="#"?"center":"left",borderBottom:"1px solid #1f2937"},children:r},r))})}),d.jsx("tbody",{children:e.map((r,i)=>{const l=i===t;return d.jsxs("tr",{onClick:()=>n(i),style:{cursor:"pointer",background:l?"#1c1f2e":"transparent",borderLeft:l?"3px solid #f59e0b":"3px solid transparent",transition:"background 0.1s"},children:[d.jsx("td",{style:{padding:"7px 10px",textAlign:"center",color:"#6b7280",fontSize:12},children:r.rank}),d.jsx("td",{style:{padding:"7px 10px",fontWeight:600,fontFamily:"monospace"},children:q1(r)}),d.jsx("td",{style:{padding:"7px 10px",color:"#9ca3af",fontSize:12},children:r.book_moves_san.length+1}),d.jsxs("td",{style:{padding:"7px 10px",fontFamily:"monospace",fontSize:12,color:V1(r.eval_cp)},children:[r.eval_cp>=0?"+":"",r.eval_cp.toFixed(0)]}),d.jsx("td",{style:{padding:"7px 10px",color:"#9ca3af",fontSize:12},children:r.pre_novelty_games.toLocaleString()}),d.jsx("td",{style:{padding:"7px 10px",fontSize:12,color:r.post_novelty_games===0?"#60a5fa":"#9ca3af"},children:r.post_novelty_games===0?"TN":r.post_novelty_games}),d.jsx("td",{style:{padding:"7px 10px",color:"#fbbf24",fontSize:12},children:r.score.toFixed(1)})]},r.rank)})})]})}function q1(e){const t=e.book_moves_san.length,n=Math.floor(t/2)+1,r=t%2===1?"":".";return`${n}${r}${e.novelty_san}`}const Q1=["white","black"],vc=["a","b","c","d","e","f","g","h"],xc=["1","2","3","4","5","6","7","8"],Y1=[...xc].reverse(),wc=Array.prototype.concat(...vc.map(e=>xc.map(t=>e+t))),jt=e=>wc[8*e[0]+e[1]],Pe=e=>[e.charCodeAt(0)-97,e.charCodeAt(1)-49],Lm=wc.map(Pe);function G1(e){let t;const n=()=>(t===void 0&&(t=e()),t);return n.clear=()=>{t=void 0},n}const X1=()=>{let e;return{start(){e=performance.now()},cancel(){e=void 0},stop(){if(!e)return 0;const t=performance.now()-e;return e=void 0,t}}},kc=e=>e==="white"?"black":"white",ll=(e,t)=>{const n=e[0]-t[0],r=e[1]-t[1];return n*n+r*r},ou=(e,t)=>e.role===t.role&&e.color===t.color,pl=e=>(t,n)=>[(n?t[0]:7-t[0])*e.width/8,(n?7-t[1]:t[1])*e.height/8],Xt=(e,t)=>{e.style.transform=`translate(${t[0]}px,${t[1]}px)`},Mm=(e,t,n=1)=>{e.style.transform=`translate(${t[0]}px,${t[1]}px) scale(${n})`},Sc=(e,t)=>{e.style.visibility=t?"visible":"hidden"},vr=e=>{var t;if(e.clientX||e.clientX===0)return[e.clientX,e.clientY];if(!((t=e.targetTouches)===null||t===void 0)&&t[0])return[e.targetTouches[0].clientX,e.targetTouches[0].clientY]},Rm=e=>e.buttons===2||e.button===2,fn=(e,t)=>{const n=document.createElement(e);return t&&(n.className=t),n};function Om(e,t,n){const r=Pe(e);return t||(r[0]=7-r[0],r[1]=7-r[1]),[n.left+n.width*r[0]/8+n.width/16,n.top+n.height*(7-r[1])/8+n.height/16]}const mr=(e,t)=>Math.abs(e-t),Z1=e=>(t,n,r,i)=>mr(t,r)<2&&(e==="white"?i===n+1||n<=1&&i===n+2&&t===r:i===n-1||n>=6&&i===n-2&&t===r),Dm=(e,t,n,r)=>{const i=mr(e,n),l=mr(t,r);return i===1&&l===2||i===2&&l===1},Fm=(e,t,n,r)=>mr(e,n)===mr(t,r),$m=(e,t,n,r)=>e===n||t===r,Bm=(e,t,n,r)=>Fm(e,t,n,r)||$m(e,t,n,r),J1=(e,t,n)=>(r,i,l,o)=>mr(r,l)<2&&mr(i,o)<2||n&&i===o&&i===(e==="white"?0:7)&&(r===4&&(l===2&&t.includes(0)||l===6&&t.includes(7))||t.includes(l));function ev(e,t){const n=t==="white"?"1":"8",r=[];for(const[i,l]of e)i[1]===n&&l.color===t&&l.role==="rook"&&r.push(Pe(i)[0]);return r}function Um(e,t,n){const r=e.get(t);if(!r)return[];const i=Pe(t),l=r.role,o=l==="pawn"?Z1(r.color):l==="knight"?Dm:l==="bishop"?Fm:l==="rook"?$m:l==="queen"?Bm:J1(r.color,ev(e,r.color),n);return Lm.filter(s=>(i[0]!==s[0]||i[1]!==s[1])&&o(i[0],i[1],s[0],s[1])).map(jt)}function dt(e,...t){e&&setTimeout(()=>e(...t),1)}function tv(e){e.orientation=kc(e.orientation),e.animation.current=e.draggable.current=e.selected=void 0}function nv(e,t){for(const[n,r]of t)r?e.pieces.set(n,r):e.pieces.delete(n)}function rv(e,t){if(e.check=void 0,t===!0&&(t=e.turnColor),t)for(const[n,r]of e.pieces)r.role==="king"&&r.color===t&&(e.check=n)}function iv(e,t,n,r){Qn(e),e.premovable.current=[t,n],dt(e.premovable.events.set,t,n,r)}function qn(e){e.premovable.current&&(e.premovable.current=void 0,dt(e.premovable.events.unset))}function lv(e,t,n){qn(e),e.predroppable.current={role:t,key:n},dt(e.predroppable.events.set,t,n)}function Qn(e){const t=e.predroppable;t.current&&(t.current=void 0,dt(t.events.unset))}function ov(e,t,n){if(!e.autoCastle)return!1;const r=e.pieces.get(t);if(!r||r.role!=="king")return!1;const i=Pe(t),l=Pe(n);if(i[1]!==0&&i[1]!==7||i[1]!==l[1])return!1;i[0]===4&&!e.pieces.has(n)&&(l[0]===6?n=jt([7,l[1]]):l[0]===2&&(n=jt([0,l[1]])));const o=e.pieces.get(n);return!o||o.color!==r.color||o.role!=="rook"?!1:(e.pieces.delete(t),e.pieces.delete(n),i[0]<l[0]?(e.pieces.set(jt([6,l[1]]),r),e.pieces.set(jt([5,l[1]]),o)):(e.pieces.set(jt([2,l[1]]),r),e.pieces.set(jt([3,l[1]]),o)),!0)}function Hm(e,t,n){const r=e.pieces.get(t),i=e.pieces.get(n);if(t===n||!r)return!1;const l=i&&i.color!==r.color?i:void 0;return n===e.selected&&It(e),dt(e.events.move,t,n,l),ov(e,t,n)||(e.pieces.set(n,r),e.pieces.delete(t)),e.lastMove=[t,n],e.check=void 0,dt(e.events.change),l||!0}function _c(e,t,n,r){if(e.pieces.has(n))if(r)e.pieces.delete(n);else return!1;return dt(e.events.dropNewPiece,t,n),e.pieces.set(n,t),e.lastMove=[n],e.check=void 0,dt(e.events.change),e.movable.dests=void 0,e.turnColor=kc(e.turnColor),!0}function Wm(e,t,n){const r=Hm(e,t,n);return r&&(e.movable.dests=void 0,e.turnColor=kc(e.turnColor),e.animation.current=void 0),r}function Vm(e,t,n){if(Ec(e,t,n)){const r=Wm(e,t,n);if(r){const i=e.hold.stop();It(e);const l={premove:!1,ctrlKey:e.stats.ctrlKey,holdTime:i};return r!==!0&&(l.captured=r),dt(e.movable.events.after,t,n,l),!0}}else if(av(e,t,n))return iv(e,t,n,{ctrlKey:e.stats.ctrlKey}),It(e),!0;return It(e),!1}function Km(e,t,n,r){const i=e.pieces.get(t);i&&(sv(e,t,n)||r)?(e.pieces.delete(t),_c(e,i,n,r),dt(e.movable.events.afterNewPiece,i.role,n,{premove:!1,predrop:!1})):i&&uv(e,t,n)?lv(e,i.role,n):(qn(e),Qn(e)),e.pieces.delete(t),It(e)}function su(e,t,n){if(dt(e.events.select,t),e.selected){if(e.selected===t&&!e.draggable.enabled){It(e),e.hold.cancel();return}else if((e.selectable.enabled||n)&&e.selected!==t&&Vm(e,e.selected,t)){e.stats.dragged=!1;return}}(e.selectable.enabled||e.draggable.enabled)&&(Qm(e,t)||Cc(e,t))&&(qm(e,t),e.hold.start())}function qm(e,t){e.selected=t,Cc(e,t)?e.premovable.dests=Um(e.pieces,t,e.premovable.castle):e.premovable.dests=void 0}function It(e){e.selected=void 0,e.premovable.dests=void 0,e.hold.cancel()}function Qm(e,t){const n=e.pieces.get(t);return!!n&&(e.movable.color==="both"||e.movable.color===n.color&&e.turnColor===n.color)}const Ec=(e,t,n)=>{var r,i;return t!==n&&Qm(e,t)&&(e.movable.free||!!(!((i=(r=e.movable.dests)===null||r===void 0?void 0:r.get(t))===null||i===void 0)&&i.includes(n)))};function sv(e,t,n){const r=e.pieces.get(t);return!!r&&(t===n||!e.pieces.has(n))&&(e.movable.color==="both"||e.movable.color===r.color&&e.turnColor===r.color)}function Cc(e,t){const n=e.pieces.get(t);return!!n&&e.premovable.enabled&&e.movable.color===n.color&&e.turnColor!==n.color}const av=(e,t,n)=>t!==n&&Cc(e,t)&&Um(e.pieces,t,e.premovable.castle).includes(n);function uv(e,t,n){const r=e.pieces.get(t),i=e.pieces.get(n);return!!r&&(!i||i.color!==e.movable.color)&&e.predroppable.enabled&&(r.role!=="pawn"||n[1]!=="1"&&n[1]!=="8")&&e.movable.color===r.color&&e.turnColor!==r.color}function cv(e,t){const n=e.pieces.get(t);return!!n&&e.draggable.enabled&&(e.movable.color==="both"||e.movable.color===n.color&&(e.turnColor===n.color||e.premovable.enabled))}function fv(e){const t=e.premovable.current;if(!t)return!1;const n=t[0],r=t[1];let i=!1;if(Ec(e,n,r)){const l=Wm(e,n,r);if(l){const o={premove:!0};l!==!0&&(o.captured=l),dt(e.movable.events.after,n,r,o),i=!0}}return qn(e),i}function dv(e,t){const n=e.predroppable.current;let r=!1;if(!n)return!1;if(t(n)){const i={role:n.role,color:e.movable.color};_c(e,i,n.key)&&(dt(e.movable.events.afterNewPiece,n.role,n.key,{premove:!1,predrop:!0}),r=!0)}return Qn(e),r}function bc(e){qn(e),Qn(e),It(e)}function cd(e){e.movable.color=e.movable.dests=e.animation.current=void 0,bc(e)}function xr(e,t,n){let r=Math.floor(8*(e[0]-n.left)/n.width);t||(r=7-r);let i=7-Math.floor(8*(e[1]-n.top)/n.height);return t||(i=7-i),r>=0&&r<8&&i>=0&&i<8?jt([r,i]):void 0}function pv(e,t,n,r){const i=Pe(e),l=Lm.filter(u=>Bm(i[0],i[1],u[0],u[1])||Dm(i[0],i[1],u[0],u[1])),s=l.map(u=>Om(jt(u),n,r)).map(u=>ll(t,u)),[,a]=s.reduce((u,c,f)=>u[0]<c?u:[c,f],[s[0],0]);return jt(l[a])}const pt=e=>e.orientation==="white",Ym="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR",hv={p:"pawn",r:"rook",n:"knight",b:"bishop",q:"queen",k:"king"},mv={pawn:"p",rook:"r",knight:"n",bishop:"b",queen:"q",king:"k"};function Gm(e){e==="start"&&(e=Ym);const t=new Map;let n=7,r=0;for(const i of e)switch(i){case" ":case"[":return t;case"/":if(--n,n<0)return t;r=0;break;case"~":{const l=t.get(jt([r-1,n]));l&&(l.promoted=!0);break}default:{const l=i.charCodeAt(0);if(l<57)r+=l-48;else{const o=i.toLowerCase();t.set(jt([r,n]),{role:hv[o],color:i===o?"black":"white"}),++r}}}return t}function gv(e){return Y1.map(t=>vc.map(n=>{const r=e.get(n+t);if(r){let i=mv[r.role];return r.color==="white"&&(i=i.toUpperCase()),r.promoted&&(i+="~"),i}else return"1"}).join("")).join("/").replace(/1{2,}/g,t=>t.length.toString())}function Xm(e,t){t.animation&&(Pc(e.animation,t.animation),(e.animation.duration||0)<70&&(e.animation.enabled=!1))}function Zm(e,t){var n,r;if(!((n=t.movable)===null||n===void 0)&&n.dests&&(e.movable.dests=void 0),!((r=t.drawable)===null||r===void 0)&&r.autoShapes&&(e.drawable.autoShapes=[]),Pc(e,t),t.fen&&(e.pieces=Gm(t.fen),e.drawable.shapes=[]),"check"in t&&rv(e,t.check||!1),"lastMove"in t&&!t.lastMove?e.lastMove=void 0:t.lastMove&&(e.lastMove=t.lastMove),e.selected&&qm(e,e.selected),Xm(e,t),!e.movable.rookCastle&&e.movable.dests){const i=e.movable.color==="white"?"1":"8",l="e"+i,o=e.movable.dests.get(l),s=e.pieces.get(l);if(!o||!s||s.role!=="king")return;e.movable.dests.set(l,o.filter(a=>!(a==="a"+i&&o.includes("c"+i))&&!(a==="h"+i&&o.includes("g"+i))))}}function Pc(e,t){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(Object.prototype.hasOwnProperty.call(e,n)&&fd(e[n])&&fd(t[n])?Pc(e[n],t[n]):e[n]=t[n])}function fd(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return t===Object.prototype||t===null}const nr=(e,t)=>t.animation.enabled?xv(e,t):Cn(e,t);function Cn(e,t){const n=e(t);return t.dom.redraw(),n}const Ks=(e,t)=>({key:e,pos:Pe(e),piece:t}),yv=(e,t)=>t.sort((n,r)=>ll(e.pos,n.pos)-ll(e.pos,r.pos))[0];function vv(e,t){const n=new Map,r=[],i=new Map,l=[],o=[],s=new Map;let a,u,c;for(const[f,p]of e)s.set(f,Ks(f,p));for(const f of wc)a=t.pieces.get(f),u=s.get(f),a?u?ou(a,u.piece)||(l.push(u),o.push(Ks(f,a))):o.push(Ks(f,a)):u&&l.push(u);for(const f of o)u=yv(f,l.filter(p=>ou(f.piece,p.piece))),u&&(c=[u.pos[0]-f.pos[0],u.pos[1]-f.pos[1]],n.set(f.key,c.concat(c)),r.push(u.key));for(const f of l)r.includes(f.key)||i.set(f.key,f.piece);return{anims:n,fadings:i}}function Jm(e,t){const n=e.animation.current;if(n===void 0){e.dom.destroyed||e.dom.redrawNow();return}const r=1-(t-n.start)*n.frequency;if(r<=0)e.animation.current=void 0,e.dom.redrawNow();else{const i=wv(r);for(const l of n.plan.anims.values())l[2]=l[0]*i,l[3]=l[1]*i;e.dom.redrawNow(!0),requestAnimationFrame((l=performance.now())=>Jm(e,l))}}function xv(e,t){const n=new Map(t.pieces),r=e(t),i=vv(n,t);if(i.anims.size||i.fadings.size){const l=t.animation.current&&t.animation.current.start;t.animation.current={start:performance.now(),frequency:1/t.animation.duration,plan:i},l||Jm(t,performance.now())}else t.dom.redraw();return r}const wv=e=>e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1,kv=["green","red","blue","yellow"];function Sv(e,t){if(t.touches&&t.touches.length>1)return;t.stopPropagation(),t.preventDefault(),t.ctrlKey?It(e):bc(e);const n=vr(t),r=xr(n,pt(e),e.dom.bounds());r&&(e.drawable.current={orig:r,pos:n,brush:bv(t),snapToValidMove:e.drawable.defaultSnapToValidMove},eg(e))}function eg(e){requestAnimationFrame(()=>{const t=e.drawable.current;if(t){const n=xr(t.pos,pt(e),e.dom.bounds());n||(t.snapToValidMove=!1);const r=t.snapToValidMove?pv(t.orig,t.pos,pt(e),e.dom.bounds()):n;r!==t.mouseSq&&(t.mouseSq=r,t.dest=r!==t.orig?r:void 0,e.dom.redrawNow()),eg(e)}})}function _v(e,t){e.drawable.current&&(e.drawable.current.pos=vr(t))}function Ev(e){const t=e.drawable.current;t&&(t.mouseSq&&Pv(e.drawable,t),tg(e))}function tg(e){e.drawable.current&&(e.drawable.current=void 0,e.dom.redraw())}function Cv(e){e.drawable.shapes.length&&(e.drawable.shapes=[],e.dom.redraw(),ng(e.drawable))}function bv(e){var t;const n=(e.shiftKey||e.ctrlKey)&&Rm(e),r=e.altKey||e.metaKey||((t=e.getModifierState)===null||t===void 0?void 0:t.call(e,"AltGraph"));return kv[(n?1:0)+(r?2:0)]}function Pv(e,t){const n=i=>i.orig===t.orig&&i.dest===t.dest,r=e.shapes.find(n);r&&(e.shapes=e.shapes.filter(i=>!n(i))),(!r||r.brush!==t.brush)&&e.shapes.push(t),ng(e)}function ng(e){e.onChange&&e.onChange(e.shapes)}function jv(e,t){if(!t.isTrusted||t.button!==void 0&&t.button!==0||t.touches&&t.touches.length>1)return;const n=e.dom.bounds(),r=vr(t),i=xr(r,pt(e),n);if(!i)return;const l=e.pieces.get(i),o=e.selected;!o&&e.drawable.enabled&&(e.drawable.eraseOnClick||!l||l.color!==e.turnColor)&&Cv(e),t.cancelable!==!1&&(!t.touches||e.blockTouchScroll||l||o||Tv(e,r))&&t.preventDefault();const s=!!e.premovable.current,a=!!e.predroppable.current;e.stats.ctrlKey=t.ctrlKey,e.selected&&Ec(e,e.selected,i)?nr(f=>su(f,i),e):su(e,i);const u=e.selected===i,c=ig(e,i);if(l&&c&&u&&cv(e,i)){e.draggable.current={orig:i,piece:l,origPos:r,pos:r,started:e.draggable.autoDistance&&e.stats.dragged,element:c,previouslySelected:o,originTarget:t.target,keyHasChanged:!1},c.cgDragging=!0,c.classList.add("dragging");const f=e.dom.elements.ghost;f&&(f.className=`ghost ${l.color} ${l.role}`,Xt(f,pl(n)(Pe(i),pt(e))),Sc(f,!0)),jc(e)}else s&&qn(e),a&&Qn(e);e.dom.redraw()}function Tv(e,t){const n=pt(e),r=e.dom.bounds(),i=Math.pow(r.width/8,2);for(const l of e.pieces.keys()){const o=Om(l,n,r);if(ll(o,t)<=i)return!0}return!1}function zv(e,t,n,r){const i="a0";e.pieces.set(i,t),e.dom.redraw();const l=vr(n);e.draggable.current={orig:i,piece:t,origPos:l,pos:l,started:!0,element:()=>ig(e,i),originTarget:n.target,newPiece:!0,force:!!r,keyHasChanged:!1},jc(e)}function jc(e){requestAnimationFrame(()=>{var t;const n=e.draggable.current;if(!n)return;!((t=e.animation.current)===null||t===void 0)&&t.plan.anims.has(n.orig)&&(e.animation.current=void 0);const r=e.pieces.get(n.orig);if(!r||!ou(r,n.piece))Do(e);else if(!n.started&&ll(n.pos,n.origPos)>=Math.pow(e.draggable.distance,2)&&(n.started=!0),n.started){if(typeof n.element=="function"){const l=n.element();if(!l)return;l.cgDragging=!0,l.classList.add("dragging"),n.element=l}const i=e.dom.bounds();Xt(n.element,[n.pos[0]-i.left-i.width/16,n.pos[1]-i.top-i.height/16]),n.keyHasChanged||(n.keyHasChanged=n.orig!==xr(n.pos,pt(e),i))}jc(e)})}function Nv(e,t){e.draggable.current&&(!t.touches||t.touches.length<2)&&(e.draggable.current.pos=vr(t))}function Iv(e,t){const n=e.draggable.current;if(!n)return;if(t.type==="touchend"&&t.cancelable!==!1&&t.preventDefault(),t.type==="touchend"&&n.originTarget!==t.target&&!n.newPiece){e.draggable.current=void 0;return}qn(e),Qn(e);const r=vr(t)||n.pos,i=xr(r,pt(e),e.dom.bounds());i&&n.started&&n.orig!==i?n.newPiece?Km(e,n.orig,i,n.force):(e.stats.ctrlKey=t.ctrlKey,Vm(e,n.orig,i)&&(e.stats.dragged=!0)):n.newPiece?e.pieces.delete(n.orig):e.draggable.deleteOnDropOff&&!i&&(e.pieces.delete(n.orig),dt(e.events.change)),(n.orig===n.previouslySelected||n.keyHasChanged)&&(n.orig===i||!i)?It(e):e.selectable.enabled||It(e),rg(e),e.draggable.current=void 0,e.dom.redraw()}function Do(e){const t=e.draggable.current;t&&(t.newPiece&&e.pieces.delete(t.orig),e.draggable.current=void 0,It(e),rg(e),e.dom.redraw())}function rg(e){const t=e.dom.elements;t.ghost&&Sc(t.ghost,!1)}function ig(e,t){let n=e.dom.elements.board.firstChild;for(;n;){if(n.cgKey===t&&n.tagName==="PIECE")return n;n=n.nextSibling}}function Av(e,t){e.exploding={stage:1,keys:t},e.dom.redraw(),setTimeout(()=>{dd(e,2),setTimeout(()=>dd(e,void 0),120)},120)}function dd(e,t){e.exploding&&(t?e.exploding.stage=t:e.exploding=void 0,e.dom.redraw())}function Lv(e,t){function n(){tv(e),t()}return{set(r){r.orientation&&r.orientation!==e.orientation&&n(),Xm(e,r),(r.fen?nr:Cn)(i=>Zm(i,r),e)},state:e,getFen:()=>gv(e.pieces),toggleOrientation:n,setPieces(r){nr(i=>nv(i,r),e)},selectSquare(r,i){r?nr(l=>su(l,r,i),e):e.selected&&(It(e),e.dom.redraw())},move(r,i){nr(l=>Hm(l,r,i),e)},newPiece(r,i){nr(l=>_c(l,r,i),e)},playPremove(){if(e.premovable.current){if(nr(fv,e))return!0;e.dom.redraw()}return!1},playPredrop(r){if(e.predroppable.current){const i=dv(e,r);return e.dom.redraw(),i}return!1},cancelPremove(){Cn(qn,e)},cancelPredrop(){Cn(Qn,e)},cancelMove(){Cn(r=>{bc(r),Do(r)},e)},stop(){Cn(r=>{cd(r),Do(r)},e)},explode(r){Av(e,r)},setAutoShapes(r){Cn(i=>i.drawable.autoShapes=r,e)},setShapes(r){Cn(i=>i.drawable.shapes=r,e)},getKeyAtDomPos(r){return xr(r,pt(e),e.dom.bounds())},redrawAll:t,dragNewPiece(r,i,l){zv(e,r,i,l)},destroy(){cd(e),e.dom.unbind&&e.dom.unbind(),e.dom.destroyed=!0}}}function Mv(){return{pieces:Gm(Ym),orientation:"white",turnColor:"white",coordinates:!0,ranksPosition:"right",autoCastle:!0,viewOnly:!1,disableContextMenu:!1,addPieceZIndex:!1,blockTouchScroll:!1,pieceKey:!1,highlight:{lastMove:!0,check:!0},animation:{enabled:!0,duration:200},movable:{free:!0,color:"both",showDests:!0,events:{},rookCastle:!0},premovable:{enabled:!0,showDests:!0,castle:!0,events:{}},predroppable:{enabled:!1,events:{}},draggable:{enabled:!0,distance:3,autoDistance:!0,showGhost:!0,deleteOnDropOff:!1},dropmode:{active:!1},selectable:{enabled:!0},stats:{dragged:!("ontouchstart"in window)},events:{},drawable:{enabled:!0,visible:!0,defaultSnapToValidMove:!0,eraseOnClick:!0,shapes:[],autoShapes:[],brushes:{green:{key:"g",color:"#15781B",opacity:1,lineWidth:10},red:{key:"r",color:"#882020",opacity:1,lineWidth:10},blue:{key:"b",color:"#003088",opacity:1,lineWidth:10},yellow:{key:"y",color:"#e68f00",opacity:1,lineWidth:10},paleBlue:{key:"pb",color:"#003088",opacity:.4,lineWidth:15},paleGreen:{key:"pg",color:"#15781B",opacity:.4,lineWidth:15},paleRed:{key:"pr",color:"#882020",opacity:.4,lineWidth:15},paleGrey:{key:"pgr",color:"#4a4a4a",opacity:.35,lineWidth:15}},prevSvgHash:""},hold:X1()}}function au(e,t,n){const r=new Map,i=[];for(const s of e)r.set(s.hash,!1);let l=t.firstChild,o;for(;l;)o=l.getAttribute("cgHash"),r.has(o)?r.set(o,!0):i.push(l),l=l.nextSibling;for(const s of i)t.removeChild(s);for(const s of e)r.get(s.hash)||t.appendChild(n(s))}function Ut(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function Rv(e,t,n){const r=e.drawable,i=r.current,l=i&&i.mouseSq?i:void 0,o=new Map,s=e.dom.bounds(),a=r.autoShapes.filter(g=>!g.piece);for(const g of r.shapes.concat(a).concat(l?[l]:[]))g.dest&&o.set(g.dest,(o.get(g.dest)||0)+1);const u=r.shapes.concat(a).map(g=>({shape:g,current:!1,hash:pd(g,o,!1,s)}));l&&u.push({shape:l,current:!0,hash:pd(l,o,!0,s)});const c=u.map(g=>g.hash).join(";");if(c===e.drawable.prevSvgHash)return;e.drawable.prevSvgHash=c;const f=t.querySelector("defs"),p=t.querySelector("g"),h=n.querySelector("g");Ov(r,u,f),au(u.filter(g=>!g.shape.customSvg),p,g=>hd(e,g,r.brushes,o,s)),au(u.filter(g=>g.shape.customSvg),h,g=>hd(e,g,r.brushes,o,s))}function Ov(e,t,n){const r=new Map;let i;for(const s of t)s.shape.dest&&(i=e.brushes[s.shape.brush],s.shape.modifiers&&(i=lg(i,s.shape.modifiers)),r.set(i.key,i));const l=new Set;let o=n.firstChild;for(;o;)l.add(o.getAttribute("cgKey")),o=o.nextSibling;for(const[s,a]of r.entries())l.has(s)||n.appendChild(Wv(a))}function pd({orig:e,dest:t,brush:n,piece:r,modifiers:i,customSvg:l},o,s,a){return[a.width,a.height,s,e,t,n,t&&(o.get(t)||0)>1,r&&Dv(r),i&&Fv(i),l&&$v(l)].filter(u=>u).join(",")}function Dv(e){return[e.color,e.role,e.scale].filter(t=>t).join(",")}function Fv(e){return""+(e.lineWidth||"")}function $v(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n)>>>0;return"custom-"+t.toString()}function hd(e,{shape:t,current:n,hash:r},i,l,o){let s;const a=md(Pe(t.orig),e.orientation);if(t.customSvg)s=Bv(t.customSvg,a,o);else if(t.dest){let u=i[t.brush];t.modifiers&&(u=lg(u,t.modifiers)),s=Hv(u,a,md(Pe(t.dest),e.orientation),n,(l.get(t.dest)||0)>1,o)}else s=Uv(i[t.brush],a,n,o);return s.setAttribute("cgHash",r),s}function Bv(e,t,n){const[r,i]=Fo(t,n),l=Hn(Ut("g"),{transform:`translate(${r},${i})`}),o=Hn(Ut("svg"),{width:1,height:1,viewBox:"0 0 100 100"});return l.appendChild(o),o.innerHTML=e,l}function Uv(e,t,n,r){const i=Fo(t,r),l=Vv(),o=(r.width+r.height)/(4*Math.max(r.width,r.height));return Hn(Ut("circle"),{stroke:e.color,"stroke-width":l[n?0:1],fill:"none",opacity:og(e,n),cx:i[0],cy:i[1],r:o-l[1]/2})}function Hv(e,t,n,r,i,l){const o=qv(i&&!r),s=Fo(t,l),a=Fo(n,l),u=a[0]-s[0],c=a[1]-s[1],f=Math.atan2(c,u),p=Math.cos(f)*o,h=Math.sin(f)*o;return Hn(Ut("line"),{stroke:e.color,"stroke-width":Kv(e,r),"stroke-linecap":"round","marker-end":"url(#arrowhead-"+e.key+")",opacity:og(e,r),x1:s[0],y1:s[1],x2:a[0]-p,y2:a[1]-h})}function Wv(e){const t=Hn(Ut("marker"),{id:"arrowhead-"+e.key,orient:"auto",markerWidth:4,markerHeight:8,refX:2.05,refY:2.01});return t.appendChild(Hn(Ut("path"),{d:"M0,0 V4 L3,2 Z",fill:e.color})),t.setAttribute("cgKey",e.key),t}function Hn(e,t){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.setAttribute(n,t[n]);return e}function md(e,t){return t==="white"?e:[7-e[0],7-e[1]]}function lg(e,t){return{color:e.color,opacity:Math.round(e.opacity*10)/10,lineWidth:Math.round(t.lineWidth||e.lineWidth),key:[e.key,t.lineWidth].filter(n=>n).join("")}}function Vv(){return[3/64,4/64]}function Kv(e,t){return(e.lineWidth||10)*(t?.85:1)/64}function og(e,t){return(e.opacity||1)*(t?.9:1)}function qv(e){return(e?20:10)/64}function Fo(e,t){const n=Math.min(1,t.width/t.height),r=Math.min(1,t.height/t.width);return[(e[0]-3.5)*n,(3.5-e[1])*r]}function Qv(e,t){e.innerHTML="",e.classList.add("cg-wrap");for(const a of Q1)e.classList.toggle("orientation-"+a,t.orientation===a);e.classList.toggle("manipulable",!t.viewOnly);const n=fn("cg-container");e.appendChild(n);const r=fn("cg-board");n.appendChild(r);let i,l,o;if(t.drawable.visible&&(i=Hn(Ut("svg"),{class:"cg-shapes",viewBox:"-4 -4 8 8",preserveAspectRatio:"xMidYMid slice"}),i.appendChild(Ut("defs")),i.appendChild(Ut("g")),l=Hn(Ut("svg"),{class:"cg-custom-svgs",viewBox:"-3.5 -3.5 8 8",preserveAspectRatio:"xMidYMid slice"}),l.appendChild(Ut("g")),o=fn("cg-auto-pieces"),n.appendChild(i),n.appendChild(l),n.appendChild(o)),t.coordinates){const a=t.orientation==="black"?" black":"",u=t.ranksPosition==="left"?" left":"";n.appendChild(gd(xc,"ranks"+a+u)),n.appendChild(gd(vc,"files"+a))}let s;return t.draggable.enabled&&t.draggable.showGhost&&(s=fn("piece","ghost"),Sc(s,!1),n.appendChild(s)),{board:r,container:n,wrap:e,ghost:s,svg:i,customSvg:l,autoPieces:o}}function gd(e,t){const n=fn("coords",t);let r;for(const i of e)r=fn("coord"),r.textContent=i,n.appendChild(r);return n}function Yv(e,t){if(!e.dropmode.active)return;qn(e),Qn(e);const n=e.dropmode.piece;if(n){e.pieces.set("a0",n);const r=vr(t),i=r&&xr(r,pt(e),e.dom.bounds());i&&Km(e,"a0",i)}e.dom.redraw()}function Gv(e,t){const n=e.dom.elements.board;if("ResizeObserver"in window&&new ResizeObserver(t).observe(e.dom.elements.wrap),e.viewOnly)return;const r=Zv(e);n.addEventListener("touchstart",r,{passive:!1}),n.addEventListener("mousedown",r,{passive:!1}),(e.disableContextMenu||e.drawable.enabled)&&n.addEventListener("contextmenu",i=>i.preventDefault())}function Xv(e,t){const n=[];if("ResizeObserver"in window||n.push(gi(document.body,"chessground.resize",t)),!e.viewOnly){const r=yd(e,Nv,_v),i=yd(e,Iv,Ev);for(const o of["touchmove","mousemove"])n.push(gi(document,o,r));for(const o of["touchend","mouseup"])n.push(gi(document,o,i));const l=()=>e.dom.bounds.clear();n.push(gi(document,"scroll",l,{capture:!0,passive:!0})),n.push(gi(window,"resize",l,{passive:!0}))}return()=>n.forEach(r=>r())}function gi(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}const Zv=e=>t=>{e.draggable.current?Do(e):e.drawable.current?tg(e):t.shiftKey||Rm(t)?e.drawable.enabled&&Sv(e,t):e.viewOnly||(e.dropmode.active?Yv(e,t):jv(e,t))},yd=(e,t,n)=>r=>{e.drawable.current?e.drawable.enabled&&n(e,r):e.viewOnly||t(e,r)};function Jv(e){const t=pt(e),n=pl(e.dom.bounds()),r=e.dom.elements.board,i=e.pieces,l=e.animation.current,o=l?l.plan.anims:new Map,s=l?l.plan.fadings:new Map,a=e.draggable.current,u=tx(e),c=new Set,f=new Set,p=new Map,h=new Map;let g,w,j,m,y,v,E,z,S,I;for(w=r.firstChild;w;){if(g=w.cgKey,sg(w))if(j=i.get(g),y=o.get(g),v=s.get(g),m=w.cgPiece,w.cgDragging&&(!a||a.orig!==g)&&(w.classList.remove("dragging"),Xt(w,n(Pe(g),t)),w.cgDragging=!1),!v&&w.cgFading&&(w.cgFading=!1,w.classList.remove("fading")),j){if(y&&w.cgAnimating&&m===yi(j)){const N=Pe(g);N[0]+=y[2],N[1]+=y[3],w.classList.add("anim"),Xt(w,n(N,t))}else w.cgAnimating&&(w.cgAnimating=!1,w.classList.remove("anim"),Xt(w,n(Pe(g),t)),e.addPieceZIndex&&(w.style.zIndex=qs(Pe(g),t)));m===yi(j)&&(!v||!w.cgFading)?c.add(g):v&&m===yi(v)?(w.classList.add("fading"),w.cgFading=!0):Qs(p,m,w)}else Qs(p,m,w);else if(ag(w)){const N=w.className;u.get(g)===N?f.add(g):Qs(h,N,w)}w=w.nextSibling}for(const[N,H]of u)if(!f.has(N)){S=h.get(H),I=S&&S.pop();const R=n(Pe(N),t);if(I)I.cgKey=N,Xt(I,R);else{const F=fn("square",H);F.cgKey=N,Xt(F,R),r.insertBefore(F,r.firstChild)}}for(const[N,H]of i)if(y=o.get(N),!c.has(N))if(E=p.get(yi(H)),z=E&&E.pop(),z){z.cgKey=N,z.cgFading&&(z.classList.remove("fading"),z.cgFading=!1);const R=Pe(N);e.addPieceZIndex&&(z.style.zIndex=qs(R,t)),y&&(z.cgAnimating=!0,z.classList.add("anim"),R[0]+=y[2],R[1]+=y[3]),Xt(z,n(R,t))}else{const R=yi(H),F=fn("piece",R),B=Pe(N);F.cgPiece=R,F.cgKey=N,y&&(F.cgAnimating=!0,B[0]+=y[2],B[1]+=y[3]),Xt(F,n(B,t)),e.addPieceZIndex&&(F.style.zIndex=qs(B,t)),r.appendChild(F)}for(const N of p.values())xd(e,N);for(const N of h.values())xd(e,N)}function ex(e){const t=pt(e),n=pl(e.dom.bounds());let r=e.dom.elements.board.firstChild;for(;r;)(sg(r)&&!r.cgAnimating||ag(r))&&Xt(r,n(Pe(r.cgKey),t)),r=r.nextSibling}function vd(e){var t,n;const r=e.dom.elements.wrap.getBoundingClientRect(),i=e.dom.elements.container,l=r.height/r.width,o=Math.floor(r.width*window.devicePixelRatio/8)*8/window.devicePixelRatio,s=o*l;i.style.width=o+"px",i.style.height=s+"px",e.dom.bounds.clear(),(t=e.addDimensionsCssVarsTo)===null||t===void 0||t.style.setProperty("--cg-width",o+"px"),(n=e.addDimensionsCssVarsTo)===null||n===void 0||n.style.setProperty("--cg-height",s+"px")}const sg=e=>e.tagName==="PIECE",ag=e=>e.tagName==="SQUARE";function xd(e,t){for(const n of t)e.dom.elements.board.removeChild(n)}function qs(e,t){const r=e[1];return`${t?10-r:3+r}`}const yi=e=>`${e.color} ${e.role}`;function tx(e){var t;const n=new Map;if(e.lastMove&&e.highlight.lastMove)for(const l of e.lastMove)wn(n,l,"last-move");if(e.check&&e.highlight.check&&wn(n,e.check,"check"),e.selected&&(wn(n,e.selected,"selected"),e.movable.showDests)){const l=(t=e.movable.dests)===null||t===void 0?void 0:t.get(e.selected);if(l)for(const s of l)wn(n,s,"move-dest"+(e.pieces.has(s)?" oc":""));const o=e.premovable.dests;if(o)for(const s of o)wn(n,s,"premove-dest"+(e.pieces.has(s)?" oc":""))}const r=e.premovable.current;if(r)for(const l of r)wn(n,l,"current-premove");else e.predroppable.current&&wn(n,e.predroppable.current.key,"current-premove");const i=e.exploding;if(i)for(const l of i.keys)wn(n,l,"exploding"+i.stage);return n}function wn(e,t,n){const r=e.get(t);r?e.set(t,`${r} ${n}`):e.set(t,n)}function Qs(e,t,n){const r=e.get(t);r?r.push(n):e.set(t,[n])}function nx(e,t){const r=e.drawable.autoShapes.filter(i=>i.piece).map(i=>({shape:i,hash:lx(i),current:!1}));au(r,t,i=>ix(e,i,e.dom.bounds()))}function rx(e){var t;const n=pt(e),r=pl(e.dom.bounds());let i=(t=e.dom.elements.autoPieces)===null||t===void 0?void 0:t.firstChild;for(;i;)Mm(i,r(Pe(i.cgKey),n),i.cgScale),i=i.nextSibling}function ix(e,{shape:t,hash:n},r){var i,l,o;const s=t.orig,a=(i=t.piece)===null||i===void 0?void 0:i.role,u=(l=t.piece)===null||l===void 0?void 0:l.color,c=(o=t.piece)===null||o===void 0?void 0:o.scale,f=fn("piece",`${a} ${u}`);return f.setAttribute("cgHash",n),f.cgKey=s,f.cgScale=c,Mm(f,pl(r)(Pe(s),pt(e)),c),f}const lx=e=>{var t,n,r;return[e.orig,(t=e.piece)===null||t===void 0?void 0:t.role,(n=e.piece)===null||n===void 0?void 0:n.color,(r=e.piece)===null||r===void 0?void 0:r.scale].join(",")};function ox(e,t){const n=Mv();Zm(n,t||{});function r(){const i="dom"in n?n.dom.unbind:void 0,l=Qv(e,n),o=G1(()=>l.board.getBoundingClientRect()),s=c=>{Jv(u),l.autoPieces&&nx(u,l.autoPieces),!c&&l.svg&&Rv(u,l.svg,l.customSvg)},a=()=>{vd(u),ex(u),l.autoPieces&&rx(u)},u=n;return u.dom={elements:l,bounds:o,redraw:sx(s),redrawNow:s,unbind:i},u.drawable.prevSvgHash="",vd(u),s(!1),Gv(u,a),i||(u.dom.unbind=Xv(u,a)),u.events.insert&&u.events.insert(l),u}return Lv(r(),r)}function sx(e){let t=!1;return()=>{t||(t=!0,requestAnimationFrame(()=>{e(),t=!1}))}}var uu=function(){return uu=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},uu.apply(this,arguments)};function hl(e){var t=e.width,n=t===void 0?900:t,r=e.height,i=r===void 0?900:r,l=e.config,o=l===void 0?{}:l,s=e.contained,a=s===void 0?!1:s,u=W.useState(null),c=u[0],f=u[1],p=W.useRef(null);return W.useEffect(function(){if(p&&p.current&&!c){var h=ox(p.current,uu({animation:{enabled:!0,duration:200}},o));f(h)}else p&&p.current&&c&&c.set(o)},[p]),W.useEffect(function(){c==null||c.set(o)},[c,o]),Vr.createElement("div",{style:{height:a?"100%":i,width:a?"100%":n}},Vr.createElement("div",{ref:p,style:{height:"100%",width:"100%",display:"table"}}))}function ax(e){return e!==null?{comment:e,variations:[]}:{variations:[]}}function ux(e,t,n,r,i){const l={move:e,variations:i};return t&&(l.suffix=t),n&&(l.nag=n),r!==null&&(l.comment=r),l}function cx(...e){const[t,...n]=e;let r=t;for(const i of n)i!==null&&(r.variations=[i,...i.variations],i.variations=[],r=i);return t}function fx(e,t){if(t.marker&&t.marker.comment){let n=t.root;for(;;){const r=n.variations[0];if(!r){n.comment=t.marker.comment;break}n=r}}return{headers:e,root:t.root,result:(t.marker&&t.marker.result)??void 0}}function dx(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n}function Jr(e,t,n,r){var i=Error.call(this,e);return Object.setPrototypeOf&&Object.setPrototypeOf(i,Jr.prototype),i.expected=t,i.found=n,i.location=r,i.name="SyntaxError",i}dx(Jr,Error);function Ys(e,t,n){return n=n||" ",e.length>t?e:(t-=e.length,n+=n.repeat(t),e+n.slice(0,t))}Jr.prototype.format=function(e){var t="Error: "+this.message;if(this.location){var n=null,r;for(r=0;r<e.length;r++)if(e[r].source===this.location.source){n=e[r].text.split(/\r\n|\n|\r/g);break}var i=this.location.start,l=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(i):i,o=this.location.source+":"+l.line+":"+l.column;if(n){var s=this.location.end,a=Ys("",l.line.toString().length," "),u=n[i.line-1],c=i.line===s.line?s.column:u.length+1,f=c-i.column||1;t+=`
 --> `+o+`
`+a+` |
`+l.line+" | "+u+`
`+a+" | "+Ys("",i.column-1," ")+Ys("",f,"^")}else t+=`
 at `+o}return t};Jr.buildMessage=function(e,t){var n={literal:function(u){return'"'+i(u.text)+'"'},class:function(u){var c=u.parts.map(function(f){return Array.isArray(f)?l(f[0])+"-"+l(f[1]):l(f)});return"["+(u.inverted?"^":"")+c.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(u){return u.description}};function r(u){return u.charCodeAt(0).toString(16).toUpperCase()}function i(u){return u.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(c){return"\\x0"+r(c)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(c){return"\\x"+r(c)})}function l(u){return u.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(c){return"\\x0"+r(c)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(c){return"\\x"+r(c)})}function o(u){return n[u.type](u)}function s(u){var c=u.map(o),f,p;if(c.sort(),c.length>0){for(f=1,p=1;f<c.length;f++)c[f-1]!==c[f]&&(c[p]=c[f],p++);c.length=p}switch(c.length){case 1:return c[0];case 2:return c[0]+" or "+c[1];default:return c.slice(0,-1).join(", ")+", or "+c[c.length-1]}}function a(u){return u?'"'+i(u)+'"':"end of input"}return"Expected "+s(e)+" but "+a(t)+" found."};function px(e,t){t=t!==void 0?t:{};var n={},r=t.grammarSource,i={pgn:Qc},l=Qc,o="[",s='"',a="]",u=".",c="O-O-O",f="O-O",p="0-0-0",h="0-0",g="$",w="{",j="}",m=";",y="(",v=")",E="1-0",z="0-1",S="1/2-1/2",I="*",N=/^[a-zA-Z]/,H=/^[^"]/,R=/^[0-9]/,F=/^[.]/,B=/^[a-zA-Z1-8\-=]/,re=/^[+#]/,de=/^[!?]/,ee=/^[^}]/,ke=/^[^\r\n]/,ve=/^[ \t\r\n]/,D=Ct("tag pair"),K=Me("[",!1),x=Me('"',!1),ie=Me("]",!1),se=Ct("tag name"),k=qt([["a","z"],["A","Z"]],!1,!1),be=Ct("tag value"),it=qt(['"'],!0,!1),fe=Ct("move number"),Ye=qt([["0","9"]],!1,!1),Kt=Me(".",!1),rn=qt(["."],!1,!1),vn=Ct("standard algebraic notation"),kr=Me("O-O-O",!1),ds=Me("O-O",!1),ps=Me("0-0-0",!1),hs=Me("0-0",!1),oi=qt([["a","z"],["A","Z"],["1","8"],"-","="],!1,!1),yl=qt(["+","#"],!1,!1),vl=Ct("suffix annotation"),xl=qt(["!","?"],!1,!1),wl=Ct("NAG"),kl=Me("$",!1),ms=Ct("brace comment"),gs=Me("{",!1),Sl=qt(["}"],!0,!1),ys=Me("}",!1),vs=Ct("rest of line comment"),T=Me(";",!1),O=qt(["\r",`
`],!0,!1),Z=Ct("variation"),te=Me("(",!1),ae=Me(")",!1),mt=Ct("game termination marker"),ln=Me("1-0",!1),Mt=Me("0-1",!1),Gn=Me("1/2-1/2",!1),Xn=Me("*",!1),Ge=Ct("whitespace"),on=qt([" ","	","\r",`
`],!1,!1),Rt=function(_,b){return fx(_,b)},Qg=function(_){return Object.fromEntries(_)},Yg=function(_,b){return[_,b]},Gg=function(_,b){return{root:_,marker:b}},Xg=function(_,b){return cx(ax(_),...b.flat())},Zg=function(_,b,P,q,Q){return ux(_,b,P,q,Q)},Jg=function(_){return _},ey=function(_){return _.replace(/[\r\n]+/g," ")},ty=function(_){return _.trim()},ny=function(_){return _},ry=function(_,b){return{result:_,comment:b}},C=t.peg$currPos|0,Sr=[{line:1,column:1}],Ot=C,_l=t.peg$maxFailExpected||[],$=t.peg$silentFails|0,si;if(t.startRule){if(!(t.startRule in i))throw new Error(`Can't start parsing from rule "`+t.startRule+'".');l=i[t.startRule]}function Me(_,b){return{type:"literal",text:_,ignoreCase:b}}function qt(_,b,P){return{type:"class",parts:_,inverted:b,ignoreCase:P}}function iy(){return{type:"end"}}function Ct(_){return{type:"other",description:_}}function Kc(_){var b=Sr[_],P;if(b)return b;if(_>=Sr.length)P=Sr.length-1;else for(P=_;!Sr[--P];);for(b=Sr[P],b={line:b.line,column:b.column};P<_;)e.charCodeAt(P)===10?(b.line++,b.column=1):b.column++,P++;return Sr[_]=b,b}function qc(_,b,P){var q=Kc(_),Q=Kc(b),ue={source:r,start:{offset:_,line:q.line,column:q.column},end:{offset:b,line:Q.line,column:Q.column}};return ue}function V(_){C<Ot||(C>Ot&&(Ot=C,_l=[]),_l.push(_))}function ly(_,b,P){return new Jr(Jr.buildMessage(_,b),_,b,P)}function Qc(){var _,b,P;return _=C,b=oy(),P=uy(),_=Rt(b,P),_}function oy(){var _,b,P;for(_=C,b=[],P=Yc();P!==n;)b.push(P),P=Yc();return P=Xe(),_=Qg(b),_}function Yc(){var _,b,P,q,Q,ue,Zn;return $++,_=C,Xe(),e.charCodeAt(C)===91?(b=o,C++):(b=n,$===0&&V(K)),b!==n?(Xe(),P=sy(),P!==n?(Xe(),e.charCodeAt(C)===34?(q=s,C++):(q=n,$===0&&V(x)),q!==n?(Q=ay(),e.charCodeAt(C)===34?(ue=s,C++):(ue=n,$===0&&V(x)),ue!==n?(Xe(),e.charCodeAt(C)===93?(Zn=a,C++):(Zn=n,$===0&&V(ie)),Zn!==n?_=Yg(P,Q):(C=_,_=n)):(C=_,_=n)):(C=_,_=n)):(C=_,_=n)):(C=_,_=n),$--,_===n&&$===0&&V(D),_}function sy(){var _,b,P;if($++,_=C,b=[],P=e.charAt(C),N.test(P)?C++:(P=n,$===0&&V(k)),P!==n)for(;P!==n;)b.push(P),P=e.charAt(C),N.test(P)?C++:(P=n,$===0&&V(k));else b=n;return b!==n?_=e.substring(_,C):_=b,$--,_===n&&(b=n,$===0&&V(se)),_}function ay(){var _,b,P;for($++,_=C,b=[],P=e.charAt(C),H.test(P)?C++:(P=n,$===0&&V(it));P!==n;)b.push(P),P=e.charAt(C),H.test(P)?C++:(P=n,$===0&&V(it));return _=e.substring(_,C),$--,b=n,$===0&&V(be),_}function uy(){var _,b,P;return _=C,b=Gc(),Xe(),P=my(),P===n&&(P=null),Xe(),_=Gg(b,P),_}function Gc(){var _,b,P,q;for(_=C,b=xs(),b===n&&(b=null),P=[],q=Xc();q!==n;)P.push(q),q=Xc();return _=Xg(b,P),_}function Xc(){var _,b,P,q,Q,ue,Zn,El;if(_=C,Xe(),cy(),Xe(),b=fy(),b!==n){for(P=dy(),P===n&&(P=null),q=[],Q=Zc();Q!==n;)q.push(Q),Q=Zc();for(Q=Xe(),ue=xs(),ue===n&&(ue=null),Zn=[],El=Jc();El!==n;)Zn.push(El),El=Jc();_=Zg(b,P,q,ue,Zn)}else C=_,_=n;return _}function cy(){var _,b,P,q,Q,ue;for($++,_=C,b=[],P=e.charAt(C),R.test(P)?C++:(P=n,$===0&&V(Ye));P!==n;)b.push(P),P=e.charAt(C),R.test(P)?C++:(P=n,$===0&&V(Ye));if(e.charCodeAt(C)===46?(P=u,C++):(P=n,$===0&&V(Kt)),P!==n){for(q=Xe(),Q=[],ue=e.charAt(C),F.test(ue)?C++:(ue=n,$===0&&V(rn));ue!==n;)Q.push(ue),ue=e.charAt(C),F.test(ue)?C++:(ue=n,$===0&&V(rn));b=[b,P,q,Q],_=b}else C=_,_=n;return $--,_===n&&(b=n,$===0&&V(fe)),_}function fy(){var _,b,P,q,Q,ue;if($++,_=C,b=C,e.substr(C,5)===c?(P=c,C+=5):(P=n,$===0&&V(kr)),P===n&&(e.substr(C,3)===f?(P=f,C+=3):(P=n,$===0&&V(ds)),P===n&&(e.substr(C,5)===p?(P=p,C+=5):(P=n,$===0&&V(ps)),P===n&&(e.substr(C,3)===h?(P=h,C+=3):(P=n,$===0&&V(hs)),P===n))))if(P=C,q=e.charAt(C),N.test(q)?C++:(q=n,$===0&&V(k)),q!==n){if(Q=[],ue=e.charAt(C),B.test(ue)?C++:(ue=n,$===0&&V(oi)),ue!==n)for(;ue!==n;)Q.push(ue),ue=e.charAt(C),B.test(ue)?C++:(ue=n,$===0&&V(oi));else Q=n;Q!==n?(q=[q,Q],P=q):(C=P,P=n)}else C=P,P=n;return P!==n?(q=e.charAt(C),re.test(q)?C++:(q=n,$===0&&V(yl)),q===n&&(q=null),P=[P,q],b=P):(C=b,b=n),b!==n?_=e.substring(_,C):_=b,$--,_===n&&(b=n,$===0&&V(vn)),_}function dy(){var _,b,P;for($++,_=C,b=[],P=e.charAt(C),de.test(P)?C++:(P=n,$===0&&V(xl));P!==n;)b.push(P),b.length>=2?P=n:(P=e.charAt(C),de.test(P)?C++:(P=n,$===0&&V(xl)));return b.length<1?(C=_,_=n):_=b,$--,_===n&&(b=n,$===0&&V(vl)),_}function Zc(){var _,b,P,q,Q;if($++,_=C,Xe(),e.charCodeAt(C)===36?(b=g,C++):(b=n,$===0&&V(kl)),b!==n){if(P=C,q=[],Q=e.charAt(C),R.test(Q)?C++:(Q=n,$===0&&V(Ye)),Q!==n)for(;Q!==n;)q.push(Q),Q=e.charAt(C),R.test(Q)?C++:(Q=n,$===0&&V(Ye));else q=n;q!==n?P=e.substring(P,C):P=q,P!==n?_=Jg(P):(C=_,_=n)}else C=_,_=n;return $--,_===n&&$===0&&V(wl),_}function xs(){var _;return _=py(),_===n&&(_=hy()),_}function py(){var _,b,P,q,Q;if($++,_=C,e.charCodeAt(C)===123?(b=w,C++):(b=n,$===0&&V(gs)),b!==n){for(P=C,q=[],Q=e.charAt(C),ee.test(Q)?C++:(Q=n,$===0&&V(Sl));Q!==n;)q.push(Q),Q=e.charAt(C),ee.test(Q)?C++:(Q=n,$===0&&V(Sl));P=e.substring(P,C),e.charCodeAt(C)===125?(q=j,C++):(q=n,$===0&&V(ys)),q!==n?_=ey(P):(C=_,_=n)}else C=_,_=n;return $--,_===n&&(b=n,$===0&&V(ms)),_}function hy(){var _,b,P,q,Q;if($++,_=C,e.charCodeAt(C)===59?(b=m,C++):(b=n,$===0&&V(T)),b!==n){for(P=C,q=[],Q=e.charAt(C),ke.test(Q)?C++:(Q=n,$===0&&V(O));Q!==n;)q.push(Q),Q=e.charAt(C),ke.test(Q)?C++:(Q=n,$===0&&V(O));P=e.substring(P,C),_=ty(P)}else C=_,_=n;return $--,_===n&&(b=n,$===0&&V(vs)),_}function Jc(){var _,b,P,q;return $++,_=C,Xe(),e.charCodeAt(C)===40?(b=y,C++):(b=n,$===0&&V(te)),b!==n?(P=Gc(),P!==n?(Xe(),e.charCodeAt(C)===41?(q=v,C++):(q=n,$===0&&V(ae)),q!==n?_=ny(P):(C=_,_=n)):(C=_,_=n)):(C=_,_=n),$--,_===n&&$===0&&V(Z),_}function my(){var _,b,P;return $++,_=C,e.substr(C,3)===E?(b=E,C+=3):(b=n,$===0&&V(ln)),b===n&&(e.substr(C,3)===z?(b=z,C+=3):(b=n,$===0&&V(Mt)),b===n&&(e.substr(C,7)===S?(b=S,C+=7):(b=n,$===0&&V(Gn)),b===n&&(e.charCodeAt(C)===42?(b=I,C++):(b=n,$===0&&V(Xn))))),b!==n?(Xe(),P=xs(),P===n&&(P=null),_=ry(b,P)):(C=_,_=n),$--,_===n&&(b=n,$===0&&V(mt)),_}function Xe(){var _,b;for($++,_=[],b=e.charAt(C),ve.test(b)?C++:(b=n,$===0&&V(on));b!==n;)_.push(b),b=e.charAt(C),ve.test(b)?C++:(b=n,$===0&&V(on));return $--,b=n,$===0&&V(Ge),_}if(si=l(),t.peg$library)return{peg$result:si,peg$currPos:C,peg$FAILED:n,peg$maxFailExpected:_l,peg$maxFailPos:Ot};if(si!==n&&C===e.length)return si;throw si!==n&&C<e.length&&V(iy()),ly(_l,Ot<e.length?e.charAt(Ot):null,Ot<e.length?qc(Ot,Ot+1):qc(Ot,Ot))}/**
 * @license
 * Copyright (c) 2025, Jeff Hlywa (jhlywa@gmail.com)
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice,
 *    this list of conditions and the following disclaimer.
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the documentation
 *    and/or other materials provided with the distribution.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
 * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
 * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
 * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
 * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
 * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
 * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 * POSSIBILITY OF SUCH DAMAGE.
 */const ao=0xffffffffffffffffn;function Gs(e,t){return(e<<t|e>>64n-t)&0xffffffffffffffffn}function wd(e,t){return e*t&ao}function hx(e){return function(){let t=BigInt(e&ao),n=BigInt(e>>64n&ao);const r=wd(Gs(wd(t,5n),7n),9n);return n^=t,t=(Gs(t,24n)^n^n<<16n)&ao,n=Gs(n,37n),e=n<<64n|t,r}}const is=hx(0xa187eb39cdcaed8f31c4b365b102e01en),mx=Array.from({length:2},()=>Array.from({length:6},()=>Array.from({length:128},()=>is()))),gx=Array.from({length:8},()=>is()),yx=Array.from({length:16},()=>is()),Xs=is(),Ve="w",gt="b",Te="p",cu="n",uo="b",Ti="r",jn="q",Ie="k",Zs="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1";class Ul{constructor(t,n){xe(this,"color");xe(this,"from");xe(this,"to");xe(this,"piece");xe(this,"captured");xe(this,"promotion");xe(this,"flags");xe(this,"san");xe(this,"lan");xe(this,"before");xe(this,"after");const{color:r,piece:i,from:l,to:o,flags:s,captured:a,promotion:u}=n,c=Re(l),f=Re(o);this.color=r,this.piece=i,this.from=c,this.to=f,this.san=t._moveToSan(n,t._moves({legal:!0})),this.lan=c+f,this.before=t.fen(),t._makeMove(n),this.after=t.fen(),t._undoMove(),this.flags="";for(const p in X)X[p]&s&&(this.flags+=Jn[p]);a&&(this.captured=a),u&&(this.promotion=u,this.lan+=u)}isCapture(){return this.flags.indexOf(Jn.CAPTURE)>-1}isPromotion(){return this.flags.indexOf(Jn.PROMOTION)>-1}isEnPassant(){return this.flags.indexOf(Jn.EP_CAPTURE)>-1}isKingsideCastle(){return this.flags.indexOf(Jn.KSIDE_CASTLE)>-1}isQueensideCastle(){return this.flags.indexOf(Jn.QSIDE_CASTLE)>-1}isBigPawn(){return this.flags.indexOf(Jn.BIG_PAWN)>-1}}const Fe=-1,Jn={NORMAL:"n",CAPTURE:"c",BIG_PAWN:"b",EP_CAPTURE:"e",PROMOTION:"p",KSIDE_CASTLE:"k",QSIDE_CASTLE:"q",NULL_MOVE:"-"},X={NORMAL:1,CAPTURE:2,BIG_PAWN:4,EP_CAPTURE:8,PROMOTION:16,KSIDE_CASTLE:32,QSIDE_CASTLE:64,NULL_MOVE:128},fu={Event:"?",Site:"?",Date:"????.??.??",Round:"?",White:"?",Black:"?",Result:"*"},vx={WhiteTitle:null,BlackTitle:null,WhiteElo:null,BlackElo:null,WhiteUSCF:null,BlackUSCF:null,WhiteNA:null,BlackNA:null,WhiteType:null,BlackType:null,EventDate:null,EventSponsor:null,Section:null,Stage:null,Board:null,Opening:null,Variation:null,SubVariation:null,ECO:null,NIC:null,Time:null,UTCTime:null,UTCDate:null,TimeControl:null,SetUp:null,FEN:null,Termination:null,Annotator:null,Mode:null,PlyCount:null},xx={...fu,...vx},Y={a8:0,b8:1,c8:2,d8:3,e8:4,f8:5,g8:6,h8:7,a7:16,b7:17,c7:18,d7:19,e7:20,f7:21,g7:22,h7:23,a6:32,b6:33,c6:34,d6:35,e6:36,f6:37,g6:38,h6:39,a5:48,b5:49,c5:50,d5:51,e5:52,f5:53,g5:54,h5:55,a4:64,b4:65,c4:66,d4:67,e4:68,f4:69,g4:70,h4:71,a3:80,b3:81,c3:82,d3:83,e3:84,f3:85,g3:86,h3:87,a2:96,b2:97,c2:98,d2:99,e2:100,f2:101,g2:102,h2:103,a1:112,b1:113,c1:114,d1:115,e1:116,f1:117,g1:118,h1:119},Js={b:[16,32,17,15],w:[-16,-32,-17,-15]},kd={n:[-18,-33,-31,-14,18,33,31,14],b:[-17,-15,17,15],r:[-16,1,16,-1],q:[-17,-16,-15,1,17,16,15,-1],k:[-17,-16,-15,1,17,16,15,-1]},wx=[20,0,0,0,0,0,0,24,0,0,0,0,0,0,20,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,24,24,24,24,24,24,56,0,56,24,24,24,24,24,24,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,20,0,0,0,0,0,0,24,0,0,0,0,0,0,20],kx=[17,0,0,0,0,0,0,16,0,0,0,0,0,0,15,0,0,17,0,0,0,0,0,16,0,0,0,0,0,15,0,0,0,0,17,0,0,0,0,16,0,0,0,0,15,0,0,0,0,0,0,17,0,0,0,16,0,0,0,15,0,0,0,0,0,0,0,0,17,0,0,16,0,0,15,0,0,0,0,0,0,0,0,0,0,17,0,16,0,15,0,0,0,0,0,0,0,0,0,0,0,0,17,16,15,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,-15,-16,-17,0,0,0,0,0,0,0,0,0,0,0,0,-15,0,-16,0,-17,0,0,0,0,0,0,0,0,0,0,-15,0,0,-16,0,0,-17,0,0,0,0,0,0,0,0,-15,0,0,0,-16,0,0,0,-17,0,0,0,0,0,0,-15,0,0,0,0,-16,0,0,0,0,-17,0,0,0,0,-15,0,0,0,0,0,-16,0,0,0,0,0,-17,0,0,-15,0,0,0,0,0,0,-16,0,0,0,0,0,0,-17],Sx={p:1,n:2,b:4,r:8,q:16,k:32},_x="pnbrqkPNBRQK",Sd=[cu,uo,Ti,jn],Ex=7,Cx=6,bx=1,Px=0,Hl={[Ie]:X.KSIDE_CASTLE,[jn]:X.QSIDE_CASTLE},kn={w:[{square:Y.a1,flag:X.QSIDE_CASTLE},{square:Y.h1,flag:X.KSIDE_CASTLE}],b:[{square:Y.a8,flag:X.QSIDE_CASTLE},{square:Y.h8,flag:X.KSIDE_CASTLE}]},jx={b:bx,w:Cx},ea="--";function ur(e){return e>>4}function ol(e){return e&15}function ug(e){return"0123456789".indexOf(e)!==-1}function Re(e){const t=ol(e),n=ur(e);return"abcdefgh".substring(t,t+1)+"87654321".substring(n,n+1)}function vi(e){return e===Ve?gt:Ve}function Tx(e){const t=e.split(/\s+/);if(t.length!==6)return{ok:!1,error:"Invalid FEN: must contain six space-delimited fields"};const n=parseInt(t[5],10);if(isNaN(n)||n<=0)return{ok:!1,error:"Invalid FEN: move number must be a positive integer"};const r=parseInt(t[4],10);if(isNaN(r)||r<0)return{ok:!1,error:"Invalid FEN: half move counter number must be a non-negative integer"};if(!/^(-|[abcdefgh][36])$/.test(t[3]))return{ok:!1,error:"Invalid FEN: en-passant square is invalid"};if(/[^kKqQ-]/.test(t[2]))return{ok:!1,error:"Invalid FEN: castling availability is invalid"};if(!/^(w|b)$/.test(t[1]))return{ok:!1,error:"Invalid FEN: side-to-move is invalid"};const i=t[0].split("/");if(i.length!==8)return{ok:!1,error:"Invalid FEN: piece data does not contain 8 '/'-delimited rows"};for(let o=0;o<i.length;o++){let s=0,a=!1;for(let u=0;u<i[o].length;u++)if(ug(i[o][u])){if(a)return{ok:!1,error:"Invalid FEN: piece data is invalid (consecutive number)"};s+=parseInt(i[o][u],10),a=!0}else{if(!/^[prnbqkPRNBQK]$/.test(i[o][u]))return{ok:!1,error:"Invalid FEN: piece data is invalid (invalid piece)"};s+=1,a=!1}if(s!==8)return{ok:!1,error:"Invalid FEN: piece data is invalid (too many squares in rank)"}}if(t[3][1]=="3"&&t[1]=="w"||t[3][1]=="6"&&t[1]=="b")return{ok:!1,error:"Invalid FEN: illegal en-passant square"};const l=[{color:"white",regex:/K/g},{color:"black",regex:/k/g}];for(const{color:o,regex:s}of l){if(!s.test(t[0]))return{ok:!1,error:`Invalid FEN: missing ${o} king`};if((t[0].match(s)||[]).length>1)return{ok:!1,error:`Invalid FEN: too many ${o} kings`}}return Array.from(i[0]+i[7]).some(o=>o.toUpperCase()==="P")?{ok:!1,error:"Invalid FEN: some pawns are on the edge rows"}:{ok:!0}}function zx(e,t){const n=e.from,r=e.to,i=e.piece;let l=0,o=0,s=0;for(let a=0,u=t.length;a<u;a++){const c=t[a].from,f=t[a].to,p=t[a].piece;i===p&&n!==c&&r===f&&(l++,ur(n)===ur(c)&&o++,ol(n)===ol(c)&&s++)}return l>0?o>0&&s>0?Re(n):s>0?Re(n).charAt(1):Re(n).charAt(0):""}function Sn(e,t,n,r,i,l=void 0,o=X.NORMAL){const s=ur(r);if(i===Te&&(s===Ex||s===Px))for(let a=0;a<Sd.length;a++){const u=Sd[a];e.push({color:t,from:n,to:r,piece:i,captured:l,promotion:u,flags:o|X.PROMOTION})}else e.push({color:t,from:n,to:r,piece:i,captured:l,flags:o})}function _d(e){let t=e.charAt(0);return t>="a"&&t<="h"?e.match(/[a-h]\d.*[a-h]\d/)?void 0:Te:(t=t.toLowerCase(),t==="o"?Ie:t)}function ta(e){return e.replace(/=/,"").replace(/[+#]?[?!]*$/,"")}class ei{constructor(t=Zs,{skipValidation:n=!1}={}){xe(this,"_board",new Array(128));xe(this,"_turn",Ve);xe(this,"_header",{});xe(this,"_kings",{w:Fe,b:Fe});xe(this,"_epSquare",-1);xe(this,"_halfMoves",0);xe(this,"_moveNumber",0);xe(this,"_history",[]);xe(this,"_comments",{});xe(this,"_castling",{w:0,b:0});xe(this,"_hash",0n);xe(this,"_positionCount",new Map);this.load(t,{skipValidation:n})}clear({preserveHeaders:t=!1}={}){this._board=new Array(128),this._kings={w:Fe,b:Fe},this._turn=Ve,this._castling={w:0,b:0},this._epSquare=Fe,this._halfMoves=0,this._moveNumber=1,this._history=[],this._comments={},this._header=t?this._header:{...xx},this._hash=this._computeHash(),this._positionCount=new Map,this._header.SetUp=null,this._header.FEN=null}load(t,{skipValidation:n=!1,preserveHeaders:r=!1}={}){let i=t.split(/\s+/);if(i.length>=2&&i.length<6){const s=["-","-","0","1"];t=i.concat(s.slice(-(6-i.length))).join(" ")}if(i=t.split(/\s+/),!n){const{ok:s,error:a}=Tx(t);if(!s)throw new Error(a)}const l=i[0];let o=0;this.clear({preserveHeaders:r});for(let s=0;s<l.length;s++){const a=l.charAt(s);if(a==="/")o+=8;else if(ug(a))o+=parseInt(a,10);else{const u=a<"a"?Ve:gt;this._put({type:a.toLowerCase(),color:u},Re(o)),o++}}this._turn=i[1],i[2].indexOf("K")>-1&&(this._castling.w|=X.KSIDE_CASTLE),i[2].indexOf("Q")>-1&&(this._castling.w|=X.QSIDE_CASTLE),i[2].indexOf("k")>-1&&(this._castling.b|=X.KSIDE_CASTLE),i[2].indexOf("q")>-1&&(this._castling.b|=X.QSIDE_CASTLE),this._epSquare=i[3]==="-"?Fe:Y[i[3]],this._halfMoves=parseInt(i[4],10),this._moveNumber=parseInt(i[5],10),this._hash=this._computeHash(),this._updateSetup(t),this._incPositionCount()}fen({forceEnpassantSquare:t=!1}={}){var o,s;let n=0,r="";for(let a=Y.a8;a<=Y.h1;a++){if(this._board[a]){n>0&&(r+=n,n=0);const{color:u,type:c}=this._board[a];r+=u===Ve?c.toUpperCase():c.toLowerCase()}else n++;a+1&136&&(n>0&&(r+=n),a!==Y.h1&&(r+="/"),n=0,a+=8)}let i="";this._castling[Ve]&X.KSIDE_CASTLE&&(i+="K"),this._castling[Ve]&X.QSIDE_CASTLE&&(i+="Q"),this._castling[gt]&X.KSIDE_CASTLE&&(i+="k"),this._castling[gt]&X.QSIDE_CASTLE&&(i+="q"),i=i||"-";let l="-";if(this._epSquare!==Fe)if(t)l=Re(this._epSquare);else{const a=this._epSquare+(this._turn===Ve?16:-16),u=[a+1,a-1];for(const c of u){if(c&136)continue;const f=this._turn;if(((o=this._board[c])==null?void 0:o.color)===f&&((s=this._board[c])==null?void 0:s.type)===Te){this._makeMove({color:f,from:c,to:this._epSquare,piece:Te,captured:Te,flags:X.EP_CAPTURE});const p=!this._isKingAttacked(f);if(this._undoMove(),p){l=Re(this._epSquare);break}}}}return[r,this._turn,i,l,this._halfMoves,this._moveNumber].join(" ")}_pieceKey(t){if(!this._board[t])return 0n;const{color:n,type:r}=this._board[t],i={w:0,b:1}[n],l={p:0,n:1,b:2,r:3,q:4,k:5}[r];return mx[i][l][t]}_epKey(){return this._epSquare===Fe?0n:gx[this._epSquare&7]}_castlingKey(){const t=this._castling.w>>5|this._castling.b>>3;return yx[t]}_computeHash(){let t=0n;for(let n=Y.a8;n<=Y.h1;n++){if(n&136){n+=7;continue}this._board[n]&&(t^=this._pieceKey(n))}return t^=this._epKey(),t^=this._castlingKey(),this._turn==="b"&&(t^=Xs),t}_updateSetup(t){this._history.length>0||(t!==Zs?(this._header.SetUp="1",this._header.FEN=t):(this._header.SetUp=null,this._header.FEN=null))}reset(){this.load(Zs)}get(t){return this._board[Y[t]]}findPiece(t){var r;const n=[];for(let i=Y.a8;i<=Y.h1;i++){if(i&136){i+=7;continue}!this._board[i]||((r=this._board[i])==null?void 0:r.color)!==t.color||this._board[i].color===t.color&&this._board[i].type===t.type&&n.push(Re(i))}return n}put({type:t,color:n},r){return this._put({type:t,color:n},r)?(this._updateCastlingRights(),this._updateEnPassantSquare(),this._updateSetup(this.fen()),!0):!1}_set(t,n){this._hash^=this._pieceKey(t),this._board[t]=n,this._hash^=this._pieceKey(t)}_put({type:t,color:n},r){if(_x.indexOf(t.toLowerCase())===-1||!(r in Y))return!1;const i=Y[r];if(t==Ie&&!(this._kings[n]==Fe||this._kings[n]==i))return!1;const l=this._board[i];return l&&l.type===Ie&&(this._kings[l.color]=Fe),this._set(i,{type:t,color:n}),t===Ie&&(this._kings[n]=i),!0}_clear(t){this._hash^=this._pieceKey(t),delete this._board[t]}remove(t){const n=this.get(t);return this._clear(Y[t]),n&&n.type===Ie&&(this._kings[n.color]=Fe),this._updateCastlingRights(),this._updateEnPassantSquare(),this._updateSetup(this.fen()),n}_updateCastlingRights(){var r,i,l,o,s,a,u,c,f,p,h,g;this._hash^=this._castlingKey();const t=((r=this._board[Y.e1])==null?void 0:r.type)===Ie&&((i=this._board[Y.e1])==null?void 0:i.color)===Ve,n=((l=this._board[Y.e8])==null?void 0:l.type)===Ie&&((o=this._board[Y.e8])==null?void 0:o.color)===gt;(!t||((s=this._board[Y.a1])==null?void 0:s.type)!==Ti||((a=this._board[Y.a1])==null?void 0:a.color)!==Ve)&&(this._castling.w&=-65),(!t||((u=this._board[Y.h1])==null?void 0:u.type)!==Ti||((c=this._board[Y.h1])==null?void 0:c.color)!==Ve)&&(this._castling.w&=-33),(!n||((f=this._board[Y.a8])==null?void 0:f.type)!==Ti||((p=this._board[Y.a8])==null?void 0:p.color)!==gt)&&(this._castling.b&=-65),(!n||((h=this._board[Y.h8])==null?void 0:h.type)!==Ti||((g=this._board[Y.h8])==null?void 0:g.color)!==gt)&&(this._castling.b&=-33),this._hash^=this._castlingKey()}_updateEnPassantSquare(){var l,o;if(this._epSquare===Fe)return;const t=this._epSquare+(this._turn===Ve?-16:16),n=this._epSquare+(this._turn===Ve?16:-16),r=[n+1,n-1];if(this._board[t]!==null||this._board[this._epSquare]!==null||((l=this._board[n])==null?void 0:l.color)!==vi(this._turn)||((o=this._board[n])==null?void 0:o.type)!==Te){this._hash^=this._epKey(),this._epSquare=Fe;return}const i=s=>{var a,u;return!(s&136)&&((a=this._board[s])==null?void 0:a.color)===this._turn&&((u=this._board[s])==null?void 0:u.type)===Te};r.some(i)||(this._hash^=this._epKey(),this._epSquare=Fe)}_attacked(t,n,r){const i=[];for(let l=Y.a8;l<=Y.h1;l++){if(l&136){l+=7;continue}if(this._board[l]===void 0||this._board[l].color!==t)continue;const o=this._board[l],s=l-n;if(s===0)continue;const a=s+119;if(wx[a]&Sx[o.type]){if(o.type===Te){if(s>0&&o.color===Ve||s<=0&&o.color===gt)if(r)i.push(Re(l));else return!0;continue}if(o.type==="n"||o.type==="k")if(r){i.push(Re(l));continue}else return!0;const u=kx[a];let c=l+u,f=!1;for(;c!==n;){if(this._board[c]!=null){f=!0;break}c+=u}if(!f)if(r){i.push(Re(l));continue}else return!0}}return r?i:!1}attackers(t,n){return n?this._attacked(n,Y[t],!0):this._attacked(this._turn,Y[t],!0)}_isKingAttacked(t){const n=this._kings[t];return n===-1?!1:this._attacked(vi(t),n)}hash(){return this._hash.toString(16)}isAttacked(t,n){return this._attacked(n,Y[t])}isCheck(){return this._isKingAttacked(this._turn)}inCheck(){return this.isCheck()}isCheckmate(){return this.isCheck()&&this._moves().length===0}isStalemate(){return!this.isCheck()&&this._moves().length===0}isInsufficientMaterial(){const t={b:0,n:0,r:0,q:0,k:0,p:0},n=[];let r=0,i=0;for(let l=Y.a8;l<=Y.h1;l++){if(i=(i+1)%2,l&136){l+=7;continue}const o=this._board[l];o&&(t[o.type]=o.type in t?t[o.type]+1:1,o.type===uo&&n.push(i),r++)}if(r===2)return!0;if(r===3&&(t[uo]===1||t[cu]===1))return!0;if(r===t[uo]+2){let l=0;const o=n.length;for(let s=0;s<o;s++)l+=n[s];if(l===0||l===o)return!0}return!1}isThreefoldRepetition(){return this._getPositionCount(this._hash)>=3}isDrawByFiftyMoves(){return this._halfMoves>=100}isDraw(){return this.isDrawByFiftyMoves()||this.isStalemate()||this.isInsufficientMaterial()||this.isThreefoldRepetition()}isGameOver(){return this.isCheckmate()||this.isDraw()}moves({verbose:t=!1,square:n=void 0,piece:r=void 0}={}){const i=this._moves({square:n,piece:r});return t?i.map(l=>new Ul(this,l)):i.map(l=>this._moveToSan(l,i))}_moves({legal:t=!0,piece:n=void 0,square:r=void 0}={}){var h;const i=r?r.toLowerCase():void 0,l=n==null?void 0:n.toLowerCase(),o=[],s=this._turn,a=vi(s);let u=Y.a8,c=Y.h1,f=!1;if(i)if(i in Y)u=c=Y[i],f=!0;else return[];for(let g=u;g<=c;g++){if(g&136){g+=7;continue}if(!this._board[g]||this._board[g].color===a)continue;const{type:w}=this._board[g];let j;if(w===Te){if(l&&l!==w)continue;j=g+Js[s][0],this._board[j]||(Sn(o,s,g,j,Te),j=g+Js[s][1],jx[s]===ur(g)&&!this._board[j]&&Sn(o,s,g,j,Te,void 0,X.BIG_PAWN));for(let m=2;m<4;m++)j=g+Js[s][m],!(j&136)&&(((h=this._board[j])==null?void 0:h.color)===a?Sn(o,s,g,j,Te,this._board[j].type,X.CAPTURE):j===this._epSquare&&Sn(o,s,g,j,Te,Te,X.EP_CAPTURE))}else{if(l&&l!==w)continue;for(let m=0,y=kd[w].length;m<y;m++){const v=kd[w][m];for(j=g;j+=v,!(j&136);){if(!this._board[j])Sn(o,s,g,j,w);else{if(this._board[j].color===s)break;Sn(o,s,g,j,w,this._board[j].type,X.CAPTURE);break}if(w===cu||w===Ie)break}}}}if((l===void 0||l===Ie)&&(!f||c===this._kings[s])){if(this._castling[s]&X.KSIDE_CASTLE){const g=this._kings[s],w=g+2;!this._board[g+1]&&!this._board[w]&&!this._attacked(a,this._kings[s])&&!this._attacked(a,g+1)&&!this._attacked(a,w)&&Sn(o,s,this._kings[s],w,Ie,void 0,X.KSIDE_CASTLE)}if(this._castling[s]&X.QSIDE_CASTLE){const g=this._kings[s],w=g-2;!this._board[g-1]&&!this._board[g-2]&&!this._board[g-3]&&!this._attacked(a,this._kings[s])&&!this._attacked(a,g-1)&&!this._attacked(a,w)&&Sn(o,s,this._kings[s],w,Ie,void 0,X.QSIDE_CASTLE)}}if(!t||this._kings[s]===-1)return o;const p=[];for(let g=0,w=o.length;g<w;g++)this._makeMove(o[g]),this._isKingAttacked(s)||p.push(o[g]),this._undoMove();return p}move(t,{strict:n=!1}={}){let r=null;if(typeof t=="string")r=this._moveFromSan(t,n);else if(t===null)r=this._moveFromSan(ea,n);else if(typeof t=="object"){const l=this._moves();for(let o=0,s=l.length;o<s;o++)if(t.from===Re(l[o].from)&&t.to===Re(l[o].to)&&(!("promotion"in l[o])||t.promotion===l[o].promotion)){r=l[o];break}}if(!r)throw typeof t=="string"?new Error(`Invalid move: ${t}`):new Error(`Invalid move: ${JSON.stringify(t)}`);if(this.isCheck()&&r.flags&X.NULL_MOVE)throw new Error("Null move not allowed when in check");const i=new Ul(this,r);return this._makeMove(r),this._incPositionCount(),i}_push(t){this._history.push({move:t,kings:{b:this._kings.b,w:this._kings.w},turn:this._turn,castling:{b:this._castling.b,w:this._castling.w},epSquare:this._epSquare,halfMoves:this._halfMoves,moveNumber:this._moveNumber})}_movePiece(t,n){this._hash^=this._pieceKey(t),this._board[n]=this._board[t],delete this._board[t],this._hash^=this._pieceKey(n)}_makeMove(t){var i,l,o,s;const n=this._turn,r=vi(n);if(this._push(t),t.flags&X.NULL_MOVE){n===gt&&this._moveNumber++,this._halfMoves++,this._turn=r,this._epSquare=Fe;return}if(this._hash^=this._epKey(),this._hash^=this._castlingKey(),t.captured&&(this._hash^=this._pieceKey(t.to)),this._movePiece(t.from,t.to),t.flags&X.EP_CAPTURE&&(this._turn===gt?this._clear(t.to-16):this._clear(t.to+16)),t.promotion&&(this._clear(t.to),this._set(t.to,{type:t.promotion,color:n})),this._board[t.to].type===Ie){if(this._kings[n]=t.to,t.flags&X.KSIDE_CASTLE){const a=t.to-1,u=t.to+1;this._movePiece(u,a)}else if(t.flags&X.QSIDE_CASTLE){const a=t.to+1,u=t.to-2;this._movePiece(u,a)}this._castling[n]=0}if(this._castling[n]){for(let a=0,u=kn[n].length;a<u;a++)if(t.from===kn[n][a].square&&this._castling[n]&kn[n][a].flag){this._castling[n]^=kn[n][a].flag;break}}if(this._castling[r]){for(let a=0,u=kn[r].length;a<u;a++)if(t.to===kn[r][a].square&&this._castling[r]&kn[r][a].flag){this._castling[r]^=kn[r][a].flag;break}}if(this._hash^=this._castlingKey(),t.flags&X.BIG_PAWN){let a;n===gt?a=t.to-16:a=t.to+16,!(t.to-1&136)&&((i=this._board[t.to-1])==null?void 0:i.type)===Te&&((l=this._board[t.to-1])==null?void 0:l.color)===r||!(t.to+1&136)&&((o=this._board[t.to+1])==null?void 0:o.type)===Te&&((s=this._board[t.to+1])==null?void 0:s.color)===r?(this._epSquare=a,this._hash^=this._epKey()):this._epSquare=Fe}else this._epSquare=Fe;t.piece===Te?this._halfMoves=0:t.flags&(X.CAPTURE|X.EP_CAPTURE)?this._halfMoves=0:this._halfMoves++,n===gt&&this._moveNumber++,this._turn=r,this._hash^=Xs}undo(){const t=this._hash,n=this._undoMove();if(n){const r=new Ul(this,n);return this._decPositionCount(t),r}return null}_undoMove(){const t=this._history.pop();if(t===void 0)return null;this._hash^=this._epKey(),this._hash^=this._castlingKey();const n=t.move;this._kings=t.kings,this._turn=t.turn,this._castling=t.castling,this._epSquare=t.epSquare,this._halfMoves=t.halfMoves,this._moveNumber=t.moveNumber,this._hash^=this._epKey(),this._hash^=this._castlingKey(),this._hash^=Xs;const r=this._turn,i=vi(r);if(n.flags&X.NULL_MOVE)return n;if(this._movePiece(n.to,n.from),n.piece&&(this._clear(n.from),this._set(n.from,{type:n.piece,color:r})),n.captured)if(n.flags&X.EP_CAPTURE){let l;r===gt?l=n.to-16:l=n.to+16,this._set(l,{type:Te,color:i})}else this._set(n.to,{type:n.captured,color:i});if(n.flags&(X.KSIDE_CASTLE|X.QSIDE_CASTLE)){let l,o;n.flags&X.KSIDE_CASTLE?(l=n.to+1,o=n.to-1):(l=n.to-2,o=n.to+1),this._movePiece(o,l)}return n}pgn({newline:t=`
`,maxWidth:n=0}={}){const r=[];let i=!1;for(const p in this._header)this._header[p]&&r.push(`[${p} "${this._header[p]}"]`+t),i=!0;i&&this._history.length&&r.push(t);const l=p=>{const h=this._comments[this.fen()];if(typeof h<"u"){const g=p.length>0?" ":"";p=`${p}${g}{${h}}`}return p},o=[];for(;this._history.length>0;)o.push(this._undoMove());const s=[];let a="";for(o.length===0&&s.push(l(""));o.length>0;){a=l(a);const p=o.pop();if(!p)break;if(!this._history.length&&p.color==="b"){const h=`${this._moveNumber}. ...`;a=a?`${a} ${h}`:h}else p.color==="w"&&(a.length&&s.push(a),a=this._moveNumber+".");a=a+" "+this._moveToSan(p,this._moves({legal:!0})),this._makeMove(p)}if(a.length&&s.push(l(a)),s.push(this._header.Result||"*"),n===0)return r.join("")+s.join(" ");const u=function(){return r.length>0&&r[r.length-1]===" "?(r.pop(),!0):!1},c=function(p,h){for(const g of h.split(" "))if(g){if(p+g.length>n){for(;u();)p--;r.push(t),p=0}r.push(g),p+=g.length,r.push(" "),p++}return u()&&p--,p};let f=0;for(let p=0;p<s.length;p++){if(f+s[p].length>n&&s[p].includes("{")){f=c(f,s[p]);continue}f+s[p].length>n&&p!==0?(r[r.length-1]===" "&&r.pop(),r.push(t),f=0):p!==0&&(r.push(" "),f++),r.push(s[p]),f+=s[p].length}return r.join("")}header(...t){for(let n=0;n<t.length;n+=2)typeof t[n]=="string"&&typeof t[n+1]=="string"&&(this._header[t[n]]=t[n+1]);return this._header}setHeader(t,n){return this._header[t]=n??fu[t]??null,this.getHeaders()}removeHeader(t){return t in this._header?(this._header[t]=fu[t]||null,!0):!1}getHeaders(){const t={};for(const[n,r]of Object.entries(this._header))r!==null&&(t[n]=r);return t}loadPgn(t,{strict:n=!1,newlineChar:r=`\r?
`}={}){r!==`\r?
`&&(t=t.replace(new RegExp(r,"g"),`
`));const i=px(t);this.reset();const l=i.headers;let o="";for(const u in l)u.toLowerCase()==="fen"&&(o=l[u]),this.header(u,l[u]);if(!n)o&&this.load(o,{preserveHeaders:!0});else if(l.SetUp==="1"){if(!("FEN"in l))throw new Error("Invalid PGN: FEN tag must be supplied with SetUp tag");this.load(l.FEN,{preserveHeaders:!0})}let s=i.root;for(;s;){if(s.move){const u=this._moveFromSan(s.move,n);if(u==null)throw new Error(`Invalid move in PGN: ${s.move}`);this._makeMove(u),this._incPositionCount()}s.comment!==void 0&&(this._comments[this.fen()]=s.comment),s=s.variations[0]}const a=i.result;a&&Object.keys(this._header).length&&this._header.Result!==a&&this.setHeader("Result",a)}_moveToSan(t,n){let r="";if(t.flags&X.KSIDE_CASTLE)r="O-O";else if(t.flags&X.QSIDE_CASTLE)r="O-O-O";else{if(t.flags&X.NULL_MOVE)return ea;if(t.piece!==Te){const i=zx(t,n);r+=t.piece.toUpperCase()+i}t.flags&(X.CAPTURE|X.EP_CAPTURE)&&(t.piece===Te&&(r+=Re(t.from)[0]),r+="x"),r+=Re(t.to),t.promotion&&(r+="="+t.promotion.toUpperCase())}return this._makeMove(t),this.isCheck()&&(this.isCheckmate()?r+="#":r+="+"),this._undoMove(),r}_moveFromSan(t,n=!1){let r=ta(t);if(n||(r==="0-0"?r="O-O":r==="0-0-0"&&(r="O-O-O")),r==ea)return{color:this._turn,from:0,to:0,piece:"k",flags:X.NULL_MOVE};let i=_d(r),l=this._moves({legal:!0,piece:i});for(let p=0,h=l.length;p<h;p++)if(r===ta(this._moveToSan(l[p],l)))return l[p];if(n)return null;let o,s,a,u,c,f=!1;if(s=r.match(/([pnbrqkPNBRQK])?([a-h][1-8])x?-?([a-h][1-8])([qrbnQRBN])?/),s?(o=s[1],a=s[2],u=s[3],c=s[4],a.length==1&&(f=!0)):(s=r.match(/([pnbrqkPNBRQK])?([a-h]?[1-8]?)x?-?([a-h][1-8])([qrbnQRBN])?/),s&&(o=s[1],a=s[2],u=s[3],c=s[4],a.length==1&&(f=!0))),i=_d(r),l=this._moves({legal:!0,piece:o||i}),!u)return null;for(let p=0,h=l.length;p<h;p++)if(a){if((!o||o.toLowerCase()==l[p].piece)&&Y[a]==l[p].from&&Y[u]==l[p].to&&(!c||c.toLowerCase()==l[p].promotion))return l[p];if(f){const g=Re(l[p].from);if((!o||o.toLowerCase()==l[p].piece)&&Y[u]==l[p].to&&(a==g[0]||a==g[1])&&(!c||c.toLowerCase()==l[p].promotion))return l[p]}}else if(r===ta(this._moveToSan(l[p],l)).replace("x",""))return l[p];return null}ascii(){let t=`   +------------------------+
`;for(let n=Y.a8;n<=Y.h1;n++){if(ol(n)===0&&(t+=" "+"87654321"[ur(n)]+" |"),this._board[n]){const r=this._board[n].type,l=this._board[n].color===Ve?r.toUpperCase():r.toLowerCase();t+=" "+l+" "}else t+=" . ";n+1&136&&(t+=`|
`,n+=8)}return t+=`   +------------------------+
`,t+="     a  b  c  d  e  f  g  h",t}perft(t){const n=this._moves({legal:!1});let r=0;const i=this._turn;for(let l=0,o=n.length;l<o;l++)this._makeMove(n[l]),this._isKingAttacked(i)||(t-1>0?r+=this.perft(t-1):r++),this._undoMove();return r}setTurn(t){return this._turn==t?!1:(this.move("--"),!0)}turn(){return this._turn}board(){const t=[];let n=[];for(let r=Y.a8;r<=Y.h1;r++)this._board[r]==null?n.push(null):n.push({square:Re(r),type:this._board[r].type,color:this._board[r].color}),r+1&136&&(t.push(n),n=[],r+=8);return t}squareColor(t){if(t in Y){const n=Y[t];return(ur(n)+ol(n))%2===0?"light":"dark"}return null}history({verbose:t=!1}={}){const n=[],r=[];for(;this._history.length>0;)n.push(this._undoMove());for(;;){const i=n.pop();if(!i)break;t?r.push(new Ul(this,i)):r.push(this._moveToSan(i,this._moves())),this._makeMove(i)}return r}_getPositionCount(t){return this._positionCount.get(t)??0}_incPositionCount(){this._positionCount.set(this._hash,(this._positionCount.get(this._hash)??0)+1)}_decPositionCount(t){const n=this._positionCount.get(t)??0;n===1?this._positionCount.delete(t):this._positionCount.set(t,n-1)}_pruneComments(){const t=[],n={},r=i=>{i in this._comments&&(n[i]=this._comments[i])};for(;this._history.length>0;)t.push(this._undoMove());for(r(this.fen());;){const i=t.pop();if(!i)break;this._makeMove(i),r(this.fen())}this._comments=n}getComment(){return this._comments[this.fen()]}setComment(t){this._comments[this.fen()]=t.replace("{","[").replace("}","]")}deleteComment(){return this.removeComment()}removeComment(){const t=this._comments[this.fen()];return delete this._comments[this.fen()],t}getComments(){return this._pruneComments(),Object.keys(this._comments).map(t=>({fen:t,comment:this._comments[t]}))}deleteComments(){return this.removeComments()}removeComments(){return this._pruneComments(),Object.keys(this._comments).map(t=>{const n=this._comments[t];return delete this._comments[t],{fen:t,comment:n}})}setCastlingRights(t,n){for(const i of[Ie,jn])n[i]!==void 0&&(n[i]?this._castling[t]|=Hl[i]:this._castling[t]&=~Hl[i]);this._updateCastlingRights();const r=this.getCastlingRights(t);return(n[Ie]===void 0||n[Ie]===r[Ie])&&(n[jn]===void 0||n[jn]===r[jn])}getCastlingRights(t){return{[Ie]:(this._castling[t]&Hl[Ie])!==0,[jn]:(this._castling[t]&Hl[jn])!==0}}moveNumber(){return this._moveNumber}}const Wl=480;function Nx({novelty:e,allNovelties:t,orientation:n,onSelectNovelty:r}){const[i,l]=W.useState(0),{positions:o,noveltyPly:s}=W.useMemo(()=>{if(!e)return{positions:[],noveltyPly:0};const f=new ei(e.root_fen),p=[{fen:f.fen(),lastMove:null,san:null,isNovelty:!1,isCont:!1}];for(const g of e.book_moves_san){const w=f.move(g);p.push({fen:f.fen(),lastMove:[w.from,w.to],san:g,isNovelty:!1,isCont:!1})}const h=p.length;try{const g=f.move(e.novelty_san);p.push({fen:f.fen(),lastMove:[g.from,g.to],san:e.novelty_san,isNovelty:!0,isCont:!1})}catch{p.push({fen:e.fen_after,lastMove:[e.novelty_orig,e.novelty_dest],san:e.novelty_san,isNovelty:!0,isCont:!1})}for(const g of e.continuations_san)try{const w=f.move(g);p.push({fen:f.fen(),lastMove:[w.from,w.to],san:g,isNovelty:!1,isCont:!0})}catch{break}return{positions:p,noveltyPly:h}},[e]);W.useEffect(()=>{l(s)},[s,e==null?void 0:e.rank]),W.useEffect(()=>{const f=p=>{p.key==="ArrowLeft"&&l(h=>Math.max(0,h-1)),p.key==="ArrowRight"&&l(h=>Math.min(o.length-1,h+1))};return window.addEventListener("keydown",f),()=>window.removeEventListener("keydown",f)},[o.length]);const a=W.useMemo(()=>{if(!e||!(t!=null&&t.length))return{};const f={},p=[...e.book_moves_san,e.novelty_san];for(const h of t){if(h.rank===e.rank)continue;const g=[...h.book_moves_san,h.novelty_san];for(let w=0;w<p.length&&w<g.length;w++)if(p[w]!==g[w]){f[w]||(f[w]=[]),f[w].find(j=>j.san===g[w])||f[w].push({san:g[w],rank:h.rank});break}}return f},[e,t]);if(!e)return null;const u=o[i]||o[0],c={fen:u.fen,orientation:n,lastMove:u.lastMove??void 0,movable:{free:!1,color:"none"},draggable:{enabled:!1},selectable:{enabled:!1},animation:{enabled:!0,duration:200}};return d.jsxs("div",{style:{display:"flex",gap:24,alignItems:"flex-start"},children:[d.jsxs("div",{style:{flexShrink:0},children:[d.jsx("div",{style:{width:Wl,height:Wl},children:d.jsx(hl,{width:Wl,height:Wl,config:c})}),d.jsx(Ix,{currentPly:i,maxPly:o.length-1,noveltyPly:s,setCurrentPly:l})]}),d.jsxs("div",{style:{flex:1,minWidth:0},children:[d.jsx(Ax,{positions:o,currentPly:i,noveltyPly:s,noveltyRank:e.rank,onSelect:l,branchMap:a,rootFen:e.root_fen,onSelectNovelty:r,allNovelties:t}),d.jsx(Mx,{novelty:e})]})]})}function Ix({currentPly:e,maxPly:t,noveltyPly:n,setCurrentPly:r}){const i=(l,o,s,a)=>d.jsx("button",{onClick:o,title:s,style:{background:a?"#78350f":"#1f2937",color:a?"#fbbf24":"#9ca3af",border:"none",borderRadius:4,padding:"5px 10px",fontSize:13,cursor:"pointer",transition:"background 0.1s"},children:l});return d.jsxs("div",{style:{marginTop:10,display:"flex",gap:6,justifyContent:"center"},children:[i("",()=>r(0),"Start (Home)"),i("",()=>r(l=>Math.max(0,l-1)),"Previous ()"),i("",()=>r(l=>Math.min(t,l+1)),"Next ()"),i("",()=>r(t),"End"),i("",()=>r(n),"Jump to novelty",!0)]})}function Ax({positions:e,currentPly:t,noveltyPly:n,noveltyRank:r,onSelect:i,branchMap:l,rootFen:o,onSelectNovelty:s,allNovelties:a}){const u=W.useRef(null),c=m=>{const y=u.current;if(!y)return;const v=y.querySelector(`[data-ply="${m}"]`);if(!v)return;const E=y.getBoundingClientRect(),z=v.getBoundingClientRect();y.scrollTop+=z.top-E.top-(y.clientHeight-z.height)/2};W.useEffect(()=>{c(t)},[t]),W.useEffect(()=>{c(n)},[r]);const f=(o||"").split(" "),p=f[1]==="b",h=parseInt(f[5])||1,g=e.slice(1).map((m,y)=>{const v=p?1:0,E=(y+v)%2===0,z=h+Math.floor((y+v)/2);return{...m,plyIndex:y+1,isWhite:E,moveNum:z,isCurrent:t===y+1,branches:l[y]||[]}}),w=[];let j=0;for(p&&g.length>0&&(w.push({moveNum:g[0].moveNum,white:null,black:g[0]}),j=1);j<g.length;)w.push({moveNum:g[j].moveNum,white:g[j],black:g[j+1]??null}),j+=2;return d.jsx("div",{ref:u,style:{background:"#0f172a",borderRadius:8,padding:"10px 12px",marginBottom:12,maxHeight:300,overflowY:"auto",fontFamily:"monospace",fontSize:13,lineHeight:1.7},children:w.map(({moveNum:m,white:y,black:v},E)=>{const z=(y==null?void 0:y.plyIndex)===n,S=(v==null?void 0:v.plyIndex)===n;return d.jsxs(Vr.Fragment,{children:[(z||S)&&d.jsx("div",{style:{borderTop:"1px solid #1f2937",margin:"4px 0"}}),d.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:2},children:[d.jsxs("span",{style:{color:"#4b5563",minWidth:32,textAlign:"right",paddingRight:6,paddingTop:2,fontSize:11},children:[m,".",p&&E===0?"..":""]}),d.jsxs("div",{style:{display:"flex",gap:4,flexWrap:"wrap",flex:1},children:[y&&d.jsx(Ed,{move:y,onSelect:i,onSelectNovelty:s,allNovelties:a}),!y&&v&&d.jsx("span",{style:{minWidth:52,display:"inline-block"}}),v&&d.jsx(Ed,{move:v,onSelect:i,onSelectNovelty:s,allNovelties:a})]})]})]},E)})})}function Ed({move:e,onSelect:t,onSelectNovelty:n,allNovelties:r}){const{san:i,plyIndex:l,isCurrent:o,isNovelty:s,isCont:a,branches:u}=e,c=s?"#fbbf24":a?"#6b7280":"#e5e7eb",f=o?s?"#78350f":"#1e3a5f":"transparent";return d.jsxs("span",{"data-ply":l,style:{display:"inline-flex",flexDirection:"column",minWidth:52},children:[d.jsxs("span",{onClick:()=>t(l),title:a?"Engine continuation":s?"Novelty":"Book move",style:{color:c,background:f,borderRadius:3,padding:"1px 5px",cursor:"pointer",fontWeight:s?700:400,display:"inline-block"},children:[i,s?"!":""]}),u.length>0&&d.jsx("span",{style:{display:"flex",flexDirection:"column",gap:1,paddingLeft:5,marginTop:1},children:u.map(({san:p,rank:h})=>d.jsx(Lx,{san:p,rank:h,onSelectNovelty:n,allNovelties:r},h))})]})}function Lx({san:e,rank:t,onSelectNovelty:n,allNovelties:r}){const i=l=>{if(l.stopPropagation(),!n||!r)return;const o=r.find(s=>s.rank===t);o&&n(o)};return d.jsxs("span",{onClick:i,title:`Rank ${t}: ${e}`,style:{color:"#4ade80",fontSize:10,cursor:"pointer",display:"inline-block",padding:"0 3px",border:"1px solid #166534",borderRadius:3,lineHeight:1.6},children:[" ",e]})}function Mx({novelty:e}){const{eval_cp:t,stability:n,score:r,pre_novelty_games:i,post_novelty_games:l,depth_evals:o}=e,s=[["Eval",`${t>=0?"+":""}${t.toFixed(1)} cp`],["Stability",`${n.toFixed(1)} cp`],["Score",r.toFixed(1)],["Pre-novelty games",i.toLocaleString()],["Post-novelty games",l===0?"True novelty (0)":l]];return d.jsxs("div",{style:{background:"#111827",borderRadius:8,padding:16},children:[d.jsx("div",{style:{color:"#9ca3af",fontSize:11,textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:10},children:"Evaluation"}),s.map(([a,u])=>d.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"3px 0",borderBottom:"1px solid #1f2937"},children:[d.jsx("span",{style:{color:"#6b7280",fontSize:12},children:a}),d.jsx("span",{style:{fontFamily:"monospace",fontSize:12},children:u})]},a)),Object.keys(o).length>0&&d.jsx("div",{style:{marginTop:8},children:Object.entries(o).sort(([a],[u])=>+a-+u).map(([a,u])=>d.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"2px 0"},children:[d.jsxs("span",{style:{color:"#4b5563",fontSize:11},children:["depth ",a]}),d.jsx("span",{style:{fontFamily:"monospace",fontSize:11,color:"#9ca3af"},children:u})]},a))})]})}function Rx({jobId:e,side:t}){const[n,r]=W.useState(null),[i,l]=W.useState(null),[o,s]=W.useState(0);if(W.useEffect(()=>{fetch(`/api/jobs/${e}/novelties`).then(c=>{if(!c.ok)throw new Error(`HTTP ${c.status}`);return c.json()}).then(c=>{r(c),s(0)}).catch(c=>l(c.message))},[e]),i)return d.jsxs("div",{style:{padding:32,color:"#f87171"},children:["Failed to load novelties: ",i]});if(n===null)return d.jsx("div",{style:{padding:32,color:"#9ca3af"},children:"Loading novelties"});if(n.length===0)return d.jsx("div",{style:{padding:32,color:"#9ca3af"},children:"No novelties found in this job's output PGN."});const a=n[o],u=c=>{const f=n.findIndex(p=>p.rank===c.rank);f!==-1&&s(f)};return d.jsxs("div",{style:{display:"flex",height:"100vh",overflow:"hidden"},children:[d.jsxs("div",{style:{width:420,minWidth:320,overflowY:"auto",borderRight:"1px solid #1f2937",flexShrink:0},children:[d.jsxs("div",{style:{padding:"12px 16px",borderBottom:"1px solid #1f2937"},children:[d.jsxs("span",{style:{color:"#9ca3af",fontSize:12},children:[n.length," novelties  job ",e.slice(0,8)]}),d.jsx("a",{href:`/jobs/${e}`,style:{float:"right",color:"#6b7280",fontSize:12,textDecoration:"none"},children:" Job log"})]}),d.jsx(K1,{novelties:n,selected:o,onSelect:s})]}),d.jsx("div",{style:{flex:1,overflowY:"auto",padding:24},children:d.jsx(Nx,{novelty:a,allNovelties:n,orientation:t,onSelectNovelty:u})})]})}const Ox={color:"#9ca3af",fontSize:11,textTransform:"uppercase",letterSpacing:"0.05em"};function Dx(e){return e>=75?"#f87171":e>=25?"#fbbf24":"#9ca3af"}function Fx(e){return e>=75?"?":"?!"}function $x({habits:e,selected:t,onSelect:n}){return d.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[d.jsx("thead",{children:d.jsx("tr",{style:{position:"sticky",top:0,background:"#030712",zIndex:1},children:["#","Player","Best","Gap","Freq","Score"].map(r=>d.jsx("th",{style:{...Ox,padding:"8px 10px",textAlign:r==="#"?"center":"left",borderBottom:"1px solid #1f2937"},children:r},r))})}),d.jsx("tbody",{children:e.map((r,i)=>{const l=i===t,o=Fx(r.eval_gap_cp);return d.jsxs("tr",{onClick:()=>n(i),style:{cursor:"pointer",background:l?"#1c1f2e":"transparent",borderLeft:l?"3px solid #f59e0b":"3px solid transparent",transition:"background 0.1s"},children:[d.jsx("td",{style:{padding:"7px 10px",textAlign:"center",color:"#6b7280",fontSize:12},children:r.rank}),d.jsxs("td",{style:{padding:"7px 10px",fontWeight:600,fontFamily:"monospace",color:"#f87171"},children:[r.player_move_san,o]}),d.jsx("td",{style:{padding:"7px 10px",fontFamily:"monospace",color:"#4ade80"},children:r.best_move_san}),d.jsxs("td",{style:{padding:"7px 10px",fontFamily:"monospace",fontSize:12,color:Dx(r.eval_gap_cp)},children:[r.eval_gap_cp>=0?"+":"",r.eval_gap_cp.toFixed(0)]}),d.jsxs("td",{style:{padding:"7px 10px",color:"#9ca3af",fontSize:12},children:[r.total_games,""]}),d.jsx("td",{style:{padding:"7px 10px",color:"#fbbf24",fontSize:12},children:r.score.toFixed(1)})]},r.rank)})})]})}const Vl=480;function Bx({habit:e,orientation:t}){const[n,r]=W.useState("arrows");W.useEffect(()=>{r("arrows")},[e==null?void 0:e.rank]),W.useEffect(()=>{const a=["arrows","player","best"],u=c=>{c.key==="ArrowLeft"&&r(f=>{const p=a.indexOf(f);return a[Math.max(0,p-1)]}),c.key==="ArrowRight"&&r(f=>{const p=a.indexOf(f);return a[Math.min(a.length-1,p+1)]})};return window.addEventListener("keydown",u),()=>window.removeEventListener("keydown",u)},[]);const{fen:i,lastMove:l,autoShapes:o}=W.useMemo(()=>{if(!e)return{fen:"rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1",lastMove:null,autoShapes:[]};if(n==="arrows"){const c=[];return e.player_move_orig&&e.player_move_dest&&c.push({orig:e.player_move_orig,dest:e.player_move_dest,brush:"red"}),e.best_move_orig&&e.best_move_dest&&c.push({orig:e.best_move_orig,dest:e.best_move_dest,brush:"green"}),{fen:e.fen,lastMove:null,autoShapes:c}}const a=n==="player"?e.player_move_orig:e.best_move_orig,u=n==="player"?e.player_move_dest:e.best_move_dest;try{const c=new ei(e.fen);return c.move({from:a,to:u,promotion:"q"}),{fen:c.fen(),lastMove:[a,u],autoShapes:[]}}catch{return{fen:e.fen,lastMove:null,autoShapes:[]}}},[e,n]);if(!e)return null;const s={fen:i,orientation:t,lastMove:l??void 0,movable:{free:!1,color:"none"},draggable:{enabled:!1},selectable:{enabled:!1},animation:{enabled:!0,duration:200},drawable:{enabled:!1,visible:!0,autoShapes:o}};return d.jsxs("div",{style:{display:"flex",gap:24,alignItems:"flex-start"},children:[d.jsxs("div",{style:{flexShrink:0},children:[d.jsx("div",{style:{width:Vl,height:Vl},children:d.jsx(hl,{width:Vl,height:Vl,config:s})}),d.jsx(Ux,{view:n,setView:r})]}),d.jsxs("div",{style:{flex:1,minWidth:0},children:[d.jsx(Hx,{habit:e}),d.jsx(Wx,{fen:e.fen})]})]})}function Ux({view:e,setView:t}){const n=(r,i,l)=>d.jsx("button",{onClick:()=>t(i),title:l,style:{background:e===i?"#78350f":"#1f2937",color:e===i?"#fbbf24":"#9ca3af",border:"none",borderRadius:4,padding:"5px 14px",fontSize:13,cursor:"pointer",transition:"background 0.1s"},children:r},i);return d.jsxs("div",{style:{marginTop:10,display:"flex",gap:6,justifyContent:"center"},children:[n(" Both","arrows","Show both moves as arrows ()"),n(" Player","player","Show player's habitual move"),n(" Best","best","Show engine's best move ()")]})}function Hx({habit:e}){const t=e.eval_gap_cp>=75?"?":"?!",n=e.eval_gap_cp>=75?"#f87171":e.eval_gap_cp>=25?"#fbbf24":"#9ca3af",r=i=>{const l=i/100;return`${l>=0?"+":""}${l.toFixed(2)}`};return d.jsxs("div",{style:{background:"#111827",borderRadius:8,padding:16,marginBottom:12},children:[d.jsxs("div",{style:{color:"#9ca3af",fontSize:11,textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:12},children:["Habit #",e.rank]}),d.jsxs("div",{style:{display:"flex",gap:10,marginBottom:14},children:[d.jsxs("div",{style:{flex:1,background:"#1f2937",borderRadius:6,padding:"10px 12px",border:"1px solid #450a0a"},children:[d.jsxs("div",{style:{color:"#6b7280",fontSize:10,textTransform:"uppercase",marginBottom:4},children:["Player ",t]}),d.jsx("div",{style:{color:"#f87171",fontFamily:"monospace",fontSize:22,fontWeight:700,lineHeight:1},children:e.player_move_san}),d.jsx("div",{style:{color:"#9ca3af",fontSize:11,marginTop:4},children:r(e.player_eval_cp)})]}),d.jsxs("div",{style:{flex:1,background:"#1f2937",borderRadius:6,padding:"10px 12px",border:"1px solid #052e16"},children:[d.jsx("div",{style:{color:"#6b7280",fontSize:10,textTransform:"uppercase",marginBottom:4},children:"Best "}),d.jsx("div",{style:{color:"#4ade80",fontFamily:"monospace",fontSize:22,fontWeight:700,lineHeight:1},children:e.best_move_san}),d.jsx("div",{style:{color:"#9ca3af",fontSize:11,marginTop:4},children:r(e.eval_cp)})]})]}),[["Eval Gap",`${e.eval_gap_cp>=0?"+":""}${e.eval_gap_cp.toFixed(0)} cp`,n],["Frequency",`${e.total_games} at this position`,null],["Score",e.score.toFixed(1),"#fbbf24"]].map(([i,l,o])=>d.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"4px 0",borderBottom:"1px solid #1f2937"},children:[d.jsx("span",{style:{color:"#6b7280",fontSize:12},children:i}),d.jsx("span",{style:{fontFamily:"monospace",fontSize:12,color:o||"#e5e7eb"},children:l})]},i))]})}function Wx({fen:e}){const t=`https://lichess.org/analysis/${e.replace(/ /g,"_")}`;return d.jsx("a",{href:t,target:"_blank",rel:"noreferrer",style:{display:"inline-block",color:"#9ca3af",fontSize:12,textDecoration:"none",padding:"5px 10px",border:"1px solid #374151",borderRadius:4,transition:"color 0.1s"},children:"Open in Lichess "})}function Vx({jobId:e,side:t}){const[n,r]=W.useState(null),[i,l]=W.useState(null),[o,s]=W.useState(0);if(W.useEffect(()=>{fetch(`/api/jobs/${e}/habits`).then(u=>{if(!u.ok)throw new Error(`HTTP ${u.status}`);return u.json()}).then(u=>{r(u),s(0)}).catch(u=>l(u.message))},[e]),i)return d.jsxs("div",{style:{padding:32,color:"#f87171"},children:["Failed to load habits: ",i]});if(n===null)return d.jsx("div",{style:{padding:32,color:"#9ca3af"},children:"Loading habits"});if(n.length===0)return d.jsx("div",{style:{padding:32,color:"#9ca3af"},children:"No habit inaccuracies found in this job's output."});const a=n[o];return d.jsxs("div",{style:{display:"flex",height:"100vh",overflow:"hidden"},children:[d.jsxs("div",{style:{width:380,minWidth:280,overflowY:"auto",borderRight:"1px solid #1f2937",flexShrink:0},children:[d.jsxs("div",{style:{padding:"12px 16px",borderBottom:"1px solid #1f2937"},children:[d.jsxs("span",{style:{color:"#9ca3af",fontSize:12},children:[n.length," habits  job ",e.slice(0,8)]}),d.jsxs("div",{style:{float:"right",display:"flex",gap:10},children:[d.jsx("a",{href:`/jobs/${e}/habits-practice`,style:{color:"#fbbf24",fontSize:12,textDecoration:"none"},children:"Practice "}),d.jsx("a",{href:`/jobs/${e}`,style:{color:"#6b7280",fontSize:12,textDecoration:"none"},children:" Job log"})]})]}),d.jsx($x,{habits:n,selected:o,onSelect:s})]}),d.jsx("div",{style:{flex:1,overflowY:"auto",padding:24},children:d.jsx(Bx,{habit:a,orientation:t})})]})}const Kl=480;function Kx(e,t){try{const n=new ei(e),r=t==="white"?"w":"b",i=new Map;for(const l of n.board().flat()){if(!l||l.color!==r)continue;const o=n.moves({square:l.square,verbose:!0});o.length>0&&i.set(l.square,o.map(s=>s.to))}return i}catch{return new Map}}function qx(e,t,n){try{const r=new ei(e);return r.move({from:t,to:n,promotion:"q"})?r.fen():null}catch{return null}}function Qx({habit:e,orientation:t,onNext:n,onSkip:r,progress:i}){const[l,o]=W.useState(null),[s,a]=W.useState(e.fen),[u,c]=W.useState(null),[f,p]=W.useState(!1),[h,g]=W.useState(!1),[w,j]=W.useState(0),m=W.useRef(null);W.useEffect(()=>{o(null),a(e.fen),c(null),p(!1),g(!1),j(0),m.current&&(clearTimeout(m.current),m.current=null)},[e.rank]),W.useEffect(()=>()=>{m.current&&clearTimeout(m.current)},[]);const y=(N,H)=>{if(l==="correct")return;const R=qx(s,N,H);if(!R)return;const F=N===e.best_move_orig&&H===e.best_move_dest,B=N===e.player_move_orig&&H===e.player_move_dest;F?(a(R),c([N,H]),o("correct"),m.current=setTimeout(()=>n("correct"),1800)):B?(a(R),c([N,H]),o("habit"),setTimeout(()=>{a(e.fen),c(null),o(null),j(re=>re+1)},1400)):(a(R),c([N,H]),o("other"),setTimeout(()=>{a(e.fen),c(null),o(null),j(re=>re+1)},1400))},v=()=>{p(!0),g(!0),o(null)},E=W.useMemo(()=>f?[{orig:e.best_move_orig,dest:e.best_move_dest,brush:"green"}].filter(N=>N.orig&&N.dest):[],[f,e.best_move_orig,e.best_move_dest]),z=l==null,S=W.useMemo(()=>z?Kx(s,t):new Map,[s,t,z]),I={fen:s,orientation:t,lastMove:u??void 0,movable:{free:!1,color:z?t:"none",dests:S,events:{after:y}},draggable:{enabled:z},selectable:{enabled:z},animation:{enabled:!0,duration:200},drawable:{enabled:!1,visible:!0,autoShapes:E}};return d.jsxs("div",{style:{display:"flex",gap:24,alignItems:"flex-start"},children:[d.jsxs("div",{style:{flexShrink:0},children:[d.jsxs("div",{style:{width:Kl,height:Kl,position:"relative"},children:[d.jsx(hl,{width:Kl,height:Kl,config:I},w),l&&l!=="correct"&&d.jsx("div",{style:{position:"absolute",inset:0,background:l==="habit"?"rgba(239,68,68,0.18)":"rgba(251,191,36,0.12)",pointerEvents:"none",borderRadius:2,transition:"opacity 0.2s"}}),l==="correct"&&d.jsx("div",{style:{position:"absolute",inset:0,background:"rgba(74,222,128,0.18)",pointerEvents:"none",borderRadius:2}})]}),d.jsxs("div",{style:{marginTop:10,display:"flex",gap:8,justifyContent:"center"},children:[d.jsx("button",{onClick:v,disabled:h||l==="correct",style:{background:"#1f2937",color:h?"#374151":"#9ca3af",border:"none",borderRadius:4,padding:"5px 14px",fontSize:13,cursor:h?"default":"pointer"},children:"Reveal Answer"}),d.jsx("button",{onClick:()=>r(),style:{background:"#1f2937",color:"#9ca3af",border:"none",borderRadius:4,padding:"5px 14px",fontSize:13,cursor:"pointer"},children:"Skip "})]})]}),d.jsxs("div",{style:{flex:1,minWidth:0},children:[d.jsx(Yx,{feedback:l,habit:e,showAnswer:f}),d.jsx(Gx,{progress:i})]})]})}function Yx({feedback:e,habit:t,showAnswer:n}){const r=t.eval_gap_cp>=75?"?":"?!",i={correct:{color:"#4ade80",bg:"#052e16",border:"#166534",title:" Correct!",body:`${t.best_move_san} is the best move (+${(t.eval_gap_cp/100).toFixed(2)} over ${t.player_move_san}${r})`},habit:{color:"#f87171",bg:"#450a0a",border:"#7f1d1d",title:` That's your habit! (${t.player_move_san}${r})`,body:`This is the move you usually play  it loses ${t.eval_gap_cp.toFixed(0)} cp. Try again.`},other:{color:"#fbbf24",bg:"#451a03",border:"#78350f",title:"~ Not the best move",body:"That's not your usual mistake, but it's not optimal here. Try again."}},l=e?i[e]:null,o=t.eval_gap_cp>=75?"#f87171":"#fbbf24";return d.jsxs("div",{children:[l&&d.jsxs("div",{style:{background:l.bg,border:`1px solid ${l.border}`,borderRadius:8,padding:"12px 16px",marginBottom:14},children:[d.jsx("div",{style:{color:l.color,fontWeight:700,fontSize:14,marginBottom:4},children:l.title}),d.jsx("div",{style:{color:"#9ca3af",fontSize:12},children:l.body})]}),d.jsxs("div",{style:{background:"#111827",borderRadius:8,padding:"12px 16px",marginBottom:14},children:[d.jsxs("div",{style:{color:"#6b7280",fontSize:10,textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:10},children:["Habit #",t.rank]}),(n||e==="correct")&&d.jsxs("div",{style:{display:"flex",gap:10,marginBottom:12},children:[d.jsxs("div",{style:{flex:1,background:"#1f2937",borderRadius:6,padding:"8px 12px",border:"1px solid #450a0a"},children:[d.jsxs("div",{style:{color:"#6b7280",fontSize:10,textTransform:"uppercase",marginBottom:4},children:["Your Habit ",r]}),d.jsx("div",{style:{color:"#f87171",fontFamily:"monospace",fontSize:20,fontWeight:700},children:t.player_move_san}),d.jsxs("div",{style:{color:"#9ca3af",fontSize:11,marginTop:2},children:[t.player_eval_cp/100>=0?"+":"",(t.player_eval_cp/100).toFixed(2)]})]}),d.jsxs("div",{style:{flex:1,background:"#1f2937",borderRadius:6,padding:"8px 12px",border:"1px solid #052e16"},children:[d.jsx("div",{style:{color:"#6b7280",fontSize:10,textTransform:"uppercase",marginBottom:4},children:"Best Move "}),d.jsx("div",{style:{color:"#4ade80",fontFamily:"monospace",fontSize:20,fontWeight:700},children:t.best_move_san}),d.jsxs("div",{style:{color:"#9ca3af",fontSize:11,marginTop:2},children:[t.eval_cp/100>=0?"+":"",(t.eval_cp/100).toFixed(2)]})]})]}),[["Eval Gap",`${t.eval_gap_cp>=0?"+":""}${t.eval_gap_cp.toFixed(0)} cp`,o],["Frequency",`${t.total_games} at this position`,null],["Score",t.score.toFixed(1),"#fbbf24"]].map(([s,a,u])=>d.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"3px 0",borderBottom:"1px solid #1f2937"},children:[d.jsx("span",{style:{color:"#6b7280",fontSize:12},children:s}),d.jsx("span",{style:{fontFamily:"monospace",fontSize:12,color:u||"#e5e7eb"},children:a})]},s)),!e&&!n&&d.jsx("div",{style:{marginTop:12,color:"#6b7280",fontSize:12},children:"Find the best move. Play it on the board."})]})]})}function Gx({progress:e}){const{current:t,total:n,correct:r,skipped:i}=e,l=n>0?Math.round(t/n*100):0;return d.jsxs("div",{style:{background:"#111827",borderRadius:8,padding:"12px 16px"},children:[d.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:8},children:[d.jsxs("span",{style:{color:"#9ca3af",fontSize:12},children:[t," / ",n]}),d.jsxs("div",{style:{display:"flex",gap:12},children:[d.jsxs("span",{style:{color:"#4ade80",fontSize:12},children:[" ",r]}),d.jsxs("span",{style:{color:"#6b7280",fontSize:12},children:[" ",i]})]})]}),d.jsx("div",{style:{background:"#1f2937",borderRadius:4,height:4},children:d.jsx("div",{style:{background:"#22c55e",borderRadius:4,height:4,width:`${l}%`,transition:"width 0.3s"}})})]})}function Xx({jobId:e,side:t}){const[n,r]=W.useState(null),[i,l]=W.useState(null),[o,s]=W.useState(0),[a,u]=W.useState(0),[c,f]=W.useState(0),[p,h]=W.useState(!1);W.useEffect(()=>{fetch(`/api/jobs/${e}/habits`).then(y=>{if(!y.ok)throw new Error(`HTTP ${y.status}`);return y.json()}).then(y=>{r(y),s(0)}).catch(y=>l(y.message))},[e]);const g=y=>{if(!n)return;y==="correct"?u(E=>E+1):y==="skip"&&f(E=>E+1);const v=o+1;v>=n.length?h(!0):s(v)},w=()=>{s(0),u(0),f(0),h(!1)};if(i)return d.jsxs("div",{style:{padding:32,color:"#f87171"},children:["Failed to load habits: ",i]});if(n===null)return d.jsx("div",{style:{padding:32,color:"#9ca3af"},children:"Loading habits"});if(n.length===0)return d.jsx("div",{style:{padding:32,color:"#9ca3af"},children:"No habit inaccuracies found."});if(p)return d.jsx(Zx,{total:n.length,correct:a,skipped:c,onRestart:w,jobId:e});const j=n[o],m={current:o+1,total:n.length,correct:a,skipped:c};return d.jsxs("div",{style:{display:"flex",height:"100vh",overflow:"hidden",background:"#030712",color:"#f3f4f6"},children:[d.jsxs("div",{style:{position:"absolute",top:0,left:0,right:0,padding:"10px 20px",borderBottom:"1px solid #1f2937",display:"flex",justifyContent:"space-between",alignItems:"center",background:"#030712",zIndex:10},children:[d.jsx("span",{style:{fontWeight:600,fontSize:14},children:"Habit Practice"}),d.jsxs("div",{style:{display:"flex",gap:16,alignItems:"center"},children:[d.jsx("a",{href:`/jobs/${e}/habits-browser`,style:{color:"#6b7280",fontSize:12,textDecoration:"none"},children:" Browse Habits"}),d.jsx("a",{href:`/jobs/${e}`,style:{color:"#6b7280",fontSize:12,textDecoration:"none"},children:" Job log"})]})]}),d.jsx("div",{style:{flex:1,overflowY:"auto",padding:"64px 24px 24px"},children:d.jsx(Qx,{habit:j,orientation:t,onNext:y=>g(y),onSkip:()=>g("skip"),progress:m},j.rank)})]})}function Zx({total:e,correct:t,skipped:n,onRestart:r,jobId:i}){const l=e>0?Math.round(t/e*100):0;return d.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100vh",background:"#030712",color:"#f3f4f6"},children:d.jsxs("div",{style:{textAlign:"center",maxWidth:360},children:[d.jsx("div",{style:{fontSize:48,marginBottom:16},children:l>=80?"":l>=50?"":""}),d.jsx("h1",{style:{fontSize:24,fontWeight:700,marginBottom:8},children:"Session Complete"}),d.jsxs("p",{style:{color:"#9ca3af",marginBottom:24},children:["You worked through all ",e," habit exercises."]}),d.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:24,marginBottom:28},children:[d.jsxs("div",{children:[d.jsx("div",{style:{color:"#4ade80",fontSize:28,fontWeight:700},children:t}),d.jsx("div",{style:{color:"#6b7280",fontSize:12},children:"Correct"})]}),d.jsxs("div",{children:[d.jsx("div",{style:{color:"#6b7280",fontSize:28,fontWeight:700},children:n}),d.jsx("div",{style:{color:"#6b7280",fontSize:12},children:"Skipped"})]}),d.jsxs("div",{children:[d.jsxs("div",{style:{color:"#fbbf24",fontSize:28,fontWeight:700},children:[l,"%"]}),d.jsx("div",{style:{color:"#6b7280",fontSize:12},children:"Score"})]})]}),d.jsxs("div",{style:{display:"flex",gap:10,justifyContent:"center"},children:[d.jsx("button",{onClick:r,style:{background:"#1d4ed8",color:"#fff",border:"none",borderRadius:6,padding:"8px 20px",fontSize:14,cursor:"pointer",fontWeight:600},children:"Practice Again"}),d.jsx("a",{href:`/jobs/${i}/habits-browser`,style:{background:"#1f2937",color:"#9ca3af",borderRadius:6,padding:"8px 20px",fontSize:14,textDecoration:"none",display:"inline-block"},children:"Browse Habits"})]})]})})}const xi=480;function Jx({node:e,nodeMap:t,orientation:n,onNavigate:r,onBack:i,canGoBack:l,treeStats:o}){if(!e)return null;const s={fen:e.fen,orientation:n,lastMove:e.move_orig&&e.move_dest?[e.move_orig,e.move_dest]:void 0,movable:{free:!1,color:"none"},draggable:{enabled:!1},selectable:{enabled:!1},animation:{enabled:!0,duration:200}},a=e.children||[];return d.jsxs("div",{style:{display:"flex",gap:24,alignItems:"flex-start"},children:[d.jsxs("div",{style:{flexShrink:0,width:xi},children:[d.jsx("div",{style:{width:xi,height:xi},children:d.jsx(hl,{width:xi,height:xi,config:s})}),d.jsx(ew,{onBack:i,canGoBack:l}),d.jsx(tw,{node:e,treeStats:o,orientation:n})]}),d.jsxs("div",{style:{flex:1,minWidth:0},children:[d.jsx(nw,{node:e}),d.jsx(rw,{children:a,nodeMap:t,onNavigate:r})]})]})}function ew({onBack:e,canGoBack:t}){return d.jsxs("div",{style:{marginTop:10,display:"flex",gap:6,justifyContent:"center"},children:[d.jsx("button",{onClick:e,disabled:!t,title:"Back ( or )",style:{background:t?"#1f2937":"#111",color:t?"#9ca3af":"#374151",border:"none",borderRadius:4,padding:"5px 16px",fontSize:13,cursor:t?"pointer":"default"},children:" Back"}),d.jsx("span",{style:{color:"#4b5563",fontSize:12,alignSelf:"center"},children:t?"":"Start position"})]})}function tw({node:e,treeStats:t,orientation:n}){const r=e==null?void 0:e.freq,i=r&&r.wins!==null&&r.draws!==null&&r.losses!==null,l=i?r.wins+r.draws+r.losses:0,o=i&&l>0?r.wins/l*100:0,s=i&&l>0?r.draws/l*100:0,a=i&&l>0?r.losses/l*100:0,u=i&&l>0?(r.wins+r.draws*.5)/l*100:null,c=i&&l>0?o+s:null,f=t!=null&&t.quality_by_depth?Object.entries(t.quality_by_depth).map(([p,h])=>[Number(p),h]).sort((p,h)=>p[0]-h[0]):[];return d.jsxs("div",{style:{marginTop:12,background:"#0a0f1a",border:"1px solid #1e2d45",borderRadius:10,padding:"16px",fontSize:12},children:[r&&d.jsxs("div",{style:{marginBottom:t?16:0},children:[d.jsx(Cd,{children:"This Line"}),i?d.jsxs(d.Fragment,{children:[d.jsxs("div",{style:{display:"flex",height:12,borderRadius:6,overflow:"hidden",marginBottom:6},children:[d.jsx("div",{style:{width:`${o}%`,background:"#22c55e",transition:"width 0.35s"}}),d.jsx("div",{style:{width:`${s}%`,background:"#64748b",transition:"width 0.35s"}}),d.jsx("div",{style:{width:`${a}%`,background:"#ef4444",transition:"width 0.35s"}})]}),d.jsxs("div",{style:{display:"flex",gap:14,color:"#9ca3af",marginBottom:12,fontSize:11},children:[d.jsxs("span",{style:{color:"#4ade80"},children:[" ",o.toFixed(0),"% W"]}),d.jsxs("span",{style:{color:"#94a3b8"},children:[" ",s.toFixed(0),"% D"]}),d.jsxs("span",{style:{color:"#f87171"},children:[" ",a.toFixed(0),"% L"]})]})]}):r.total>0&&d.jsx("div",{style:{marginBottom:10},children:d.jsx("div",{style:{display:"flex",height:8,borderRadius:4,overflow:"hidden",background:"#1e2d45",marginBottom:4},children:d.jsx("div",{style:{width:`${r.pct}%`,background:"#f59e0b",transition:"width 0.35s"}})})}),d.jsxs("div",{style:{display:"flex",gap:6,flexWrap:"wrap"},children:[i&&u!==null&&d.jsx(_n,{label:"Advantage",value:`${o>=50?"+":""}${o.toFixed(0)}%`,color:o>=55?"#4ade80":o>=45?"#fbbf24":"#f87171"}),c!==null&&d.jsx(_n,{label:"Solidity",value:`${c.toFixed(0)}%`,color:c>=70?"#60a5fa":c>=50?"#9ca3af":"#f87171"}),u!==null&&d.jsx(_n,{label:"Score",value:(u/100).toFixed(2),color:u>=55?"#fbbf24":u>=45?"#9ca3af":"#f87171"}),r.games!==void 0&&d.jsx(_n,{label:"Frequency",value:`${r.games}/${r.total}`,color:"#9ca3af",subtitle:`${r.pct}% of games`})]})]}),t&&d.jsxs("div",{style:{borderTop:r?"1px solid #1e2d45":"none",paddingTop:r?14:0},children:[d.jsx(Cd,{children:"Repertoire Overview"}),d.jsxs("div",{style:{display:"flex",gap:6,flexWrap:"wrap",marginBottom:14},children:[d.jsx(_n,{label:"Lines",value:t.leaf_count,color:"#f3f4f6"}),d.jsx(_n,{label:"Positions",value:t.total_positions,color:"#f3f4f6"}),d.jsx(_n,{label:"Your moves",value:t.player_moves,color:"#fbbf24"}),d.jsx(_n,{label:"Max depth",value:`${t.max_depth}p`,color:"#60a5fa"})]}),f.length>0?d.jsxs(d.Fragment,{children:[d.jsx("div",{style:{color:"#6b7280",fontSize:10,textTransform:"uppercase",letterSpacing:"0.06em",marginBottom:6},children:"Prep quality by depth"}),d.jsx("div",{style:{display:"flex",flexDirection:"column",gap:4},children:f.map(([p,h])=>{const g=h.score,w=g>=55?"#22c55e":g>=45?"#f59e0b":"#ef4444",j=g>=55?"#4ade80":g>=45?"#fbbf24":"#f87171";return d.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6},children:[d.jsxs("span",{style:{width:32,textAlign:"right",fontSize:10,color:"#4b5563",flexShrink:0},children:["ply ",p]}),d.jsx("div",{style:{flex:1,background:"#1e2d45",borderRadius:3,height:10,overflow:"hidden"},children:d.jsx("div",{style:{width:`${g}%`,height:"100%",background:w,borderRadius:3,transition:"width 0.35s",opacity:.85}})}),d.jsxs("span",{style:{width:32,fontSize:10,color:j,textAlign:"right",fontFamily:"monospace"},children:[g.toFixed(0),"%"]})]},p)})}),d.jsx("div",{style:{fontSize:10,color:"#4b5563",marginTop:6},children:"Performance score (wins +  draws) across all your moves at each ply"})]}):d.jsx("div",{style:{color:"#4b5563",fontSize:11},children:"Quality data available after running a new repertoire job."})]})]})}function Cd({children:e}){return d.jsx("div",{style:{color:"#6b7280",fontSize:10,textTransform:"uppercase",letterSpacing:"0.06em",marginBottom:8},children:e})}function _n({label:e,value:t,color:n,subtitle:r}){return d.jsxs("div",{style:{background:"#111827",border:"1px solid #1e2d45",borderRadius:7,padding:"7px 11px",minWidth:58},children:[d.jsx("div",{style:{color:n,fontSize:16,fontWeight:700,fontFamily:"monospace",lineHeight:1.2},children:t}),d.jsx("div",{style:{color:"#6b7280",fontSize:10,marginTop:2},children:e}),r&&d.jsx("div",{style:{color:"#4b5563",fontSize:9,marginTop:1},children:r})]})}function nw({node:e}){return e.move_san?d.jsxs("div",{style:{background:"#111827",borderRadius:8,padding:"12px 16px",marginBottom:14},children:[d.jsxs("div",{style:{display:"flex",alignItems:"baseline",gap:10},children:[d.jsx("span",{style:{fontFamily:"monospace",fontSize:22,fontWeight:700,color:e.is_player_move?"#fbbf24":"#9ca3af"},children:e.move_san}),d.jsx("span",{style:{fontSize:11,color:"#6b7280"},children:e.is_player_move?"your move":"opponent's move"}),d.jsxs("span",{style:{fontSize:11,color:"#6b7280"},children:[" ply ",e.depth]})]}),e.freq&&d.jsxs("div",{style:{color:"#9ca3af",fontSize:12,marginTop:6},children:[e.freq.games,"/",e.freq.total," games  ",e.freq.pct,"%"]})]}):d.jsxs("div",{style:{background:"#111827",borderRadius:8,padding:"12px 16px",marginBottom:14},children:[d.jsx("div",{style:{color:"#9ca3af",fontSize:12},children:"Starting position"}),d.jsx("div",{style:{color:"#6b7280",fontSize:11,marginTop:4},children:"Use   arrow keys or click moves below to navigate."})]})}function rw({children:e,nodeMap:t,onNavigate:n}){var i;if(!e||e.length===0)return d.jsx("div",{style:{background:"#111827",borderRadius:8,padding:"12px 16px",color:"#4b5563",fontSize:12},children:"End of line."});const r=(i=e[0])==null?void 0:i.is_player_move;return d.jsxs("div",{style:{background:"#111827",borderRadius:8,padding:"12px 16px"},children:[d.jsx("div",{style:{color:"#6b7280",fontSize:10,textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:10},children:r?"Your moves":"Opponent's responses"}),d.jsx("div",{style:{display:"flex",flexDirection:"column",gap:6},children:e.map((l,o)=>d.jsx(iw,{node:l,isMainline:o===0,isPlayerMove:l.is_player_move,onClick:()=>n(l.id)},l.id))})]})}function iw({node:e,isMainline:t,isPlayerMove:n,onClick:r}){const[i,l]=Vr.useState(!1),o=i?"#1f2937":"#0f172a",s=n?t?"#fbbf24":"#d97706":t?"#e5e7eb":"#9ca3af";return d.jsxs("div",{onClick:r,onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),style:{display:"flex",alignItems:"center",gap:10,padding:"8px 12px",borderRadius:6,background:o,border:`1px solid ${t?"#1d4ed8":"#1f2937"}`,cursor:"pointer",transition:"background 0.1s"},children:[d.jsx("span",{style:{fontFamily:"monospace",fontSize:16,fontWeight:t?700:400,color:s,minWidth:48},children:e.move_san}),e.freq&&d.jsxs("span",{style:{color:"#6b7280",fontSize:11},children:[e.freq.pct,"%"]}),e.children.length===0&&d.jsx("span",{style:{marginLeft:"auto",color:"#374151",fontSize:10},children:"end"})]})}function cg(e,t=new Map){t.set(e.id,e);for(const n of e.children)cg(n,t);return t}function lw({jobId:e,side:t}){const[n,r]=W.useState(null),[i,l]=W.useState(null),[o,s]=W.useState(null),[a,u]=W.useState([]),[c,f]=W.useState(null),[p,h]=W.useState(null);W.useEffect(()=>{fetch(`/api/jobs/${e}/repertoire`).then(m=>{if(!m.ok)throw new Error(`HTTP ${m.status}`);return m.json()}).then(m=>{if(!m.root){h("No repertoire data found.");return}const y=cg(m.root);r(y),l(m.root.id),s(m.root.id),u([m.root.id]),f(m.tree_stats||null)}).catch(m=>h(m.message))},[e]);const g=W.useCallback(m=>{if(!n)return;const y=[];let v=n.get(m);for(;v;)y.unshift(v.id),v=v.parent_id?n.get(v.parent_id):null;s(m),u(y)},[n]),w=W.useCallback(()=>{a.length<=1||g(a[a.length-2])},[a,g]);if(W.useEffect(()=>{const m=y=>{var E;if(!n||!o)return;const v=n.get(o);(y.key==="ArrowRight"||y.key==="ArrowDown")&&((E=v==null?void 0:v.children)==null?void 0:E.length)>0&&g(v.children[0].id),(y.key==="ArrowLeft"||y.key==="ArrowUp")&&w()};return window.addEventListener("keydown",m),()=>window.removeEventListener("keydown",m)},[n,o,g,w]),p)return d.jsxs("div",{style:{padding:32,color:"#f87171"},children:["Failed to load repertoire: ",p]});if(n===null)return d.jsx("div",{style:{padding:32,color:"#9ca3af"},children:"Loading repertoire"});const j=n.get(o);return d.jsxs("div",{style:{display:"flex",height:"100vh",overflow:"hidden",background:"#030712",color:"#f3f4f6"},children:[d.jsxs("div",{style:{width:260,minWidth:200,overflowY:"auto",borderRight:"1px solid #1f2937",flexShrink:0,fontFamily:"monospace",fontSize:13},children:[d.jsxs("div",{style:{padding:"12px 16px",borderBottom:"1px solid #1f2937",display:"flex",alignItems:"center",justifyContent:"space-between",gap:8},children:[d.jsxs("span",{style:{color:"#9ca3af",fontSize:12,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",minWidth:0},children:["Repertoire  ",e.slice(0,8)]}),d.jsx("a",{href:`/jobs/${e}`,style:{color:"#6b7280",fontSize:12,textDecoration:"none",whiteSpace:"nowrap",flexShrink:0},children:" Job log"})]}),d.jsx(ow,{path:a,nodeMap:n,curId:o,onSelect:g})]}),d.jsx("div",{style:{flex:1,overflowY:"auto",padding:24},children:d.jsx(Jx,{node:j,nodeMap:n,orientation:t,onNavigate:g,onBack:w,canGoBack:a.length>1,treeStats:c})})]})}function ow({path:e,nodeMap:t,curId:n,onSelect:r}){if(!t)return null;const i=e.slice(1).map(a=>t.get(a)).filter(Boolean),l=[];let o=0;const s=i[0];for(s&&s.is_player_move;o<i.length;)l.push({num:Math.floor(o/2)+1,white:i[o],black:i[o+1]??null}),o+=2;return d.jsx("div",{style:{padding:"8px 4px"},children:l.map(({num:a,white:u,black:c})=>d.jsxs("div",{style:{display:"flex",gap:2,padding:"1px 4px"},children:[d.jsxs("span",{style:{color:"#4b5563",minWidth:24,textAlign:"right",fontSize:11,paddingTop:2},children:[a,"."]}),u&&d.jsx(bd,{node:u,isActive:u.id===n,onSelect:r}),c&&d.jsx(bd,{node:c,isActive:c.id===n,onSelect:r})]},a))})}function bd({node:e,isActive:t,onSelect:n}){return d.jsx("span",{onClick:()=>n(e.id),style:{padding:"1px 5px",borderRadius:3,cursor:"pointer",fontWeight:t?700:400,background:t?"#1e3a5f":"transparent",color:e.is_player_move?"#fbbf24":"#9ca3af",minWidth:48,display:"inline-block"},children:e.move_san})}function sw(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const aw=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,uw=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,cw={};function Pd(e,t){return(cw.jsx?uw:aw).test(e)}const fw=/[ \t\n\f\r]/g;function dw(e){return typeof e=="object"?e.type==="text"?jd(e.value):!1:jd(e)}function jd(e){return e.replace(fw,"")===""}class ml{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}ml.prototype.normal={};ml.prototype.property={};ml.prototype.space=void 0;function fg(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new ml(n,r,t)}function du(e){return e.toLowerCase()}class ht{constructor(t,n){this.attribute=n,this.property=t}}ht.prototype.attribute="";ht.prototype.booleanish=!1;ht.prototype.boolean=!1;ht.prototype.commaOrSpaceSeparated=!1;ht.prototype.commaSeparated=!1;ht.prototype.defined=!1;ht.prototype.mustUseProperty=!1;ht.prototype.number=!1;ht.prototype.overloadedBoolean=!1;ht.prototype.property="";ht.prototype.spaceSeparated=!1;ht.prototype.space=void 0;let pw=0;const J=wr(),ze=wr(),pu=wr(),L=wr(),pe=wr(),Hr=wr(),yt=wr();function wr(){return 2**++pw}const hu=Object.freeze(Object.defineProperty({__proto__:null,boolean:J,booleanish:ze,commaOrSpaceSeparated:yt,commaSeparated:Hr,number:L,overloadedBoolean:pu,spaceSeparated:pe},Symbol.toStringTag,{value:"Module"})),na=Object.keys(hu);class Tc extends ht{constructor(t,n,r,i){let l=-1;if(super(t,n),Td(this,"space",i),typeof r=="number")for(;++l<na.length;){const o=na[l];Td(this,na[l],(r&hu[o])===hu[o])}}}Tc.prototype.defined=!0;function Td(e,t,n){n&&(e[t]=n)}function ii(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const l=new Tc(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(l.mustUseProperty=!0),t[r]=l,n[du(r)]=r,n[du(l.attribute)]=r}return new ml(t,n,e.space)}const dg=ii({properties:{ariaActiveDescendant:null,ariaAtomic:ze,ariaAutoComplete:null,ariaBusy:ze,ariaChecked:ze,ariaColCount:L,ariaColIndex:L,ariaColSpan:L,ariaControls:pe,ariaCurrent:null,ariaDescribedBy:pe,ariaDetails:null,ariaDisabled:ze,ariaDropEffect:pe,ariaErrorMessage:null,ariaExpanded:ze,ariaFlowTo:pe,ariaGrabbed:ze,ariaHasPopup:null,ariaHidden:ze,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:pe,ariaLevel:L,ariaLive:null,ariaModal:ze,ariaMultiLine:ze,ariaMultiSelectable:ze,ariaOrientation:null,ariaOwns:pe,ariaPlaceholder:null,ariaPosInSet:L,ariaPressed:ze,ariaReadOnly:ze,ariaRelevant:null,ariaRequired:ze,ariaRoleDescription:pe,ariaRowCount:L,ariaRowIndex:L,ariaRowSpan:L,ariaSelected:ze,ariaSetSize:L,ariaSort:null,ariaValueMax:L,ariaValueMin:L,ariaValueNow:L,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function pg(e,t){return t in e?e[t]:t}function hg(e,t){return pg(e,t.toLowerCase())}const hw=ii({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Hr,acceptCharset:pe,accessKey:pe,action:null,allow:null,allowFullScreen:J,allowPaymentRequest:J,allowUserMedia:J,alt:null,as:null,async:J,autoCapitalize:null,autoComplete:pe,autoFocus:J,autoPlay:J,blocking:pe,capture:null,charSet:null,checked:J,cite:null,className:pe,cols:L,colSpan:null,content:null,contentEditable:ze,controls:J,controlsList:pe,coords:L|Hr,crossOrigin:null,data:null,dateTime:null,decoding:null,default:J,defer:J,dir:null,dirName:null,disabled:J,download:pu,draggable:ze,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:J,formTarget:null,headers:pe,height:L,hidden:pu,high:L,href:null,hrefLang:null,htmlFor:pe,httpEquiv:pe,id:null,imageSizes:null,imageSrcSet:null,inert:J,inputMode:null,integrity:null,is:null,isMap:J,itemId:null,itemProp:pe,itemRef:pe,itemScope:J,itemType:pe,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:J,low:L,manifest:null,max:null,maxLength:L,media:null,method:null,min:null,minLength:L,multiple:J,muted:J,name:null,nonce:null,noModule:J,noValidate:J,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:J,optimum:L,pattern:null,ping:pe,placeholder:null,playsInline:J,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:J,referrerPolicy:null,rel:pe,required:J,reversed:J,rows:L,rowSpan:L,sandbox:pe,scope:null,scoped:J,seamless:J,selected:J,shadowRootClonable:J,shadowRootDelegatesFocus:J,shadowRootMode:null,shape:null,size:L,sizes:null,slot:null,span:L,spellCheck:ze,src:null,srcDoc:null,srcLang:null,srcSet:null,start:L,step:null,style:null,tabIndex:L,target:null,title:null,translate:null,type:null,typeMustMatch:J,useMap:null,value:ze,width:L,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:pe,axis:null,background:null,bgColor:null,border:L,borderColor:null,bottomMargin:L,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:J,declare:J,event:null,face:null,frame:null,frameBorder:null,hSpace:L,leftMargin:L,link:null,longDesc:null,lowSrc:null,marginHeight:L,marginWidth:L,noResize:J,noHref:J,noShade:J,noWrap:J,object:null,profile:null,prompt:null,rev:null,rightMargin:L,rules:null,scheme:null,scrolling:ze,standby:null,summary:null,text:null,topMargin:L,valueType:null,version:null,vAlign:null,vLink:null,vSpace:L,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:J,disableRemotePlayback:J,prefix:null,property:null,results:L,security:null,unselectable:null},space:"html",transform:hg}),mw=ii({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:yt,accentHeight:L,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:L,amplitude:L,arabicForm:null,ascent:L,attributeName:null,attributeType:null,azimuth:L,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:L,by:null,calcMode:null,capHeight:L,className:pe,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:L,diffuseConstant:L,direction:null,display:null,dur:null,divisor:L,dominantBaseline:null,download:J,dx:null,dy:null,edgeMode:null,editable:null,elevation:L,enableBackground:null,end:null,event:null,exponent:L,externalResourcesRequired:null,fill:null,fillOpacity:L,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Hr,g2:Hr,glyphName:Hr,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:L,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:L,horizOriginX:L,horizOriginY:L,id:null,ideographic:L,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:L,k:L,k1:L,k2:L,k3:L,k4:L,kernelMatrix:yt,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:L,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:L,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:L,overlineThickness:L,paintOrder:null,panose1:null,path:null,pathLength:L,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:pe,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:L,pointsAtY:L,pointsAtZ:L,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:yt,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:yt,rev:yt,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:yt,requiredFeatures:yt,requiredFonts:yt,requiredFormats:yt,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:L,specularExponent:L,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:L,strikethroughThickness:L,string:null,stroke:null,strokeDashArray:yt,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:L,strokeOpacity:L,strokeWidth:null,style:null,surfaceScale:L,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:yt,tabIndex:L,tableValues:null,target:null,targetX:L,targetY:L,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:yt,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:L,underlineThickness:L,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:L,values:null,vAlphabetic:L,vMathematical:L,vectorEffect:null,vHanging:L,vIdeographic:L,version:null,vertAdvY:L,vertOriginX:L,vertOriginY:L,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:L,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:pg}),mg=ii({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),gg=ii({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:hg}),yg=ii({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),gw={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},yw=/[A-Z]/g,zd=/-[a-z]/g,vw=/^data[-\w.:]+$/i;function xw(e,t){const n=du(t);let r=t,i=ht;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&vw.test(t)){if(t.charAt(4)==="-"){const l=t.slice(5).replace(zd,kw);r="data"+l.charAt(0).toUpperCase()+l.slice(1)}else{const l=t.slice(4);if(!zd.test(l)){let o=l.replace(yw,ww);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}i=Tc}return new i(r,t)}function ww(e){return"-"+e.toLowerCase()}function kw(e){return e.charAt(1).toUpperCase()}const Sw=fg([dg,hw,mg,gg,yg],"html"),zc=fg([dg,mw,mg,gg,yg],"svg");function _w(e){return e.join(" ").trim()}var Nc={},Nd=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,Ew=/\n/g,Cw=/^\s*/,bw=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,Pw=/^:\s*/,jw=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,Tw=/^[;\s]*/,zw=/^\s+|\s+$/g,Nw=`
`,Id="/",Ad="*",rr="",Iw="comment",Aw="declaration";function Lw(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(g){var w=g.match(Ew);w&&(n+=w.length);var j=g.lastIndexOf(Nw);r=~j?g.length-j:r+g.length}function l(){var g={line:n,column:r};return function(w){return w.position=new o(g),u(),w}}function o(g){this.start=g,this.end={line:n,column:r},this.source=t.source}o.prototype.content=e;function s(g){var w=new Error(t.source+":"+n+":"+r+": "+g);if(w.reason=g,w.filename=t.source,w.line=n,w.column=r,w.source=e,!t.silent)throw w}function a(g){var w=g.exec(e);if(w){var j=w[0];return i(j),e=e.slice(j.length),w}}function u(){a(Cw)}function c(g){var w;for(g=g||[];w=f();)w!==!1&&g.push(w);return g}function f(){var g=l();if(!(Id!=e.charAt(0)||Ad!=e.charAt(1))){for(var w=2;rr!=e.charAt(w)&&(Ad!=e.charAt(w)||Id!=e.charAt(w+1));)++w;if(w+=2,rr===e.charAt(w-1))return s("End of comment missing");var j=e.slice(2,w-2);return r+=2,i(j),e=e.slice(w),r+=2,g({type:Iw,comment:j})}}function p(){var g=l(),w=a(bw);if(w){if(f(),!a(Pw))return s("property missing ':'");var j=a(jw),m=g({type:Aw,property:Ld(w[0].replace(Nd,rr)),value:j?Ld(j[0].replace(Nd,rr)):rr});return a(Tw),m}}function h(){var g=[];c(g);for(var w;w=p();)w!==!1&&(g.push(w),c(g));return g}return u(),h()}function Ld(e){return e?e.replace(zw,rr):rr}var Mw=Lw,Rw=po&&po.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Nc,"__esModule",{value:!0});Nc.default=Dw;const Ow=Rw(Mw);function Dw(e,t){let n=null;if(!e||typeof e!="string")return n;const r=(0,Ow.default)(e),i=typeof t=="function";return r.forEach(l=>{if(l.type!=="declaration")return;const{property:o,value:s}=l;i?t(o,s,l):s&&(n=n||{},n[o]=s)}),n}var ls={};Object.defineProperty(ls,"__esModule",{value:!0});ls.camelCase=void 0;var Fw=/^--[a-zA-Z0-9_-]+$/,$w=/-([a-z])/g,Bw=/^[^-]+$/,Uw=/^-(webkit|moz|ms|o|khtml)-/,Hw=/^-(ms)-/,Ww=function(e){return!e||Bw.test(e)||Fw.test(e)},Vw=function(e,t){return t.toUpperCase()},Md=function(e,t){return"".concat(t,"-")},Kw=function(e,t){return t===void 0&&(t={}),Ww(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(Hw,Md):e=e.replace(Uw,Md),e.replace($w,Vw))};ls.camelCase=Kw;var qw=po&&po.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},Qw=qw(Nc),Yw=ls;function mu(e,t){var n={};return!e||typeof e!="string"||(0,Qw.default)(e,function(r,i){r&&i&&(n[(0,Yw.camelCase)(r,t)]=i)}),n}mu.default=mu;var Gw=mu;const Xw=_u(Gw),vg=xg("end"),Ic=xg("start");function xg(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function Zw(e){const t=Ic(e),n=vg(e);if(t&&n)return{start:t,end:n}}function Fi(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?Rd(e.position):"start"in e||"end"in e?Rd(e):"line"in e||"column"in e?gu(e):""}function gu(e){return Od(e&&e.line)+":"+Od(e&&e.column)}function Rd(e){return gu(e&&e.start)+"-"+gu(e&&e.end)}function Od(e){return e&&typeof e=="number"?e:1}class Qe extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",l={},o=!1;if(n&&("line"in n&&"column"in n?l={place:n}:"start"in n&&"end"in n?l={place:n}:"type"in n?l={ancestors:[n],place:n.position}:l={...n}),typeof t=="string"?i=t:!l.cause&&t&&(o=!0,i=t.message,l.cause=t),!l.ruleId&&!l.source&&typeof r=="string"){const a=r.indexOf(":");a===-1?l.ruleId=r:(l.source=r.slice(0,a),l.ruleId=r.slice(a+1))}if(!l.place&&l.ancestors&&l.ancestors){const a=l.ancestors[l.ancestors.length-1];a&&(l.place=a.position)}const s=l.place&&"start"in l.place?l.place.start:l.place;this.ancestors=l.ancestors||void 0,this.cause=l.cause||void 0,this.column=s?s.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=s?s.line:void 0,this.name=Fi(l.place)||"1:1",this.place=l.place||void 0,this.reason=this.message,this.ruleId=l.ruleId||void 0,this.source=l.source||void 0,this.stack=o&&l.cause&&typeof l.cause.stack=="string"?l.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Qe.prototype.file="";Qe.prototype.name="";Qe.prototype.reason="";Qe.prototype.message="";Qe.prototype.stack="";Qe.prototype.column=void 0;Qe.prototype.line=void 0;Qe.prototype.ancestors=void 0;Qe.prototype.cause=void 0;Qe.prototype.fatal=void 0;Qe.prototype.place=void 0;Qe.prototype.ruleId=void 0;Qe.prototype.source=void 0;const Ac={}.hasOwnProperty,Jw=new Map,ek=/[A-Z]/g,tk=new Set(["table","tbody","thead","tfoot","tr"]),nk=new Set(["td","th"]),wg="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function rk(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=fk(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=ck(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?zc:Sw,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},l=kg(i,e,void 0);return l&&typeof l!="string"?l:i.create(e,i.Fragment,{children:l||void 0},void 0)}function kg(e,t,n){if(t.type==="element")return ik(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return lk(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return sk(e,t,n);if(t.type==="mdxjsEsm")return ok(e,t);if(t.type==="root")return ak(e,t,n);if(t.type==="text")return uk(e,t)}function ik(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=zc,e.schema=i),e.ancestors.push(t);const l=_g(e,t.tagName,!1),o=dk(e,t);let s=Mc(e,t);return tk.has(t.tagName)&&(s=s.filter(function(a){return typeof a=="string"?!dw(a):!0})),Sg(e,o,l,t),Lc(o,s),e.ancestors.pop(),e.schema=r,e.create(t,l,o,n)}function lk(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}sl(e,t.position)}function ok(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);sl(e,t.position)}function sk(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=zc,e.schema=i),e.ancestors.push(t);const l=t.name===null?e.Fragment:_g(e,t.name,!0),o=pk(e,t),s=Mc(e,t);return Sg(e,o,l,t),Lc(o,s),e.ancestors.pop(),e.schema=r,e.create(t,l,o,n)}function ak(e,t,n){const r={};return Lc(r,Mc(e,t)),e.create(t,e.Fragment,r,n)}function uk(e,t){return t.value}function Sg(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function Lc(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function ck(e,t,n){return r;function r(i,l,o,s){const u=Array.isArray(o.children)?n:t;return s?u(l,o,s):u(l,o)}}function fk(e,t){return n;function n(r,i,l,o){const s=Array.isArray(l.children),a=Ic(r);return t(i,l,o,s,{columnNumber:a?a.column-1:void 0,fileName:e,lineNumber:a?a.line:void 0},void 0)}}function dk(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&Ac.call(t.properties,i)){const l=hk(e,i,t.properties[i]);if(l){const[o,s]=l;e.tableCellAlignToStyle&&o==="align"&&typeof s=="string"&&nk.has(t.tagName)?r=s:n[o]=s}}if(r){const l=n.style||(n.style={});l[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function pk(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const l=r.data.estree.body[0];l.type;const o=l.expression;o.type;const s=o.properties[0];s.type,Object.assign(n,e.evaluater.evaluateExpression(s.argument))}else sl(e,t.position);else{const i=r.name;let l;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const s=r.value.data.estree.body[0];s.type,l=e.evaluater.evaluateExpression(s.expression)}else sl(e,t.position);else l=r.value===null?!0:r.value;n[i]=l}return n}function Mc(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:Jw;for(;++r<t.children.length;){const l=t.children[r];let o;if(e.passKeys){const a=l.type==="element"?l.tagName:l.type==="mdxJsxFlowElement"||l.type==="mdxJsxTextElement"?l.name:void 0;if(a){const u=i.get(a)||0;o=a+"-"+u,i.set(a,u+1)}}const s=kg(e,l,o);s!==void 0&&n.push(s)}return n}function hk(e,t,n){const r=xw(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?sw(n):_w(n)),r.property==="style"){let i=typeof n=="object"?n:mk(e,String(n));return e.stylePropertyNameCase==="css"&&(i=gk(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?gw[r.property]||r.property:r.attribute,n]}}function mk(e,t){try{return Xw(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new Qe("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=wg+"#cannot-parse-style-attribute",i}}function _g(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let l=-1,o;for(;++l<i.length;){const s=Pd(i[l])?{type:"Identifier",name:i[l]}:{type:"Literal",value:i[l]};o=o?{type:"MemberExpression",object:o,property:s,computed:!!(l&&s.type==="Literal"),optional:!1}:s}r=o}else r=Pd(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return Ac.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);sl(e)}function sl(e,t){const n=new Qe("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=wg+"#cannot-handle-mdx-estrees-without-createevaluater",n}function gk(e){const t={};let n;for(n in e)Ac.call(e,n)&&(t[yk(n)]=e[n]);return t}function yk(e){let t=e.replace(ek,vk);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function vk(e){return"-"+e.toLowerCase()}const ra={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},xk={};function wk(e,t){const n=xk,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return Eg(e,r,i)}function Eg(e,t,n){if(kk(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return Dd(e.children,t,n)}return Array.isArray(e)?Dd(e,t,n):""}function Dd(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=Eg(e[i],t,n);return r.join("")}function kk(e){return!!(e&&typeof e=="object")}const Fd=document.createElement("i");function Rc(e){const t="&"+e+";";Fd.innerHTML=t;const n=Fd.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function nn(e,t,n,r){const i=e.length;let l=0,o;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);l<r.length;)o=r.slice(l,l+1e4),o.unshift(t,0),e.splice(...o),l+=1e4,t+=1e4}function Tt(e,t){return e.length>0?(nn(e,e.length,0,t),e):t}const $d={}.hasOwnProperty;function Sk(e){const t={};let n=-1;for(;++n<e.length;)_k(t,e[n]);return t}function _k(e,t){let n;for(n in t){const i=($d.call(e,n)?e[n]:void 0)||(e[n]={}),l=t[n];let o;if(l)for(o in l){$d.call(i,o)||(i[o]=[]);const s=l[o];Ek(i[o],Array.isArray(s)?s:s?[s]:[])}}}function Ek(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);nn(e,0,0,r)}function Cg(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Wr(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Jt=Yn(/[A-Za-z]/),wt=Yn(/[\dA-Za-z]/),Ck=Yn(/[#-'*+\--9=?A-Z^-~]/);function yu(e){return e!==null&&(e<32||e===127)}const vu=Yn(/\d/),bk=Yn(/[\dA-Fa-f]/),Pk=Yn(/[!-/:-@[-`{-~]/);function G(e){return e!==null&&e<-2}function ft(e){return e!==null&&(e<0||e===32)}function oe(e){return e===-2||e===-1||e===32}const jk=Yn(new RegExp("\\p{P}|\\p{S}","u")),Tk=Yn(/\s/);function Yn(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function li(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const l=e.charCodeAt(n);let o="";if(l===37&&wt(e.charCodeAt(n+1))&&wt(e.charCodeAt(n+2)))i=2;else if(l<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(l))||(o=String.fromCharCode(l));else if(l>55295&&l<57344){const s=e.charCodeAt(n+1);l<56320&&s>56319&&s<57344?(o=String.fromCharCode(l,s),i=1):o=""}else o=String.fromCharCode(l);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function me(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let l=0;return o;function o(a){return oe(a)?(e.enter(n),s(a)):t(a)}function s(a){return oe(a)&&l++<i?(e.consume(a),s):(e.exit(n),t(a))}}const zk={tokenize:Nk};function Nk(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),me(e,t,"linePrefix")}function i(s){return e.enter("paragraph"),l(s)}function l(s){const a=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=a),n=a,o(s)}function o(s){if(s===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(s);return}return G(s)?(e.consume(s),e.exit("chunkText"),l):(e.consume(s),o)}}const Ik={tokenize:Ak},Bd={tokenize:Lk};function Ak(e){const t=this,n=[];let r=0,i,l,o;return s;function s(v){if(r<n.length){const E=n[r];return t.containerState=E[1],e.attempt(E[0].continuation,a,u)(v)}return u(v)}function a(v){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&y();const E=t.events.length;let z=E,S;for(;z--;)if(t.events[z][0]==="exit"&&t.events[z][1].type==="chunkFlow"){S=t.events[z][1].end;break}m(r);let I=E;for(;I<t.events.length;)t.events[I][1].end={...S},I++;return nn(t.events,z+1,0,t.events.slice(E)),t.events.length=I,u(v)}return s(v)}function u(v){if(r===n.length){if(!i)return p(v);if(i.currentConstruct&&i.currentConstruct.concrete)return g(v);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(Bd,c,f)(v)}function c(v){return i&&y(),m(r),p(v)}function f(v){return t.parser.lazy[t.now().line]=r!==n.length,o=t.now().offset,g(v)}function p(v){return t.containerState={},e.attempt(Bd,h,g)(v)}function h(v){return r++,n.push([t.currentConstruct,t.containerState]),p(v)}function g(v){if(v===null){i&&y(),m(0),e.consume(v);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:l}),w(v)}function w(v){if(v===null){j(e.exit("chunkFlow"),!0),m(0),e.consume(v);return}return G(v)?(e.consume(v),j(e.exit("chunkFlow")),r=0,t.interrupt=void 0,s):(e.consume(v),w)}function j(v,E){const z=t.sliceStream(v);if(E&&z.push(null),v.previous=l,l&&(l.next=v),l=v,i.defineSkip(v.start),i.write(z),t.parser.lazy[v.start.line]){let S=i.events.length;for(;S--;)if(i.events[S][1].start.offset<o&&(!i.events[S][1].end||i.events[S][1].end.offset>o))return;const I=t.events.length;let N=I,H,R;for(;N--;)if(t.events[N][0]==="exit"&&t.events[N][1].type==="chunkFlow"){if(H){R=t.events[N][1].end;break}H=!0}for(m(r),S=I;S<t.events.length;)t.events[S][1].end={...R},S++;nn(t.events,N+1,0,t.events.slice(I)),t.events.length=S}}function m(v){let E=n.length;for(;E-- >v;){const z=n[E];t.containerState=z[1],z[0].exit.call(t,e)}n.length=v}function y(){i.write([null]),l=void 0,i=void 0,t.containerState._closeFlow=void 0}}function Lk(e,t,n){return me(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Ud(e){if(e===null||ft(e)||Tk(e))return 1;if(jk(e))return 2}function Oc(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const l=e[i].resolveAll;l&&!r.includes(l)&&(t=l(t,n),r.push(l))}return t}const xu={name:"attention",resolveAll:Mk,tokenize:Rk};function Mk(e,t){let n=-1,r,i,l,o,s,a,u,c;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;a=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const f={...e[r][1].end},p={...e[n][1].start};Hd(f,-a),Hd(p,a),o={type:a>1?"strongSequence":"emphasisSequence",start:f,end:{...e[r][1].end}},s={type:a>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:p},l={type:a>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:a>1?"strong":"emphasis",start:{...o.start},end:{...s.end}},e[r][1].end={...o.start},e[n][1].start={...s.end},u=[],e[r][1].end.offset-e[r][1].start.offset&&(u=Tt(u,[["enter",e[r][1],t],["exit",e[r][1],t]])),u=Tt(u,[["enter",i,t],["enter",o,t],["exit",o,t],["enter",l,t]]),u=Tt(u,Oc(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),u=Tt(u,[["exit",l,t],["enter",s,t],["exit",s,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(c=2,u=Tt(u,[["enter",e[n][1],t],["exit",e[n][1],t]])):c=0,nn(e,r-1,n-r+3,u),n=r+u.length-c-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function Rk(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=Ud(r);let l;return o;function o(a){return l=a,e.enter("attentionSequence"),s(a)}function s(a){if(a===l)return e.consume(a),s;const u=e.exit("attentionSequence"),c=Ud(a),f=!c||c===2&&i||n.includes(a),p=!i||i===2&&c||n.includes(r);return u._open=!!(l===42?f:f&&(i||!p)),u._close=!!(l===42?p:p&&(c||!f)),t(a)}}function Hd(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const Ok={name:"autolink",tokenize:Dk};function Dk(e,t,n){let r=0;return i;function i(h){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),l}function l(h){return Jt(h)?(e.consume(h),o):h===64?n(h):u(h)}function o(h){return h===43||h===45||h===46||wt(h)?(r=1,s(h)):u(h)}function s(h){return h===58?(e.consume(h),r=0,a):(h===43||h===45||h===46||wt(h))&&r++<32?(e.consume(h),s):(r=0,u(h))}function a(h){return h===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.exit("autolink"),t):h===null||h===32||h===60||yu(h)?n(h):(e.consume(h),a)}function u(h){return h===64?(e.consume(h),c):Ck(h)?(e.consume(h),u):n(h)}function c(h){return wt(h)?f(h):n(h)}function f(h){return h===46?(e.consume(h),r=0,c):h===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.exit("autolink"),t):p(h)}function p(h){if((h===45||wt(h))&&r++<63){const g=h===45?p:f;return e.consume(h),g}return n(h)}}const os={partial:!0,tokenize:Fk};function Fk(e,t,n){return r;function r(l){return oe(l)?me(e,i,"linePrefix")(l):i(l)}function i(l){return l===null||G(l)?t(l):n(l)}}const bg={continuation:{tokenize:Bk},exit:Uk,name:"blockQuote",tokenize:$k};function $k(e,t,n){const r=this;return i;function i(o){if(o===62){const s=r.containerState;return s.open||(e.enter("blockQuote",{_container:!0}),s.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),l}return n(o)}function l(o){return oe(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function Bk(e,t,n){const r=this;return i;function i(o){return oe(o)?me(e,l,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):l(o)}function l(o){return e.attempt(bg,t,n)(o)}}function Uk(e){e.exit("blockQuote")}const Pg={name:"characterEscape",tokenize:Hk};function Hk(e,t,n){return r;function r(l){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(l),e.exit("escapeMarker"),i}function i(l){return Pk(l)?(e.enter("characterEscapeValue"),e.consume(l),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(l)}}const jg={name:"characterReference",tokenize:Wk};function Wk(e,t,n){const r=this;let i=0,l,o;return s;function s(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),a}function a(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),l=31,o=wt,c(f))}function u(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),l=6,o=bk,c):(e.enter("characterReferenceValue"),l=7,o=vu,c(f))}function c(f){if(f===59&&i){const p=e.exit("characterReferenceValue");return o===wt&&!Rc(r.sliceSerialize(p))?n(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(f)&&i++<l?(e.consume(f),c):n(f)}}const Wd={partial:!0,tokenize:Kk},Vd={concrete:!0,name:"codeFenced",tokenize:Vk};function Vk(e,t,n){const r=this,i={partial:!0,tokenize:z};let l=0,o=0,s;return a;function a(S){return u(S)}function u(S){const I=r.events[r.events.length-1];return l=I&&I[1].type==="linePrefix"?I[2].sliceSerialize(I[1],!0).length:0,s=S,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),c(S)}function c(S){return S===s?(o++,e.consume(S),c):o<3?n(S):(e.exit("codeFencedFenceSequence"),oe(S)?me(e,f,"whitespace")(S):f(S))}function f(S){return S===null||G(S)?(e.exit("codeFencedFence"),r.interrupt?t(S):e.check(Wd,w,E)(S)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),p(S))}function p(S){return S===null||G(S)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),f(S)):oe(S)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),me(e,h,"whitespace")(S)):S===96&&S===s?n(S):(e.consume(S),p)}function h(S){return S===null||G(S)?f(S):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),g(S))}function g(S){return S===null||G(S)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),f(S)):S===96&&S===s?n(S):(e.consume(S),g)}function w(S){return e.attempt(i,E,j)(S)}function j(S){return e.enter("lineEnding"),e.consume(S),e.exit("lineEnding"),m}function m(S){return l>0&&oe(S)?me(e,y,"linePrefix",l+1)(S):y(S)}function y(S){return S===null||G(S)?e.check(Wd,w,E)(S):(e.enter("codeFlowValue"),v(S))}function v(S){return S===null||G(S)?(e.exit("codeFlowValue"),y(S)):(e.consume(S),v)}function E(S){return e.exit("codeFenced"),t(S)}function z(S,I,N){let H=0;return R;function R(ee){return S.enter("lineEnding"),S.consume(ee),S.exit("lineEnding"),F}function F(ee){return S.enter("codeFencedFence"),oe(ee)?me(S,B,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ee):B(ee)}function B(ee){return ee===s?(S.enter("codeFencedFenceSequence"),re(ee)):N(ee)}function re(ee){return ee===s?(H++,S.consume(ee),re):H>=o?(S.exit("codeFencedFenceSequence"),oe(ee)?me(S,de,"whitespace")(ee):de(ee)):N(ee)}function de(ee){return ee===null||G(ee)?(S.exit("codeFencedFence"),I(ee)):N(ee)}}}function Kk(e,t,n){const r=this;return i;function i(o){return o===null?n(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),l)}function l(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}const ia={name:"codeIndented",tokenize:Qk},qk={partial:!0,tokenize:Yk};function Qk(e,t,n){const r=this;return i;function i(u){return e.enter("codeIndented"),me(e,l,"linePrefix",5)(u)}function l(u){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?o(u):n(u)}function o(u){return u===null?a(u):G(u)?e.attempt(qk,o,a)(u):(e.enter("codeFlowValue"),s(u))}function s(u){return u===null||G(u)?(e.exit("codeFlowValue"),o(u)):(e.consume(u),s)}function a(u){return e.exit("codeIndented"),t(u)}}function Yk(e,t,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):G(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):me(e,l,"linePrefix",5)(o)}function l(o){const s=r.events[r.events.length-1];return s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(o):G(o)?i(o):n(o)}}const Gk={name:"codeText",previous:Zk,resolve:Xk,tokenize:Jk};function Xk(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function Zk(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Jk(e,t,n){let r=0,i,l;return o;function o(f){return e.enter("codeText"),e.enter("codeTextSequence"),s(f)}function s(f){return f===96?(e.consume(f),r++,s):(e.exit("codeTextSequence"),a(f))}function a(f){return f===null?n(f):f===32?(e.enter("space"),e.consume(f),e.exit("space"),a):f===96?(l=e.enter("codeTextSequence"),i=0,c(f)):G(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),a):(e.enter("codeTextData"),u(f))}function u(f){return f===null||f===32||f===96||G(f)?(e.exit("codeTextData"),a(f)):(e.consume(f),u)}function c(f){return f===96?(e.consume(f),i++,c):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(f)):(l.type="codeTextData",u(f))}}class eS{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const l=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&wi(this.left,r),l.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),wi(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),wi(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);wi(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);wi(this.left,n.reverse())}}}function wi(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function Tg(e){const t={};let n=-1,r,i,l,o,s,a,u;const c=new eS(e);for(;++n<c.length;){for(;n in t;)n=t[n];if(r=c.get(n),n&&r[1].type==="chunkFlow"&&c.get(n-1)[1].type==="listItemPrefix"&&(a=r[1]._tokenizer.events,l=0,l<a.length&&a[l][1].type==="lineEndingBlank"&&(l+=2),l<a.length&&a[l][1].type==="content"))for(;++l<a.length&&a[l][1].type!=="content";)a[l][1].type==="chunkText"&&(a[l][1]._isInFirstContentOfListItem=!0,l++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,tS(c,n)),n=t[n],u=!0);else if(r[1]._container){for(l=n,i=void 0;l--;)if(o=c.get(l),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(i&&(c.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=l);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;i&&(r[1].end={...c.get(i)[1].start},s=c.slice(i,n),s.unshift(r),c.splice(i,n-i+1,s))}}return nn(e,0,Number.POSITIVE_INFINITY,c.slice(0)),!u}function tS(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const l=[];let o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const s=o.events,a=[],u={};let c,f,p=-1,h=n,g=0,w=0;const j=[w];for(;h;){for(;e.get(++i)[1]!==h;);l.push(i),h._tokenizer||(c=r.sliceStream(h),h.next||c.push(null),f&&o.defineSkip(h.start),h._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(c),h._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),f=h,h=h.next}for(h=n;++p<s.length;)s[p][0]==="exit"&&s[p-1][0]==="enter"&&s[p][1].type===s[p-1][1].type&&s[p][1].start.line!==s[p][1].end.line&&(w=p+1,j.push(w),h._tokenizer=void 0,h.previous=void 0,h=h.next);for(o.events=[],h?(h._tokenizer=void 0,h.previous=void 0):j.pop(),p=j.length;p--;){const m=s.slice(j[p],j[p+1]),y=l.pop();a.push([y,y+m.length-1]),e.splice(y,2,m)}for(a.reverse(),p=-1;++p<a.length;)u[g+a[p][0]]=g+a[p][1],g+=a[p][1]-a[p][0]-1;return u}const nS={resolve:iS,tokenize:lS},rS={partial:!0,tokenize:oS};function iS(e){return Tg(e),e}function lS(e,t){let n;return r;function r(s){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(s)}function i(s){return s===null?l(s):G(s)?e.check(rS,o,l)(s):(e.consume(s),i)}function l(s){return e.exit("chunkContent"),e.exit("content"),t(s)}function o(s){return e.consume(s),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function oS(e,t,n){const r=this;return i;function i(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),me(e,l,"linePrefix")}function l(o){if(o===null||G(o))return n(o);const s=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(o):e.interrupt(r.parser.constructs.flow,n,t)(o)}}function zg(e,t,n,r,i,l,o,s,a){const u=a||Number.POSITIVE_INFINITY;let c=0;return f;function f(m){return m===60?(e.enter(r),e.enter(i),e.enter(l),e.consume(m),e.exit(l),p):m===null||m===32||m===41||yu(m)?n(m):(e.enter(r),e.enter(o),e.enter(s),e.enter("chunkString",{contentType:"string"}),w(m))}function p(m){return m===62?(e.enter(l),e.consume(m),e.exit(l),e.exit(i),e.exit(r),t):(e.enter(s),e.enter("chunkString",{contentType:"string"}),h(m))}function h(m){return m===62?(e.exit("chunkString"),e.exit(s),p(m)):m===null||m===60||G(m)?n(m):(e.consume(m),m===92?g:h)}function g(m){return m===60||m===62||m===92?(e.consume(m),h):h(m)}function w(m){return!c&&(m===null||m===41||ft(m))?(e.exit("chunkString"),e.exit(s),e.exit(o),e.exit(r),t(m)):c<u&&m===40?(e.consume(m),c++,w):m===41?(e.consume(m),c--,w):m===null||m===32||m===40||yu(m)?n(m):(e.consume(m),m===92?j:w)}function j(m){return m===40||m===41||m===92?(e.consume(m),w):w(m)}}function Ng(e,t,n,r,i,l){const o=this;let s=0,a;return u;function u(h){return e.enter(r),e.enter(i),e.consume(h),e.exit(i),e.enter(l),c}function c(h){return s>999||h===null||h===91||h===93&&!a||h===94&&!s&&"_hiddenFootnoteSupport"in o.parser.constructs?n(h):h===93?(e.exit(l),e.enter(i),e.consume(h),e.exit(i),e.exit(r),t):G(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),c):(e.enter("chunkString",{contentType:"string"}),f(h))}function f(h){return h===null||h===91||h===93||G(h)||s++>999?(e.exit("chunkString"),c(h)):(e.consume(h),a||(a=!oe(h)),h===92?p:f)}function p(h){return h===91||h===92||h===93?(e.consume(h),s++,f):f(h)}}function Ig(e,t,n,r,i,l){let o;return s;function s(p){return p===34||p===39||p===40?(e.enter(r),e.enter(i),e.consume(p),e.exit(i),o=p===40?41:p,a):n(p)}function a(p){return p===o?(e.enter(i),e.consume(p),e.exit(i),e.exit(r),t):(e.enter(l),u(p))}function u(p){return p===o?(e.exit(l),a(o)):p===null?n(p):G(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),me(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),c(p))}function c(p){return p===o||p===null||G(p)?(e.exit("chunkString"),u(p)):(e.consume(p),p===92?f:c)}function f(p){return p===o||p===92?(e.consume(p),c):c(p)}}function $i(e,t){let n;return r;function r(i){return G(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):oe(i)?me(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const sS={name:"definition",tokenize:uS},aS={partial:!0,tokenize:cS};function uS(e,t,n){const r=this;let i;return l;function l(h){return e.enter("definition"),o(h)}function o(h){return Ng.call(r,e,s,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(h)}function s(h){return i=Wr(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),h===58?(e.enter("definitionMarker"),e.consume(h),e.exit("definitionMarker"),a):n(h)}function a(h){return ft(h)?$i(e,u)(h):u(h)}function u(h){return zg(e,c,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(h)}function c(h){return e.attempt(aS,f,f)(h)}function f(h){return oe(h)?me(e,p,"whitespace")(h):p(h)}function p(h){return h===null||G(h)?(e.exit("definition"),r.parser.defined.push(i),t(h)):n(h)}}function cS(e,t,n){return r;function r(s){return ft(s)?$i(e,i)(s):n(s)}function i(s){return Ig(e,l,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(s)}function l(s){return oe(s)?me(e,o,"whitespace")(s):o(s)}function o(s){return s===null||G(s)?t(s):n(s)}}const fS={name:"hardBreakEscape",tokenize:dS};function dS(e,t,n){return r;function r(l){return e.enter("hardBreakEscape"),e.consume(l),i}function i(l){return G(l)?(e.exit("hardBreakEscape"),t(l)):n(l)}}const pS={name:"headingAtx",resolve:hS,tokenize:mS};function hS(e,t){let n=e.length-2,r=3,i,l;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},l={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},nn(e,r,n-r+1,[["enter",i,t],["enter",l,t],["exit",l,t],["exit",i,t]])),e}function mS(e,t,n){let r=0;return i;function i(c){return e.enter("atxHeading"),l(c)}function l(c){return e.enter("atxHeadingSequence"),o(c)}function o(c){return c===35&&r++<6?(e.consume(c),o):c===null||ft(c)?(e.exit("atxHeadingSequence"),s(c)):n(c)}function s(c){return c===35?(e.enter("atxHeadingSequence"),a(c)):c===null||G(c)?(e.exit("atxHeading"),t(c)):oe(c)?me(e,s,"whitespace")(c):(e.enter("atxHeadingText"),u(c))}function a(c){return c===35?(e.consume(c),a):(e.exit("atxHeadingSequence"),s(c))}function u(c){return c===null||c===35||ft(c)?(e.exit("atxHeadingText"),s(c)):(e.consume(c),u)}}const gS=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Kd=["pre","script","style","textarea"],yS={concrete:!0,name:"htmlFlow",resolveTo:wS,tokenize:kS},vS={partial:!0,tokenize:_S},xS={partial:!0,tokenize:SS};function wS(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function kS(e,t,n){const r=this;let i,l,o,s,a;return u;function u(k){return c(k)}function c(k){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(k),f}function f(k){return k===33?(e.consume(k),p):k===47?(e.consume(k),l=!0,w):k===63?(e.consume(k),i=3,r.interrupt?t:x):Jt(k)?(e.consume(k),o=String.fromCharCode(k),j):n(k)}function p(k){return k===45?(e.consume(k),i=2,h):k===91?(e.consume(k),i=5,s=0,g):Jt(k)?(e.consume(k),i=4,r.interrupt?t:x):n(k)}function h(k){return k===45?(e.consume(k),r.interrupt?t:x):n(k)}function g(k){const be="CDATA[";return k===be.charCodeAt(s++)?(e.consume(k),s===be.length?r.interrupt?t:B:g):n(k)}function w(k){return Jt(k)?(e.consume(k),o=String.fromCharCode(k),j):n(k)}function j(k){if(k===null||k===47||k===62||ft(k)){const be=k===47,it=o.toLowerCase();return!be&&!l&&Kd.includes(it)?(i=1,r.interrupt?t(k):B(k)):gS.includes(o.toLowerCase())?(i=6,be?(e.consume(k),m):r.interrupt?t(k):B(k)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(k):l?y(k):v(k))}return k===45||wt(k)?(e.consume(k),o+=String.fromCharCode(k),j):n(k)}function m(k){return k===62?(e.consume(k),r.interrupt?t:B):n(k)}function y(k){return oe(k)?(e.consume(k),y):R(k)}function v(k){return k===47?(e.consume(k),R):k===58||k===95||Jt(k)?(e.consume(k),E):oe(k)?(e.consume(k),v):R(k)}function E(k){return k===45||k===46||k===58||k===95||wt(k)?(e.consume(k),E):z(k)}function z(k){return k===61?(e.consume(k),S):oe(k)?(e.consume(k),z):v(k)}function S(k){return k===null||k===60||k===61||k===62||k===96?n(k):k===34||k===39?(e.consume(k),a=k,I):oe(k)?(e.consume(k),S):N(k)}function I(k){return k===a?(e.consume(k),a=null,H):k===null||G(k)?n(k):(e.consume(k),I)}function N(k){return k===null||k===34||k===39||k===47||k===60||k===61||k===62||k===96||ft(k)?z(k):(e.consume(k),N)}function H(k){return k===47||k===62||oe(k)?v(k):n(k)}function R(k){return k===62?(e.consume(k),F):n(k)}function F(k){return k===null||G(k)?B(k):oe(k)?(e.consume(k),F):n(k)}function B(k){return k===45&&i===2?(e.consume(k),ke):k===60&&i===1?(e.consume(k),ve):k===62&&i===4?(e.consume(k),ie):k===63&&i===3?(e.consume(k),x):k===93&&i===5?(e.consume(k),K):G(k)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(vS,se,re)(k)):k===null||G(k)?(e.exit("htmlFlowData"),re(k)):(e.consume(k),B)}function re(k){return e.check(xS,de,se)(k)}function de(k){return e.enter("lineEnding"),e.consume(k),e.exit("lineEnding"),ee}function ee(k){return k===null||G(k)?re(k):(e.enter("htmlFlowData"),B(k))}function ke(k){return k===45?(e.consume(k),x):B(k)}function ve(k){return k===47?(e.consume(k),o="",D):B(k)}function D(k){if(k===62){const be=o.toLowerCase();return Kd.includes(be)?(e.consume(k),ie):B(k)}return Jt(k)&&o.length<8?(e.consume(k),o+=String.fromCharCode(k),D):B(k)}function K(k){return k===93?(e.consume(k),x):B(k)}function x(k){return k===62?(e.consume(k),ie):k===45&&i===2?(e.consume(k),x):B(k)}function ie(k){return k===null||G(k)?(e.exit("htmlFlowData"),se(k)):(e.consume(k),ie)}function se(k){return e.exit("htmlFlow"),t(k)}}function SS(e,t,n){const r=this;return i;function i(o){return G(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),l):n(o)}function l(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}function _S(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(os,t,n)}}const ES={name:"htmlText",tokenize:CS};function CS(e,t,n){const r=this;let i,l,o;return s;function s(x){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(x),a}function a(x){return x===33?(e.consume(x),u):x===47?(e.consume(x),z):x===63?(e.consume(x),v):Jt(x)?(e.consume(x),N):n(x)}function u(x){return x===45?(e.consume(x),c):x===91?(e.consume(x),l=0,g):Jt(x)?(e.consume(x),y):n(x)}function c(x){return x===45?(e.consume(x),h):n(x)}function f(x){return x===null?n(x):x===45?(e.consume(x),p):G(x)?(o=f,ve(x)):(e.consume(x),f)}function p(x){return x===45?(e.consume(x),h):f(x)}function h(x){return x===62?ke(x):x===45?p(x):f(x)}function g(x){const ie="CDATA[";return x===ie.charCodeAt(l++)?(e.consume(x),l===ie.length?w:g):n(x)}function w(x){return x===null?n(x):x===93?(e.consume(x),j):G(x)?(o=w,ve(x)):(e.consume(x),w)}function j(x){return x===93?(e.consume(x),m):w(x)}function m(x){return x===62?ke(x):x===93?(e.consume(x),m):w(x)}function y(x){return x===null||x===62?ke(x):G(x)?(o=y,ve(x)):(e.consume(x),y)}function v(x){return x===null?n(x):x===63?(e.consume(x),E):G(x)?(o=v,ve(x)):(e.consume(x),v)}function E(x){return x===62?ke(x):v(x)}function z(x){return Jt(x)?(e.consume(x),S):n(x)}function S(x){return x===45||wt(x)?(e.consume(x),S):I(x)}function I(x){return G(x)?(o=I,ve(x)):oe(x)?(e.consume(x),I):ke(x)}function N(x){return x===45||wt(x)?(e.consume(x),N):x===47||x===62||ft(x)?H(x):n(x)}function H(x){return x===47?(e.consume(x),ke):x===58||x===95||Jt(x)?(e.consume(x),R):G(x)?(o=H,ve(x)):oe(x)?(e.consume(x),H):ke(x)}function R(x){return x===45||x===46||x===58||x===95||wt(x)?(e.consume(x),R):F(x)}function F(x){return x===61?(e.consume(x),B):G(x)?(o=F,ve(x)):oe(x)?(e.consume(x),F):H(x)}function B(x){return x===null||x===60||x===61||x===62||x===96?n(x):x===34||x===39?(e.consume(x),i=x,re):G(x)?(o=B,ve(x)):oe(x)?(e.consume(x),B):(e.consume(x),de)}function re(x){return x===i?(e.consume(x),i=void 0,ee):x===null?n(x):G(x)?(o=re,ve(x)):(e.consume(x),re)}function de(x){return x===null||x===34||x===39||x===60||x===61||x===96?n(x):x===47||x===62||ft(x)?H(x):(e.consume(x),de)}function ee(x){return x===47||x===62||ft(x)?H(x):n(x)}function ke(x){return x===62?(e.consume(x),e.exit("htmlTextData"),e.exit("htmlText"),t):n(x)}function ve(x){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(x),e.exit("lineEnding"),D}function D(x){return oe(x)?me(e,K,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(x):K(x)}function K(x){return e.enter("htmlTextData"),o(x)}}const Dc={name:"labelEnd",resolveAll:TS,resolveTo:zS,tokenize:NS},bS={tokenize:IS},PS={tokenize:AS},jS={tokenize:LS};function TS(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&nn(e,0,e.length,n),e}function zS(e,t){let n=e.length,r=0,i,l,o,s;for(;n--;)if(i=e[n][1],l){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(l=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const a={type:e[l][1].type==="labelLink"?"link":"image",start:{...e[l][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[l][1].start},end:{...e[o][1].end}},c={type:"labelText",start:{...e[l+r+2][1].end},end:{...e[o-2][1].start}};return s=[["enter",a,t],["enter",u,t]],s=Tt(s,e.slice(l+1,l+r+3)),s=Tt(s,[["enter",c,t]]),s=Tt(s,Oc(t.parser.constructs.insideSpan.null,e.slice(l+r+4,o-3),t)),s=Tt(s,[["exit",c,t],e[o-2],e[o-1],["exit",u,t]]),s=Tt(s,e.slice(o+1)),s=Tt(s,[["exit",a,t]]),nn(e,l,e.length,s),e}function NS(e,t,n){const r=this;let i=r.events.length,l,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){l=r.events[i][1];break}return s;function s(p){return l?l._inactive?f(p):(o=r.parser.defined.includes(Wr(r.sliceSerialize({start:l.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(p),e.exit("labelMarker"),e.exit("labelEnd"),a):n(p)}function a(p){return p===40?e.attempt(bS,c,o?c:f)(p):p===91?e.attempt(PS,c,o?u:f)(p):o?c(p):f(p)}function u(p){return e.attempt(jS,c,f)(p)}function c(p){return t(p)}function f(p){return l._balanced=!0,n(p)}}function IS(e,t,n){return r;function r(f){return e.enter("resource"),e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),i}function i(f){return ft(f)?$i(e,l)(f):l(f)}function l(f){return f===41?c(f):zg(e,o,s,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function o(f){return ft(f)?$i(e,a)(f):c(f)}function s(f){return n(f)}function a(f){return f===34||f===39||f===40?Ig(e,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):c(f)}function u(f){return ft(f)?$i(e,c)(f):c(f)}function c(f){return f===41?(e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),e.exit("resource"),t):n(f)}}function AS(e,t,n){const r=this;return i;function i(s){return Ng.call(r,e,l,o,"reference","referenceMarker","referenceString")(s)}function l(s){return r.parser.defined.includes(Wr(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(s):n(s)}function o(s){return n(s)}}function LS(e,t,n){return r;function r(l){return e.enter("reference"),e.enter("referenceMarker"),e.consume(l),e.exit("referenceMarker"),i}function i(l){return l===93?(e.enter("referenceMarker"),e.consume(l),e.exit("referenceMarker"),e.exit("reference"),t):n(l)}}const MS={name:"labelStartImage",resolveAll:Dc.resolveAll,tokenize:RS};function RS(e,t,n){const r=this;return i;function i(s){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(s),e.exit("labelImageMarker"),l}function l(s){return s===91?(e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelImage"),o):n(s)}function o(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):t(s)}}const OS={name:"labelStartLink",resolveAll:Dc.resolveAll,tokenize:DS};function DS(e,t,n){const r=this;return i;function i(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),l}function l(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const la={name:"lineEnding",tokenize:FS};function FS(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),me(e,t,"linePrefix")}}const co={name:"thematicBreak",tokenize:$S};function $S(e,t,n){let r=0,i;return l;function l(u){return e.enter("thematicBreak"),o(u)}function o(u){return i=u,s(u)}function s(u){return u===i?(e.enter("thematicBreakSequence"),a(u)):r>=3&&(u===null||G(u))?(e.exit("thematicBreak"),t(u)):n(u)}function a(u){return u===i?(e.consume(u),r++,a):(e.exit("thematicBreakSequence"),oe(u)?me(e,s,"whitespace")(u):s(u))}}const lt={continuation:{tokenize:WS},exit:KS,name:"list",tokenize:HS},BS={partial:!0,tokenize:qS},US={partial:!0,tokenize:VS};function HS(e,t,n){const r=this,i=r.events[r.events.length-1];let l=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return s;function s(h){const g=r.containerState.type||(h===42||h===43||h===45?"listUnordered":"listOrdered");if(g==="listUnordered"?!r.containerState.marker||h===r.containerState.marker:vu(h)){if(r.containerState.type||(r.containerState.type=g,e.enter(g,{_container:!0})),g==="listUnordered")return e.enter("listItemPrefix"),h===42||h===45?e.check(co,n,u)(h):u(h);if(!r.interrupt||h===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),a(h)}return n(h)}function a(h){return vu(h)&&++o<10?(e.consume(h),a):(!r.interrupt||o<2)&&(r.containerState.marker?h===r.containerState.marker:h===41||h===46)?(e.exit("listItemValue"),u(h)):n(h)}function u(h){return e.enter("listItemMarker"),e.consume(h),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||h,e.check(os,r.interrupt?n:c,e.attempt(BS,p,f))}function c(h){return r.containerState.initialBlankLine=!0,l++,p(h)}function f(h){return oe(h)?(e.enter("listItemPrefixWhitespace"),e.consume(h),e.exit("listItemPrefixWhitespace"),p):n(h)}function p(h){return r.containerState.size=l+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(h)}}function WS(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(os,i,l);function i(s){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,me(e,t,"listItemIndent",r.containerState.size+1)(s)}function l(s){return r.containerState.furtherBlankLines||!oe(s)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(s)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(US,t,o)(s))}function o(s){return r.containerState._closeFlow=!0,r.interrupt=void 0,me(e,e.attempt(lt,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s)}}function VS(e,t,n){const r=this;return me(e,i,"listItemIndent",r.containerState.size+1);function i(l){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?t(l):n(l)}}function KS(e){e.exit(this.containerState.type)}function qS(e,t,n){const r=this;return me(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(l){const o=r.events[r.events.length-1];return!oe(l)&&o&&o[1].type==="listItemPrefixWhitespace"?t(l):n(l)}}const qd={name:"setextUnderline",resolveTo:QS,tokenize:YS};function QS(e,t){let n=e.length,r,i,l;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!l&&e[n][1].type==="definition"&&(l=n);const o={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",l?(e.splice(i,0,["enter",o,t]),e.splice(l+1,0,["exit",e[r][1],t]),e[r][1].end={...e[l][1].end}):e[r][1]=o,e.push(["exit",o,t]),e}function YS(e,t,n){const r=this;let i;return l;function l(u){let c=r.events.length,f;for(;c--;)if(r.events[c][1].type!=="lineEnding"&&r.events[c][1].type!=="linePrefix"&&r.events[c][1].type!=="content"){f=r.events[c][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(e.enter("setextHeadingLine"),i=u,o(u)):n(u)}function o(u){return e.enter("setextHeadingLineSequence"),s(u)}function s(u){return u===i?(e.consume(u),s):(e.exit("setextHeadingLineSequence"),oe(u)?me(e,a,"lineSuffix")(u):a(u))}function a(u){return u===null||G(u)?(e.exit("setextHeadingLine"),t(u)):n(u)}}const GS={tokenize:XS};function XS(e){const t=this,n=e.attempt(os,r,e.attempt(this.parser.constructs.flowInitial,i,me(e,e.attempt(this.parser.constructs.flow,i,e.attempt(nS,i)),"linePrefix")));return n;function r(l){if(l===null){e.consume(l);return}return e.enter("lineEndingBlank"),e.consume(l),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(l){if(l===null){e.consume(l);return}return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const ZS={resolveAll:Lg()},JS=Ag("string"),e_=Ag("text");function Ag(e){return{resolveAll:Lg(e==="text"?t_:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],l=n.attempt(i,o,s);return o;function o(c){return u(c)?l(c):s(c)}function s(c){if(c===null){n.consume(c);return}return n.enter("data"),n.consume(c),a}function a(c){return u(c)?(n.exit("data"),l(c)):(n.consume(c),a)}function u(c){if(c===null)return!0;const f=i[c];let p=-1;if(f)for(;++p<f.length;){const h=f[p];if(!h.previous||h.previous.call(r,r.previous))return!0}return!1}}}function Lg(e){return t;function t(n,r){let i=-1,l;for(;++i<=n.length;)l===void 0?n[i]&&n[i][1].type==="data"&&(l=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==l+2&&(n[l][1].end=n[i-1][1].end,n.splice(l+2,i-l-2),i=l+2),l=void 0);return e?e(n,r):n}}function t_(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let l=i.length,o=-1,s=0,a;for(;l--;){const u=i[l];if(typeof u=="string"){for(o=u.length;u.charCodeAt(o-1)===32;)s++,o--;if(o)break;o=-1}else if(u===-2)a=!0,s++;else if(u!==-1){l++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(s=0),s){const u={type:n===e.length||a||s<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:l?o:r.start._bufferIndex+o,_index:r.start._index+l,line:r.end.line,column:r.end.column-s,offset:r.end.offset-s},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(e.splice(n,0,["enter",u,t],["exit",u,t]),n+=2)}n++}return e}const n_={42:lt,43:lt,45:lt,48:lt,49:lt,50:lt,51:lt,52:lt,53:lt,54:lt,55:lt,56:lt,57:lt,62:bg},r_={91:sS},i_={[-2]:ia,[-1]:ia,32:ia},l_={35:pS,42:co,45:[qd,co],60:yS,61:qd,95:co,96:Vd,126:Vd},o_={38:jg,92:Pg},s_={[-5]:la,[-4]:la,[-3]:la,33:MS,38:jg,42:xu,60:[Ok,ES],91:OS,92:[fS,Pg],93:Dc,95:xu,96:Gk},a_={null:[xu,ZS]},u_={null:[42,95]},c_={null:[]},f_=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:u_,contentInitial:r_,disable:c_,document:n_,flow:l_,flowInitial:i_,insideSpan:a_,string:o_,text:s_},Symbol.toStringTag,{value:"Module"}));function d_(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},l=[];let o=[],s=[];const a={attempt:I(z),check:I(S),consume:y,enter:v,exit:E,interrupt:I(S,{interrupt:!0})},u={code:null,containerState:{},defineSkip:w,events:[],now:g,parser:e,previous:null,sliceSerialize:p,sliceStream:h,write:f};let c=t.tokenize.call(u,a);return t.resolveAll&&l.push(t),u;function f(F){return o=Tt(o,F),j(),o[o.length-1]!==null?[]:(N(t,0),u.events=Oc(l,u.events,u),u.events)}function p(F,B){return h_(h(F),B)}function h(F){return p_(o,F)}function g(){const{_bufferIndex:F,_index:B,line:re,column:de,offset:ee}=r;return{_bufferIndex:F,_index:B,line:re,column:de,offset:ee}}function w(F){i[F.line]=F.column,R()}function j(){let F;for(;r._index<o.length;){const B=o[r._index];if(typeof B=="string")for(F=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===F&&r._bufferIndex<B.length;)m(B.charCodeAt(r._bufferIndex));else m(B)}}function m(F){c=c(F)}function y(F){G(F)?(r.line++,r.column=1,r.offset+=F===-3?2:1,R()):F!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=F}function v(F,B){const re=B||{};return re.type=F,re.start=g(),u.events.push(["enter",re,u]),s.push(re),re}function E(F){const B=s.pop();return B.end=g(),u.events.push(["exit",B,u]),B}function z(F,B){N(F,B.from)}function S(F,B){B.restore()}function I(F,B){return re;function re(de,ee,ke){let ve,D,K,x;return Array.isArray(de)?se(de):"tokenize"in de?se([de]):ie(de);function ie(fe){return Ye;function Ye(Kt){const rn=Kt!==null&&fe[Kt],vn=Kt!==null&&fe.null,kr=[...Array.isArray(rn)?rn:rn?[rn]:[],...Array.isArray(vn)?vn:vn?[vn]:[]];return se(kr)(Kt)}}function se(fe){return ve=fe,D=0,fe.length===0?ke:k(fe[D])}function k(fe){return Ye;function Ye(Kt){return x=H(),K=fe,fe.partial||(u.currentConstruct=fe),fe.name&&u.parser.constructs.disable.null.includes(fe.name)?it():fe.tokenize.call(B?Object.assign(Object.create(u),B):u,a,be,it)(Kt)}}function be(fe){return F(K,x),ee}function it(fe){return x.restore(),++D<ve.length?k(ve[D]):ke}}}function N(F,B){F.resolveAll&&!l.includes(F)&&l.push(F),F.resolve&&nn(u.events,B,u.events.length-B,F.resolve(u.events.slice(B),u)),F.resolveTo&&(u.events=F.resolveTo(u.events,u))}function H(){const F=g(),B=u.previous,re=u.currentConstruct,de=u.events.length,ee=Array.from(s);return{from:de,restore:ke};function ke(){r=F,u.previous=B,u.currentConstruct=re,u.events.length=de,s=ee,R()}}function R(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function p_(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,l=t.end._bufferIndex;let o;if(n===i)o=[e[n].slice(r,l)];else{if(o=e.slice(n,i),r>-1){const s=o[0];typeof s=="string"?o[0]=s.slice(r):o.shift()}l>0&&o.push(e[i].slice(0,l))}return o}function h_(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const l=e[n];let o;if(typeof l=="string")o=l;else switch(l){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&i)continue;o=" ";break}default:o=String.fromCharCode(l)}i=l===-2,r.push(o)}return r.join("")}function m_(e){const r={constructs:Sk([f_,...(e||{}).extensions||[]]),content:i(zk),defined:[],document:i(Ik),flow:i(GS),lazy:{},string:i(JS),text:i(e_)};return r;function i(l){return o;function o(s){return d_(r,l,s)}}}function g_(e){for(;!Tg(e););return e}const Qd=/[\0\t\n\r]/g;function y_(){let e=1,t="",n=!0,r;return i;function i(l,o,s){const a=[];let u,c,f,p,h;for(l=t+(typeof l=="string"?l.toString():new TextDecoder(o||void 0).decode(l)),f=0,t="",n&&(l.charCodeAt(0)===65279&&f++,n=void 0);f<l.length;){if(Qd.lastIndex=f,u=Qd.exec(l),p=u&&u.index!==void 0?u.index:l.length,h=l.charCodeAt(p),!u){t=l.slice(f);break}if(h===10&&f===p&&r)a.push(-3),r=void 0;else switch(r&&(a.push(-5),r=void 0),f<p&&(a.push(l.slice(f,p)),e+=p-f),h){case 0:{a.push(65533),e++;break}case 9:{for(c=Math.ceil(e/4)*4,a.push(-2);e++<c;)a.push(-1);break}case 10:{a.push(-4),e=1;break}default:r=!0,e=1}f=p+1}return s&&(r&&a.push(-5),t&&a.push(t),a.push(null)),a}}const v_=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function x_(e){return e.replace(v_,w_)}function w_(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),l=i===120||i===88;return Cg(n.slice(l?2:1),l?16:10)}return Rc(n)||e}const Mg={}.hasOwnProperty;function k_(e,t,n){return t&&typeof t=="object"&&(n=t,t=void 0),S_(n)(g_(m_(n).document().write(y_()(e,t,!0))))}function S_(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:l(wl),autolinkProtocol:H,autolinkEmail:H,atxHeading:l(oi),blockQuote:l(vn),characterEscape:H,characterReference:H,codeFenced:l(kr),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:l(kr,o),codeText:l(ds,o),codeTextData:H,data:H,codeFlowValue:H,definition:l(ps),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:l(hs),hardBreakEscape:l(yl),hardBreakTrailing:l(yl),htmlFlow:l(vl,o),htmlFlowData:H,htmlText:l(vl,o),htmlTextData:H,image:l(xl),label:o,link:l(wl),listItem:l(ms),listItemValue:p,listOrdered:l(kl,f),listUnordered:l(kl),paragraph:l(gs),reference:k,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:l(oi),strong:l(Sl),thematicBreak:l(vs)},exit:{atxHeading:a(),atxHeadingSequence:z,autolink:a(),autolinkEmail:rn,autolinkProtocol:Kt,blockQuote:a(),characterEscapeValue:R,characterReferenceMarkerHexadecimal:it,characterReferenceMarkerNumeric:it,characterReferenceValue:fe,characterReference:Ye,codeFenced:a(j),codeFencedFence:w,codeFencedFenceInfo:h,codeFencedFenceMeta:g,codeFlowValue:R,codeIndented:a(m),codeText:a(ee),codeTextData:R,data:R,definition:a(),definitionDestinationString:E,definitionLabelString:y,definitionTitleString:v,emphasis:a(),hardBreakEscape:a(B),hardBreakTrailing:a(B),htmlFlow:a(re),htmlFlowData:R,htmlText:a(de),htmlTextData:R,image:a(ve),label:K,labelText:D,lineEnding:F,link:a(ke),listItem:a(),listOrdered:a(),listUnordered:a(),paragraph:a(),referenceString:be,resourceDestinationString:x,resourceTitleString:ie,resource:se,setextHeading:a(N),setextHeadingLineSequence:I,setextHeadingText:S,strong:a(),thematicBreak:a()}};Rg(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(T){let O={type:"root",children:[]};const Z={stack:[O],tokenStack:[],config:t,enter:s,exit:u,buffer:o,resume:c,data:n},te=[];let ae=-1;for(;++ae<T.length;)if(T[ae][1].type==="listOrdered"||T[ae][1].type==="listUnordered")if(T[ae][0]==="enter")te.push(ae);else{const mt=te.pop();ae=i(T,mt,ae)}for(ae=-1;++ae<T.length;){const mt=t[T[ae][0]];Mg.call(mt,T[ae][1].type)&&mt[T[ae][1].type].call(Object.assign({sliceSerialize:T[ae][2].sliceSerialize},Z),T[ae][1])}if(Z.tokenStack.length>0){const mt=Z.tokenStack[Z.tokenStack.length-1];(mt[1]||Yd).call(Z,void 0,mt[0])}for(O.position={start:En(T.length>0?T[0][1].start:{line:1,column:1,offset:0}),end:En(T.length>0?T[T.length-2][1].end:{line:1,column:1,offset:0})},ae=-1;++ae<t.transforms.length;)O=t.transforms[ae](O)||O;return O}function i(T,O,Z){let te=O-1,ae=-1,mt=!1,ln,Mt,Gn,Xn;for(;++te<=Z;){const Ge=T[te];switch(Ge[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Ge[0]==="enter"?ae++:ae--,Xn=void 0;break}case"lineEndingBlank":{Ge[0]==="enter"&&(ln&&!Xn&&!ae&&!Gn&&(Gn=te),Xn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Xn=void 0}if(!ae&&Ge[0]==="enter"&&Ge[1].type==="listItemPrefix"||ae===-1&&Ge[0]==="exit"&&(Ge[1].type==="listUnordered"||Ge[1].type==="listOrdered")){if(ln){let on=te;for(Mt=void 0;on--;){const Rt=T[on];if(Rt[1].type==="lineEnding"||Rt[1].type==="lineEndingBlank"){if(Rt[0]==="exit")continue;Mt&&(T[Mt][1].type="lineEndingBlank",mt=!0),Rt[1].type="lineEnding",Mt=on}else if(!(Rt[1].type==="linePrefix"||Rt[1].type==="blockQuotePrefix"||Rt[1].type==="blockQuotePrefixWhitespace"||Rt[1].type==="blockQuoteMarker"||Rt[1].type==="listItemIndent"))break}Gn&&(!Mt||Gn<Mt)&&(ln._spread=!0),ln.end=Object.assign({},Mt?T[Mt][1].start:Ge[1].end),T.splice(Mt||te,0,["exit",ln,Ge[2]]),te++,Z++}if(Ge[1].type==="listItemPrefix"){const on={type:"listItem",_spread:!1,start:Object.assign({},Ge[1].start),end:void 0};ln=on,T.splice(te,0,["enter",on,Ge[2]]),te++,Z++,Gn=void 0,Xn=!0}}}return T[O][1]._spread=mt,Z}function l(T,O){return Z;function Z(te){s.call(this,T(te),te),O&&O.call(this,te)}}function o(){this.stack.push({type:"fragment",children:[]})}function s(T,O,Z){this.stack[this.stack.length-1].children.push(T),this.stack.push(T),this.tokenStack.push([O,Z||void 0]),T.position={start:En(O.start),end:void 0}}function a(T){return O;function O(Z){T&&T.call(this,Z),u.call(this,Z)}}function u(T,O){const Z=this.stack.pop(),te=this.tokenStack.pop();if(te)te[0].type!==T.type&&(O?O.call(this,T,te[0]):(te[1]||Yd).call(this,T,te[0]));else throw new Error("Cannot close `"+T.type+"` ("+Fi({start:T.start,end:T.end})+"): its not open");Z.position.end=En(T.end)}function c(){return wk(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function p(T){if(this.data.expectingFirstListItemValue){const O=this.stack[this.stack.length-2];O.start=Number.parseInt(this.sliceSerialize(T),10),this.data.expectingFirstListItemValue=void 0}}function h(){const T=this.resume(),O=this.stack[this.stack.length-1];O.lang=T}function g(){const T=this.resume(),O=this.stack[this.stack.length-1];O.meta=T}function w(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function j(){const T=this.resume(),O=this.stack[this.stack.length-1];O.value=T.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function m(){const T=this.resume(),O=this.stack[this.stack.length-1];O.value=T.replace(/(\r?\n|\r)$/g,"")}function y(T){const O=this.resume(),Z=this.stack[this.stack.length-1];Z.label=O,Z.identifier=Wr(this.sliceSerialize(T)).toLowerCase()}function v(){const T=this.resume(),O=this.stack[this.stack.length-1];O.title=T}function E(){const T=this.resume(),O=this.stack[this.stack.length-1];O.url=T}function z(T){const O=this.stack[this.stack.length-1];if(!O.depth){const Z=this.sliceSerialize(T).length;O.depth=Z}}function S(){this.data.setextHeadingSlurpLineEnding=!0}function I(T){const O=this.stack[this.stack.length-1];O.depth=this.sliceSerialize(T).codePointAt(0)===61?1:2}function N(){this.data.setextHeadingSlurpLineEnding=void 0}function H(T){const Z=this.stack[this.stack.length-1].children;let te=Z[Z.length-1];(!te||te.type!=="text")&&(te=ys(),te.position={start:En(T.start),end:void 0},Z.push(te)),this.stack.push(te)}function R(T){const O=this.stack.pop();O.value+=this.sliceSerialize(T),O.position.end=En(T.end)}function F(T){const O=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Z=O.children[O.children.length-1];Z.position.end=En(T.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(O.type)&&(H.call(this,T),R.call(this,T))}function B(){this.data.atHardBreak=!0}function re(){const T=this.resume(),O=this.stack[this.stack.length-1];O.value=T}function de(){const T=this.resume(),O=this.stack[this.stack.length-1];O.value=T}function ee(){const T=this.resume(),O=this.stack[this.stack.length-1];O.value=T}function ke(){const T=this.stack[this.stack.length-1];if(this.data.inReference){const O=this.data.referenceType||"shortcut";T.type+="Reference",T.referenceType=O,delete T.url,delete T.title}else delete T.identifier,delete T.label;this.data.referenceType=void 0}function ve(){const T=this.stack[this.stack.length-1];if(this.data.inReference){const O=this.data.referenceType||"shortcut";T.type+="Reference",T.referenceType=O,delete T.url,delete T.title}else delete T.identifier,delete T.label;this.data.referenceType=void 0}function D(T){const O=this.sliceSerialize(T),Z=this.stack[this.stack.length-2];Z.label=x_(O),Z.identifier=Wr(O).toLowerCase()}function K(){const T=this.stack[this.stack.length-1],O=this.resume(),Z=this.stack[this.stack.length-1];if(this.data.inReference=!0,Z.type==="link"){const te=T.children;Z.children=te}else Z.alt=O}function x(){const T=this.resume(),O=this.stack[this.stack.length-1];O.url=T}function ie(){const T=this.resume(),O=this.stack[this.stack.length-1];O.title=T}function se(){this.data.inReference=void 0}function k(){this.data.referenceType="collapsed"}function be(T){const O=this.resume(),Z=this.stack[this.stack.length-1];Z.label=O,Z.identifier=Wr(this.sliceSerialize(T)).toLowerCase(),this.data.referenceType="full"}function it(T){this.data.characterReferenceType=T.type}function fe(T){const O=this.sliceSerialize(T),Z=this.data.characterReferenceType;let te;Z?(te=Cg(O,Z==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):te=Rc(O);const ae=this.stack[this.stack.length-1];ae.value+=te}function Ye(T){const O=this.stack.pop();O.position.end=En(T.end)}function Kt(T){R.call(this,T);const O=this.stack[this.stack.length-1];O.url=this.sliceSerialize(T)}function rn(T){R.call(this,T);const O=this.stack[this.stack.length-1];O.url="mailto:"+this.sliceSerialize(T)}function vn(){return{type:"blockquote",children:[]}}function kr(){return{type:"code",lang:null,meta:null,value:""}}function ds(){return{type:"inlineCode",value:""}}function ps(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function hs(){return{type:"emphasis",children:[]}}function oi(){return{type:"heading",depth:0,children:[]}}function yl(){return{type:"break"}}function vl(){return{type:"html",value:""}}function xl(){return{type:"image",title:null,url:"",alt:null}}function wl(){return{type:"link",title:null,url:"",children:[]}}function kl(T){return{type:"list",ordered:T.type==="listOrdered",start:null,spread:T._spread,children:[]}}function ms(T){return{type:"listItem",spread:T._spread,checked:null,children:[]}}function gs(){return{type:"paragraph",children:[]}}function Sl(){return{type:"strong",children:[]}}function ys(){return{type:"text",value:""}}function vs(){return{type:"thematicBreak"}}}function En(e){return{line:e.line,column:e.column,offset:e.offset}}function Rg(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?Rg(e,r):__(e,r)}}function __(e,t){let n;for(n in t)if(Mg.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function Yd(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Fi({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Fi({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Fi({start:t.start,end:t.end})+") is still open")}function E_(e){const t=this;t.parser=n;function n(r){return k_(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function C_(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function b_(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function P_(e,t){const n=t.value?t.value+`
`:"",r={},i=t.lang?t.lang.split(/\s+/):[];i.length>0&&(r.className=["language-"+i[0]]);let l={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(l.data={meta:t.meta}),e.patch(t,l),l=e.applyData(t,l),l={type:"element",tagName:"pre",properties:{},children:[l]},e.patch(t,l),l}function j_(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function T_(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function z_(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=li(r.toLowerCase()),l=e.footnoteOrder.indexOf(r);let o,s=e.footnoteCounts.get(r);s===void 0?(s=0,e.footnoteOrder.push(r),o=e.footnoteOrder.length):o=l+1,s+=1,e.footnoteCounts.set(r,s);const a={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(s>1?"-"+s:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};e.patch(t,a);const u={type:"element",tagName:"sup",properties:{},children:[a]};return e.patch(t,u),e.applyData(t,u)}function N_(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function I_(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function Og(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),l=i[0];l&&l.type==="text"?l.value="["+l.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function A_(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return Og(e,t);const i={src:li(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const l={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,l),e.applyData(t,l)}function L_(e,t){const n={src:li(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function M_(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function R_(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return Og(e,t);const i={href:li(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const l={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,l),e.applyData(t,l)}function O_(e,t){const n={href:li(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function D_(e,t,n){const r=e.all(t),i=n?F_(n):Dg(t),l={},o=[];if(typeof t.checked=="boolean"){const c=r[0];let f;c&&c.type==="element"&&c.tagName==="p"?f=c:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),l.className=["task-list-item"]}let s=-1;for(;++s<r.length;){const c=r[s];(i||s!==0||c.type!=="element"||c.tagName!=="p")&&o.push({type:"text",value:`
`}),c.type==="element"&&c.tagName==="p"&&!i?o.push(...c.children):o.push(c)}const a=r[r.length-1];a&&(i||a.type!=="element"||a.tagName!=="p")&&o.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:l,children:o};return e.patch(t,u),e.applyData(t,u)}function F_(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=Dg(n[r])}return t}function Dg(e){const t=e.spread;return t??e.children.length>1}function $_(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const l={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,l),e.applyData(t,l)}function B_(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function U_(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function H_(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function W_(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},s=Ic(t.children[1]),a=vg(t.children[t.children.length-1]);s&&a&&(o.position={start:s,end:a}),i.push(o)}const l={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,l),e.applyData(t,l)}function V_(e,t,n){const r=n?n.children:void 0,l=(r?r.indexOf(t):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,s=o?o.length:t.children.length;let a=-1;const u=[];for(;++a<s;){const f=t.children[a],p={},h=o?o[a]:void 0;h&&(p.align=h);let g={type:"element",tagName:l,properties:p,children:[]};f&&(g.children=e.all(f),e.patch(f,g),g=e.applyData(f,g)),u.push(g)}const c={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,c),e.applyData(t,c)}function K_(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const Gd=9,Xd=32;function q_(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const l=[];for(;r;)l.push(Zd(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return l.push(Zd(t.slice(i),i>0,!1)),l.join("")}function Zd(e,t,n){let r=0,i=e.length;if(t){let l=e.codePointAt(r);for(;l===Gd||l===Xd;)r++,l=e.codePointAt(r)}if(n){let l=e.codePointAt(i-1);for(;l===Gd||l===Xd;)i--,l=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function Q_(e,t){const n={type:"text",value:q_(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function Y_(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const G_={blockquote:C_,break:b_,code:P_,delete:j_,emphasis:T_,footnoteReference:z_,heading:N_,html:I_,imageReference:A_,image:L_,inlineCode:M_,linkReference:R_,link:O_,listItem:D_,list:$_,paragraph:B_,root:U_,strong:H_,table:W_,tableCell:K_,tableRow:V_,text:Q_,thematicBreak:Y_,toml:ql,yaml:ql,definition:ql,footnoteDefinition:ql};function ql(){}const Fg=-1,ss=0,Bi=1,$o=2,Fc=3,$c=4,Bc=5,Uc=6,$g=7,Bg=8,Jd=typeof self=="object"?self:globalThis,X_=(e,t)=>{const n=(i,l)=>(e.set(l,i),i),r=i=>{if(e.has(i))return e.get(i);const[l,o]=t[i];switch(l){case ss:case Fg:return n(o,i);case Bi:{const s=n([],i);for(const a of o)s.push(r(a));return s}case $o:{const s=n({},i);for(const[a,u]of o)s[r(a)]=r(u);return s}case Fc:return n(new Date(o),i);case $c:{const{source:s,flags:a}=o;return n(new RegExp(s,a),i)}case Bc:{const s=n(new Map,i);for(const[a,u]of o)s.set(r(a),r(u));return s}case Uc:{const s=n(new Set,i);for(const a of o)s.add(r(a));return s}case $g:{const{name:s,message:a}=o;return n(new Jd[s](a),i)}case Bg:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:s}=new Uint8Array(o);return n(new DataView(s),o)}}return n(new Jd[l](o),i)};return r},ep=e=>X_(new Map,e)(0),Er="",{toString:Z_}={},{keys:J_}=Object,ki=e=>{const t=typeof e;if(t!=="object"||!e)return[ss,t];const n=Z_.call(e).slice(8,-1);switch(n){case"Array":return[Bi,Er];case"Object":return[$o,Er];case"Date":return[Fc,Er];case"RegExp":return[$c,Er];case"Map":return[Bc,Er];case"Set":return[Uc,Er];case"DataView":return[Bi,n]}return n.includes("Array")?[Bi,n]:n.includes("Error")?[$g,n]:[$o,n]},Ql=([e,t])=>e===ss&&(t==="function"||t==="symbol"),e2=(e,t,n,r)=>{const i=(o,s)=>{const a=r.push(o)-1;return n.set(s,a),a},l=o=>{if(n.has(o))return n.get(o);let[s,a]=ki(o);switch(s){case ss:{let c=o;switch(a){case"bigint":s=Bg,c=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+a);c=null;break;case"undefined":return i([Fg],o)}return i([s,c],o)}case Bi:{if(a){let p=o;return a==="DataView"?p=new Uint8Array(o.buffer):a==="ArrayBuffer"&&(p=new Uint8Array(o)),i([a,[...p]],o)}const c=[],f=i([s,c],o);for(const p of o)c.push(l(p));return f}case $o:{if(a)switch(a){case"BigInt":return i([a,o.toString()],o);case"Boolean":case"Number":case"String":return i([a,o.valueOf()],o)}if(t&&"toJSON"in o)return l(o.toJSON());const c=[],f=i([s,c],o);for(const p of J_(o))(e||!Ql(ki(o[p])))&&c.push([l(p),l(o[p])]);return f}case Fc:return i([s,o.toISOString()],o);case $c:{const{source:c,flags:f}=o;return i([s,{source:c,flags:f}],o)}case Bc:{const c=[],f=i([s,c],o);for(const[p,h]of o)(e||!(Ql(ki(p))||Ql(ki(h))))&&c.push([l(p),l(h)]);return f}case Uc:{const c=[],f=i([s,c],o);for(const p of o)(e||!Ql(ki(p)))&&c.push(l(p));return f}}const{message:u}=o;return i([s,{name:a,message:u}],o)};return l},tp=(e,{json:t,lossy:n}={})=>{const r=[];return e2(!(t||n),!!t,new Map,r)(e),r},Bo=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?ep(tp(e,t)):structuredClone(e):(e,t)=>ep(tp(e,t));function t2(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function n2(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function r2(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||t2,r=e.options.footnoteBackLabel||n2,i=e.options.footnoteLabel||"Footnotes",l=e.options.footnoteLabelTagName||"h2",o=e.options.footnoteLabelProperties||{className:["sr-only"]},s=[];let a=-1;for(;++a<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[a]);if(!u)continue;const c=e.all(u),f=String(u.identifier).toUpperCase(),p=li(f.toLowerCase());let h=0;const g=[],w=e.footnoteCounts.get(f);for(;w!==void 0&&++h<=w;){g.length>0&&g.push({type:"text",value:" "});let y=typeof n=="string"?n:n(a,h);typeof y=="string"&&(y={type:"text",value:y}),g.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+p+(h>1?"-"+h:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(a,h),className:["data-footnote-backref"]},children:Array.isArray(y)?y:[y]})}const j=c[c.length-1];if(j&&j.type==="element"&&j.tagName==="p"){const y=j.children[j.children.length-1];y&&y.type==="text"?y.value+=" ":j.children.push({type:"text",value:" "}),j.children.push(...g)}else c.push(...g);const m={type:"element",tagName:"li",properties:{id:t+"fn-"+p},children:e.wrap(c,!0)};e.patch(u,m),s.push(m)}if(s.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:l,properties:{...Bo(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(s,!0)},{type:"text",value:`
`}]}}const Ug=function(e){if(e==null)return s2;if(typeof e=="function")return as(e);if(typeof e=="object")return Array.isArray(e)?i2(e):l2(e);if(typeof e=="string")return o2(e);throw new Error("Expected function, string, or object as test")};function i2(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=Ug(e[n]);return as(r);function r(...i){let l=-1;for(;++l<t.length;)if(t[l].apply(this,i))return!0;return!1}}function l2(e){const t=e;return as(n);function n(r){const i=r;let l;for(l in e)if(i[l]!==t[l])return!1;return!0}}function o2(e){return as(t);function t(n){return n&&n.type===e}}function as(e){return t;function t(n,r,i){return!!(a2(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function s2(){return!0}function a2(e){return e!==null&&typeof e=="object"&&"type"in e}const Hg=[],u2=!0,np=!1,c2="skip";function f2(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const l=Ug(i),o=r?-1:1;s(e,void 0,[])();function s(a,u,c){const f=a&&typeof a=="object"?a:{};if(typeof f.type=="string"){const h=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(p,"name",{value:"node ("+(a.type+(h?"<"+h+">":""))+")"})}return p;function p(){let h=Hg,g,w,j;if((!t||l(a,u,c[c.length-1]||void 0))&&(h=d2(n(a,c)),h[0]===np))return h;if("children"in a&&a.children){const m=a;if(m.children&&h[0]!==c2)for(w=(r?m.children.length:-1)+o,j=c.concat(m);w>-1&&w<m.children.length;){const y=m.children[w];if(g=s(y,w,j)(),g[0]===np)return g;w=typeof g[1]=="number"?g[1]:w+o}}return h}}}function d2(e){return Array.isArray(e)?e:typeof e=="number"?[u2,e]:e==null?Hg:[e]}function Wg(e,t,n,r){let i,l,o;typeof t=="function"&&typeof n!="function"?(l=void 0,o=t,i=n):(l=t,o=n,i=r),f2(e,l,s,i);function s(a,u){const c=u[u.length-1],f=c?c.children.indexOf(a):void 0;return o(a,f,c)}}const wu={}.hasOwnProperty,p2={};function h2(e,t){const n=t||p2,r=new Map,i=new Map,l=new Map,o={...G_,...n.handlers},s={all:u,applyData:g2,definitionById:r,footnoteById:i,footnoteCounts:l,footnoteOrder:[],handlers:o,one:a,options:n,patch:m2,wrap:v2};return Wg(e,function(c){if(c.type==="definition"||c.type==="footnoteDefinition"){const f=c.type==="definition"?r:i,p=String(c.identifier).toUpperCase();f.has(p)||f.set(p,c)}}),s;function a(c,f){const p=c.type,h=s.handlers[p];if(wu.call(s.handlers,p)&&h)return h(s,c,f);if(s.options.passThrough&&s.options.passThrough.includes(p)){if("children"in c){const{children:w,...j}=c,m=Bo(j);return m.children=s.all(c),m}return Bo(c)}return(s.options.unknownHandler||y2)(s,c,f)}function u(c){const f=[];if("children"in c){const p=c.children;let h=-1;for(;++h<p.length;){const g=s.one(p[h],c);if(g){if(h&&p[h-1].type==="break"&&(!Array.isArray(g)&&g.type==="text"&&(g.value=rp(g.value)),!Array.isArray(g)&&g.type==="element")){const w=g.children[0];w&&w.type==="text"&&(w.value=rp(w.value))}Array.isArray(g)?f.push(...g):f.push(g)}}}return f}}function m2(e,t){e.position&&(t.position=Zw(e))}function g2(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,l=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&l&&Object.assign(n.properties,Bo(l)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function y2(e,t){const n=t.data||{},r="value"in t&&!(wu.call(n,"hProperties")||wu.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function v2(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function rp(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function ip(e,t){const n=h2(e,t),r=n.one(e,void 0),i=r2(n),l=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&l.children.push({type:"text",value:`
`},i),l}function x2(e,t){return e&&"run"in e?async function(n,r){const i=ip(n,{file:r,...t});await e.run(i,r)}:function(n,r){return ip(n,{file:r,...e||t})}}function lp(e){if(e)throw e}var fo=Object.prototype.hasOwnProperty,Vg=Object.prototype.toString,op=Object.defineProperty,sp=Object.getOwnPropertyDescriptor,ap=function(t){return typeof Array.isArray=="function"?Array.isArray(t):Vg.call(t)==="[object Array]"},up=function(t){if(!t||Vg.call(t)!=="[object Object]")return!1;var n=fo.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&fo.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var i;for(i in t);return typeof i>"u"||fo.call(t,i)},cp=function(t,n){op&&n.name==="__proto__"?op(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},fp=function(t,n){if(n==="__proto__")if(fo.call(t,n)){if(sp)return sp(t,n).value}else return;return t[n]},w2=function e(){var t,n,r,i,l,o,s=arguments[0],a=1,u=arguments.length,c=!1;for(typeof s=="boolean"&&(c=s,s=arguments[1]||{},a=2),(s==null||typeof s!="object"&&typeof s!="function")&&(s={});a<u;++a)if(t=arguments[a],t!=null)for(n in t)r=fp(s,n),i=fp(t,n),s!==i&&(c&&i&&(up(i)||(l=ap(i)))?(l?(l=!1,o=r&&ap(r)?r:[]):o=r&&up(r)?r:{},cp(s,{name:n,newValue:e(c,o,i)})):typeof i<"u"&&cp(s,{name:n,newValue:i}));return s};const oa=_u(w2);function ku(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function k2(){const e=[],t={run:n,use:r};return t;function n(...i){let l=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);s(null,...i);function s(a,...u){const c=e[++l];let f=-1;if(a){o(a);return}for(;++f<i.length;)(u[f]===null||u[f]===void 0)&&(u[f]=i[f]);i=u,c?S2(c,s)(...u):o(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function S2(e,t){let n;return r;function r(...o){const s=e.length>o.length;let a;s&&o.push(i);try{a=e.apply(this,o)}catch(u){const c=u;if(s&&n)throw c;return i(c)}s||(a&&a.then&&typeof a.then=="function"?a.then(l,i):a instanceof Error?i(a):l(a))}function i(o,...s){n||(n=!0,t(o,...s))}function l(o){i(null,o)}}const Gt={basename:_2,dirname:E2,extname:C2,join:b2,sep:"/"};function _2(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');gl(e);let n=0,r=-1,i=e.length,l;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(l){n=i+1;break}}else r<0&&(l=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,s=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(l){n=i+1;break}}else o<0&&(l=!0,o=i+1),s>-1&&(e.codePointAt(i)===t.codePointAt(s--)?s<0&&(r=i):(s=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function E2(e){if(gl(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function C2(e){gl(e);let t=e.length,n=-1,r=0,i=-1,l=0,o;for(;t--;){const s=e.codePointAt(t);if(s===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),s===46?i<0?i=t:l!==1&&(l=1):i>-1&&(l=-1)}return i<0||n<0||l===0||l===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function b2(...e){let t=-1,n;for(;++t<e.length;)gl(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":P2(n)}function P2(e){gl(e);const t=e.codePointAt(0)===47;let n=j2(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function j2(e,t){let n="",r=0,i=-1,l=0,o=-1,s,a;for(;++o<=e.length;){if(o<e.length)s=e.codePointAt(o);else{if(s===47)break;s=47}if(s===47){if(!(i===o-1||l===1))if(i!==o-1&&l===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(a=n.lastIndexOf("/"),a!==n.length-1){a<0?(n="",r=0):(n=n.slice(0,a),r=n.length-1-n.lastIndexOf("/")),i=o,l=0;continue}}else if(n.length>0){n="",r=0,i=o,l=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,o):n=e.slice(i+1,o),r=o-i-1;i=o,l=0}else s===46&&l>-1?l++:l=-1}return n}function gl(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const T2={cwd:z2};function z2(){return"/"}function Su(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function N2(e){if(typeof e=="string")e=new URL(e);else if(!Su(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return I2(e)}function I2(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const sa=["history","path","basename","stem","extname","dirname"];class Kg{constructor(t){let n;t?Su(t)?n={path:t}:typeof t=="string"||A2(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":T2.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<sa.length;){const l=sa[r];l in n&&n[l]!==void 0&&n[l]!==null&&(this[l]=l==="history"?[...n[l]]:n[l])}let i;for(i in n)sa.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Gt.basename(this.path):void 0}set basename(t){ua(t,"basename"),aa(t,"basename"),this.path=Gt.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Gt.dirname(this.path):void 0}set dirname(t){dp(this.basename,"dirname"),this.path=Gt.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Gt.extname(this.path):void 0}set extname(t){if(aa(t,"extname"),dp(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Gt.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){Su(t)&&(t=N2(t)),ua(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Gt.basename(this.path,this.extname):void 0}set stem(t){ua(t,"stem"),aa(t,"stem"),this.path=Gt.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new Qe(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function aa(e,t){if(e&&e.includes(Gt.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Gt.sep+"`")}function ua(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function dp(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function A2(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const L2=function(e){const r=this.constructor.prototype,i=r[e],l=function(){return i.apply(l,arguments)};return Object.setPrototypeOf(l,r),l},M2={}.hasOwnProperty;class Hc extends L2{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=k2()}copy(){const t=new Hc;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(oa(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(da("data",this.frozen),this.namespace[t]=n,this):M2.call(this.namespace,t)&&this.namespace[t]||void 0:t?(da("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Yl(t),r=this.parser||this.Parser;return ca("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),ca("process",this.parser||this.Parser),fa("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(l,o){const s=Yl(t),a=r.parse(s);r.run(a,s,function(c,f,p){if(c||!f||!p)return u(c);const h=f,g=r.stringify(h,p);D2(g)?p.value=g:p.result=g,u(c,p)});function u(c,f){c||!f?o(c):l?l(f):n(void 0,f)}}}processSync(t){let n=!1,r;return this.freeze(),ca("processSync",this.parser||this.Parser),fa("processSync",this.compiler||this.Compiler),this.process(t,i),hp("processSync","process",n),r;function i(l,o){n=!0,lp(l),r=o}}run(t,n,r){pp(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?l(void 0,r):new Promise(l);function l(o,s){const a=Yl(n);i.run(t,a,u);function u(c,f,p){const h=f||t;c?s(c):o?o(h):r(void 0,h,p)}}}runSync(t,n){let r=!1,i;return this.run(t,n,l),hp("runSync","run",r),i;function l(o,s){lp(o),i=s,r=!0}}stringify(t,n){this.freeze();const r=Yl(n),i=this.compiler||this.Compiler;return fa("stringify",i),pp(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(da("use",this.frozen),t!=null)if(typeof t=="function")a(t,n);else if(typeof t=="object")Array.isArray(t)?s(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function l(u){if(typeof u=="function")a(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[c,...f]=u;a(c,f)}else o(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function o(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");s(u.plugins),u.settings&&(i.settings=oa(!0,i.settings,u.settings))}function s(u){let c=-1;if(u!=null)if(Array.isArray(u))for(;++c<u.length;){const f=u[c];l(f)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function a(u,c){let f=-1,p=-1;for(;++f<r.length;)if(r[f][0]===u){p=f;break}if(p===-1)r.push([u,...c]);else if(c.length>0){let[h,...g]=c;const w=r[p][1];ku(w)&&ku(h)&&(h=oa(!0,w,h)),r[p]=[u,h,...g]}}}}const R2=new Hc().freeze();function ca(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function fa(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function da(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function pp(e){if(!ku(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function hp(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Yl(e){return O2(e)?e:new Kg(e)}function O2(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function D2(e){return typeof e=="string"||F2(e)}function F2(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const $2="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",mp=[],gp={allowDangerousHtml:!0},B2=/^(https?|ircs?|mailto|xmpp)$/i,U2=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function H2(e){const t=W2(e),n=V2(e);return K2(t.runSync(t.parse(n),n),e)}function W2(e){const t=e.rehypePlugins||mp,n=e.remarkPlugins||mp,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...gp}:gp;return R2().use(E_).use(n).use(x2,r).use(t)}function V2(e){const t=e.children||"",n=new Kg;return typeof t=="string"&&(n.value=t),n}function K2(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,l=t.disallowedElements,o=t.skipHtml,s=t.unwrapDisallowed,a=t.urlTransform||q2;for(const c of U2)Object.hasOwn(t,c.from)&&(""+c.from+(c.to?"use `"+c.to+"` instead":"remove it")+$2+c.id,void 0);return Wg(e,u),rk(e,{Fragment:d.Fragment,components:i,ignoreInvalidStyle:!0,jsx:d.jsx,jsxs:d.jsxs,passKeys:!0,passNode:!0});function u(c,f,p){if(c.type==="raw"&&p&&typeof f=="number")return o?p.children.splice(f,1):p.children[f]={type:"text",value:c.value},f;if(c.type==="element"){let h;for(h in ra)if(Object.hasOwn(ra,h)&&Object.hasOwn(c.properties,h)){const g=c.properties[h],w=ra[h];(w===null||w.includes(c.tagName))&&(c.properties[h]=a(String(g||""),h,c))}}if(c.type==="element"){let h=n?!n.includes(c.tagName):l?l.includes(c.tagName):!1;if(!h&&r&&typeof f=="number"&&(h=!r(c,f,p)),h&&p&&typeof f=="number")return s&&c.children?p.children.splice(f,1,...c.children):p.children.splice(f,1),f}}}function q2(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||B2.test(e.slice(0,t))?e:""}function Wc(e,t,n,r,i){if(t&&n&&r)return{fen:t,orig:n,dest:r};if(n&&r)try{const l=new ei(e);return l.move({from:n,to:r,promotion:"q"}),{fen:l.fen(),orig:n,dest:r}}catch{}if(i)try{const l=new ei(e),o=l.move(i);if(o)return{fen:l.fen(),orig:o.from,dest:o.to}}catch{}return{fen:e,orig:null,dest:null}}const M={bg:"#030712",surface:"#0d1117",border:"#1e2d45",border2:"#1f2937",amber:"#f59e0b",redDim:"#f87171",green:"#22c55e",greenDim:"#4ade80",blue:"#3b82f6",blueDim:"#60a5fa",textPri:"#f3f4f6",textSec:"#9ca3af",textDim:"#6b7280",textFaint:"#4b5563"};function Q2({jobId:e,side:t}){const[n,r]=W.useState(null),[i,l]=W.useState(null),[o,s]=W.useState("brief");if(W.useEffect(()=>{fetch(`/api/jobs/${e}/strategise`).then(u=>{if(!u.ok)throw new Error(`HTTP ${u.status}`);return u.json()}).then(u=>{if(!u.player){l("Report not ready  check the job log.");return}r(u)}).catch(u=>l(u.message))},[e]),i)return d.jsxs("div",{style:{padding:40,color:M.redDim,fontFamily:"monospace"},children:[i,d.jsx("div",{style:{marginTop:12},children:d.jsx("a",{href:`/jobs/${e}`,style:{color:M.amber,textDecoration:"none",fontSize:13},children:" Job log"})})]});if(!n)return d.jsx("div",{style:{padding:40,color:M.textSec},children:"Loading report"});const a=[{id:"brief",label:"Strategic Brief"},{id:"battlegrounds",label:"Battlegrounds"},{id:"weaknesses",label:"Their Weaknesses"},{id:"gaps",label:"Your Gaps"},{id:"positions",label:"Key Positions"}];return d.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100vh",background:M.bg,color:M.textPri},children:[d.jsxs("div",{style:{borderBottom:`1px solid ${M.border}`,padding:"10px 20px",display:"flex",alignItems:"center",justifyContent:"space-between",flexShrink:0},children:[d.jsxs("div",{style:{display:"flex",alignItems:"center",gap:16},children:[d.jsx(yp,{meta:n.player,label:"You",color:M.amber}),d.jsx("span",{style:{color:M.textDim,fontSize:13},children:"vs"}),d.jsx(yp,{meta:n.opponent,label:"Opponent",color:M.redDim})]}),d.jsx("a",{href:`/jobs/${e}`,style:{color:M.textDim,fontSize:12,textDecoration:"none",whiteSpace:"nowrap"},children:" Job log"})]}),d.jsx("div",{style:{display:"flex",gap:2,padding:"0 20px",borderBottom:`1px solid ${M.border}`,flexShrink:0,overflowX:"auto"},children:a.map(u=>d.jsx("button",{onClick:()=>s(u.id),style:{padding:"10px 16px",fontSize:13,border:"none",cursor:"pointer",background:"transparent",color:o===u.id?M.amber:M.textDim,borderBottom:o===u.id?`2px solid ${M.amber}`:"2px solid transparent",whiteSpace:"nowrap"},children:u.label},u.id))}),d.jsxs("div",{style:{flex:1,overflowY:"auto",padding:24},children:[o==="brief"&&d.jsx(Y2,{data:n}),o==="battlegrounds"&&d.jsx(X2,{data:n}),o==="weaknesses"&&d.jsx(Z2,{data:n,side:t}),o==="gaps"&&d.jsx(J2,{data:n,side:t}),o==="positions"&&d.jsx(eE,{data:n,side:t})]})]})}function yp({meta:e,label:t,color:n}){return d.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[d.jsx("div",{style:{width:28,height:28,borderRadius:"50%",background:"#1f2937",border:`1px solid ${n}40`,display:"flex",alignItems:"center",justifyContent:"center",fontSize:12,fontWeight:700,color:n},children:e.username[0].toUpperCase()}),d.jsxs("div",{children:[d.jsx("div",{style:{fontSize:13,fontWeight:600,color:n},children:e.username}),d.jsxs("div",{style:{fontSize:10,color:M.textFaint},children:[t,"  ",e.platform,"  ",e.color]})]})]})}function Y2({data:e}){return d.jsxs("div",{style:{maxWidth:860,margin:"0 auto"},children:[d.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:16,marginBottom:24},children:[d.jsx(vp,{profile:e.player_style,phaseStats:e.player_phase_stats,meta:e.player,accentColor:M.amber}),d.jsx(vp,{profile:e.opponent_style,phaseStats:e.opponent_phase_stats,meta:e.opponent,accentColor:M.redDim})]}),e.ai_available&&e.strategic_brief?d.jsxs("div",{style:{background:M.surface,border:`1px solid ${M.border}`,borderRadius:10,padding:24,marginBottom:16},children:[d.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:16},children:[d.jsx("span",{style:{color:M.textDim,fontSize:10,textTransform:"uppercase",letterSpacing:"0.06em"},children:"Strategic Brief"}),d.jsx("span",{style:{fontSize:10,color:M.blueDim,background:"#1e3a5f",border:`1px solid ${M.blueDim}40`,borderRadius:99,padding:"1px 7px"},children:"My Second"})]}),d.jsx("div",{style:{color:M.textPri,fontSize:14,lineHeight:1.7},className:"md-brief",children:d.jsx(H2,{children:e.strategic_brief})})]}):d.jsx(G2,{data:e})]})}function vp({profile:e,phaseStats:t,meta:n,accentColor:r}){const l=r===M.amber?"Your Style":"Opponent Style";return d.jsxs("div",{style:{background:M.surface,border:`1px solid ${M.border}`,borderRadius:10,padding:20},children:[d.jsx("div",{style:{color:r,fontSize:10,textTransform:"uppercase",letterSpacing:"0.06em",marginBottom:4},children:l}),d.jsx("div",{style:{fontWeight:700,fontSize:15,marginBottom:14},children:n.username}),d.jsx(Si,{label:"Win rate",value:`${(e.avg_win_rate*100).toFixed(0)}%`,bar:e.avg_win_rate,color:e.avg_win_rate>=.5?M.green:M.redDim}),d.jsx(Si,{label:"Decisive",value:`${(e.decisive_rate*100).toFixed(0)}%`,bar:e.decisive_rate,color:M.amber}),d.jsx(Si,{label:"Draw rate",value:`${(e.draw_rate*100).toFixed(0)}%`,bar:e.draw_rate,color:M.blueDim}),d.jsx(Si,{label:"Solidity",value:`${(e.solidness_score*100).toFixed(0)}%`,bar:e.solidness_score,color:M.blue}),d.jsx(Si,{label:"Diversity",value:`${(e.opening_diversity*100).toFixed(0)}%`,bar:e.opening_diversity,color:M.textSec}),t&&t.total_games>0&&d.jsxs("div",{style:{marginTop:12,paddingTop:10,borderTop:`1px solid ${M.border2}`},children:[d.jsx("div",{style:{fontSize:10,color:M.textFaint,textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:6},children:"Game Phases"}),t.avg_length_by_speed&&Object.entries(t.avg_length_by_speed).map(([o,s])=>d.jsx(pa,{label:`${o[0].toUpperCase()+o.slice(1)} length`,value:`${s} moves`},o)),d.jsx(pa,{label:"Endgame rate",value:`${(t.endgame_reach_rate*100).toFixed(0)}%`}),d.jsx(pa,{label:"EG conversion",value:`${(t.endgame_conversion_rate*100).toFixed(0)}%`})]}),e.top_openings&&e.top_openings.length>0&&d.jsxs("div",{style:{marginTop:12,paddingTop:10,borderTop:`1px solid ${M.border2}`},children:[d.jsx("div",{style:{fontSize:10,color:M.textFaint,textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:6},children:"Top Lines"}),e.top_openings.slice(0,4).map((o,s)=>d.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:11,marginBottom:3,gap:8},children:[d.jsx("span",{style:{color:M.textSec,fontFamily:"monospace",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",flex:1},children:o.move_sequence||o.fen}),d.jsxs("span",{style:{color:r,fontFamily:"monospace",flexShrink:0},children:[o.games,"g"]})]},s))]}),d.jsxs("div",{style:{marginTop:12,fontSize:11,color:M.textFaint},children:[e.total_positions.toLocaleString()," positions  ",e.total_moves_indexed.toLocaleString()," moves indexed"]})]})}function pa({label:e,value:t}){return d.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:3},children:[d.jsx("span",{style:{fontSize:11,color:M.textDim},children:e}),d.jsx("span",{style:{fontSize:11,color:M.textSec,fontFamily:"monospace"},children:t})]})}function Si({label:e,value:t,bar:n,color:r}){return d.jsxs("div",{style:{marginBottom:8},children:[d.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:3},children:[d.jsx("span",{style:{fontSize:11,color:M.textSec},children:e}),d.jsx("span",{style:{fontSize:11,color:r,fontFamily:"monospace",fontWeight:600},children:t})]}),d.jsx("div",{style:{background:"#1e2d45",height:5,borderRadius:3},children:d.jsx("div",{style:{background:r,height:5,borderRadius:3,width:`${Math.min(n*100,100)}%`,transition:"width 0.4s"}})})]})}function G2({data:e}){const t=e.opponent_weaknesses.length,n=e.prep_gaps.length,r=e.battlegrounds.filter(i=>i.advantage==="player").length;return d.jsxs("div",{style:{background:M.surface,border:`1px solid ${M.border}`,borderRadius:10,padding:24},children:[d.jsx("div",{style:{color:M.textDim,fontSize:10,textTransform:"uppercase",letterSpacing:"0.06em",marginBottom:14},children:"Summary"}),d.jsxs("ul",{style:{color:M.textPri,fontSize:14,lineHeight:1.9,paddingLeft:20},children:[d.jsxs("li",{children:[e.battlegrounds.length," opening battleground",e.battlegrounds.length!==1?"s":""," found where both players have data."]}),r>0&&d.jsxs("li",{style:{color:M.greenDim},children:[r," battleground",r!==1?"s":""," favour",r===1?"s":""," you based on win rates."]}),t>0&&d.jsxs("li",{style:{color:M.amber},children:[t," opponent weakness",t!==1?"es":""," are reachable from your repertoire  exploit these."]}),n>0&&d.jsxs("li",{style:{color:M.redDim},children:[n," prep gap",n!==1?"s":""," where you play poorly and the opponent has data  address these."]})]}),d.jsx("div",{style:{marginTop:16,padding:"10px 14px",background:"#111827",borderRadius:8,border:`1px solid ${M.border2}`,color:M.textFaint,fontSize:12},children:"Add an Anthropic API key to your next Strategise job for a full AI-generated brief."})]})}function X2({data:e}){const[t,n]=W.useState(null),r=e.battlegrounds;return r.length?d.jsxs("div",{style:{maxWidth:860,margin:"0 auto"},children:[d.jsx(us,{children:"Opening Battlegrounds"}),d.jsx("p",{style:{color:M.textSec,fontSize:13,marginBottom:16},children:"Positions where both players have cache data  direct win-rate comparison."}),d.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:13},children:[d.jsx("thead",{children:d.jsxs("tr",{style:{color:M.textFaint,fontSize:10,textTransform:"uppercase",letterSpacing:"0.05em"},children:[d.jsx(Je,{align:"left",children:"#"}),d.jsx(Je,{align:"right",children:"Your games"}),d.jsx(Je,{align:"right",children:"Your W%"}),d.jsx(Je,{align:"right",children:"Opp games"}),d.jsx(Je,{align:"right",children:"Opp W%"}),d.jsx(Je,{align:"center",children:"Advantage"}),d.jsx(Je,{align:"left",children:"Your move"}),d.jsx(Je,{align:"left",children:"Their reply"})]})}),d.jsx("tbody",{children:r.map((i,l)=>{const o=t===l,s=i.advantage==="player"?M.greenDim:i.advantage==="opponent"?M.redDim:M.textSec;return d.jsxs(Vr.Fragment,{children:[d.jsxs("tr",{onClick:()=>n(o?null:l),style:{borderTop:`1px solid ${M.border2}`,cursor:"pointer",background:o?"#0f1e2e":"transparent"},children:[d.jsx(et,{children:l+1}),d.jsx(et,{align:"right",dim:!0,children:i.player_games}),d.jsx(et,{align:"right",children:d.jsx(xp,{v:i.player_win_rate})}),d.jsx(et,{align:"right",dim:!0,children:i.opponent_games}),d.jsx(et,{align:"right",children:d.jsx(xp,{v:i.opponent_win_rate,invert:!0})}),d.jsx(et,{align:"center",children:d.jsx("span",{style:{color:s,fontWeight:600,fontSize:11},children:i.advantage==="player"?" You":i.advantage==="opponent"?" Them":" Equal"})}),d.jsx(et,{mono:!0,children:i.player_top_move_san}),d.jsx(et,{mono:!0,dim:!0,children:i.opponent_top_response_san})]}),o&&(()=>{const a=Wc(i.fen,i.fen_after,i.player_top_move_orig,i.player_top_move_dest,i.player_top_move_san);return d.jsx("tr",{style:{background:"#0a0f1a"},children:d.jsx("td",{colSpan:8,style:{padding:"16px 8px"},children:d.jsx(Vc,{fen:a.fen,side:e.player.color,orig:a.orig,dest:a.dest})})})})()]},l)})})]})]}):d.jsx(cs,{msg:"No battleground positions found."})}function Z2({data:e,side:t}){const[n,r]=W.useState(null),i=e.opponent_weaknesses;return i.length?d.jsxs("div",{style:{maxWidth:860,margin:"0 auto"},children:[d.jsx(us,{children:"Opponent Weaknesses"}),d.jsx("p",{style:{color:M.textSec,fontSize:13,marginBottom:16},children:"Positions where the opponent habitually plays suboptimally  and you can reach them."}),d.jsx(qg,{items:i,selected:n,onSelect:r,side:t,playerLabel:"Opp's move"})]}):d.jsx(cs,{msg:"No reachable opponent weaknesses found."})}function J2({data:e,side:t}){const[n,r]=W.useState(null),i=e.prep_gaps;return i.length?d.jsxs("div",{style:{maxWidth:860,margin:"0 auto"},children:[d.jsx(us,{children:"Your Prep Gaps"}),d.jsx("p",{style:{color:M.textSec,fontSize:13,marginBottom:16},children:"Positions where you play poorly and the opponent has data  fix these before you meet."}),d.jsx(qg,{items:i,selected:n,onSelect:r,side:t,playerLabel:"Your move",accentColor:M.redDim,extraCol:l=>`Opp: ${l.opponent_games_here}g`})]}):d.jsx(cs,{msg:"No prep gaps found."})}function eE({data:e,side:t}){const[n,r]=W.useState(0),i=e.key_positions;if(!i.length)return d.jsx(cs,{msg:"No key positions identified."});const l=o=>o==="battleground"?M.blue:o==="weakness"?M.amber:M.redDim;return d.jsxs("div",{style:{maxWidth:860,margin:"0 auto"},children:[d.jsx(us,{children:"Key Positions"}),d.jsx("p",{style:{color:M.textSec,fontSize:13,marginBottom:20},children:"The most important positions to know before facing this opponent."}),d.jsx("div",{style:{display:"flex",gap:16,flexWrap:"wrap",marginBottom:24},children:i.map((o,s)=>d.jsxs("button",{onClick:()=>r(s),style:{background:n===s?"#0f1e2e":M.surface,border:`1px solid ${n===s?M.amber:M.border}`,borderRadius:8,padding:"6px 12px",cursor:"pointer",fontSize:12,color:n===s?M.amber:M.textSec,transition:"all 0.15s"},children:[d.jsx("span",{style:{color:l(o.type),marginRight:6},children:o.type==="battleground"?"":o.type==="weakness"?"":""}),o.move_san||`Position ${s+1}`]},s))}),i[n]&&d.jsxs("div",{style:{background:M.surface,border:`1px solid ${M.border}`,borderRadius:10,padding:24},children:[d.jsxs("div",{style:{marginBottom:16},children:[d.jsx("span",{style:{color:l(i[n].type),fontSize:10,textTransform:"uppercase",letterSpacing:"0.06em",background:`${l(i[n].type)}18`,border:`1px solid ${l(i[n].type)}40`,borderRadius:99,padding:"2px 8px",marginRight:8},children:i[n].type}),d.jsx("span",{style:{color:M.textSec,fontSize:13},children:i[n].label})]}),(()=>{const o=i[n],s=Wc(o.fen,o.fen_after,o.move_orig,o.move_dest,o.move_san);return d.jsx(Vc,{fen:s.fen,side:t,orig:s.orig,dest:s.dest,size:400})})()]})]})}function qg({items:e,selected:t,onSelect:n,side:r,playerLabel:i,accentColor:l=M.amber,extraCol:o}){return d.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:13},children:[d.jsx("thead",{children:d.jsxs("tr",{style:{color:M.textFaint,fontSize:10,textTransform:"uppercase",letterSpacing:"0.05em"},children:[d.jsx(Je,{align:"left",children:"#"}),d.jsx(Je,{align:"left",children:i}),d.jsx(Je,{align:"left",children:"Best move"}),d.jsx(Je,{align:"right",children:"Gap"}),d.jsx(Je,{align:"right",children:"Freq"}),d.jsx(Je,{align:"right",children:"Score"}),o&&d.jsx(Je,{align:"right",children:"Context"})]})}),d.jsx("tbody",{children:e.map((s,a)=>{const u=t===a;return d.jsxs(Vr.Fragment,{children:[d.jsxs("tr",{onClick:()=>n(u?null:a),style:{borderTop:`1px solid ${M.border2}`,cursor:"pointer",background:u?"#0f1e2e":"transparent"},children:[d.jsx(et,{dim:!0,children:s.rank}),d.jsx(et,{mono:!0,children:d.jsx("span",{style:{color:l,fontWeight:700},children:s.player_move_san})}),d.jsx(et,{mono:!0,children:d.jsx("span",{style:{color:M.greenDim},children:s.best_move_san})}),d.jsx(et,{align:"right",mono:!0,children:d.jsx(tE,{cp:s.eval_gap_cp})}),d.jsxs(et,{align:"right",dim:!0,children:[s.total_games,""]}),d.jsx(et,{align:"right",children:d.jsx("span",{style:{color:M.amber},children:s.score.toFixed(1)})}),o&&d.jsx(et,{align:"right",dim:!0,children:o(s)})]}),u&&(()=>{const c=Wc(s.fen,s.fen_after,s.player_move_orig,s.player_move_dest,s.player_move_san);return d.jsx("tr",{style:{background:"#0a0f1a"},children:d.jsxs("td",{colSpan:o?7:6,style:{padding:"16px 8px"},children:[d.jsx(Vc,{fen:c.fen,side:r,orig:c.orig,dest:c.dest}),d.jsxs("div",{style:{marginTop:10,fontSize:12,color:M.textSec,maxWidth:500},children:[d.jsx("span",{style:{color:l,fontWeight:600},children:s.player_move_san})," ","played ",s.total_games," times  eval gap"," ",d.jsxs("span",{style:{color:M.redDim},children:[s.eval_gap_cp>0?"+":"",s.eval_gap_cp.toFixed(0),"cp"]}),"."," ","Best: ",d.jsx("span",{style:{color:M.greenDim,fontWeight:600},children:s.best_move_san}),"."]})]})})})()]},a)})})]})}function Vc({fen:e,side:t,orig:n,dest:r,size:i=320}){const l={fen:e,orientation:t||"white",lastMove:n&&r?[n,r]:void 0,movable:{free:!1,color:"none"},draggable:{enabled:!1},selectable:{enabled:!1}};return d.jsx("div",{style:{width:i,height:i},children:d.jsx(hl,{width:i,height:i,config:l})})}function tE({cp:e}){const t=e>=75?M.redDim:e>=30?"#fbbf24":M.textSec;return d.jsxs("span",{style:{color:t,fontFamily:"monospace"},children:[e>0?"+":"",e.toFixed(0),"cp"]})}function xp({v:e,invert:t}){const n=`${(e*100).toFixed(0)}%`,r=t?e>=.55?M.redDim:e<=.45?M.greenDim:M.textSec:e>=.55?M.greenDim:e<=.45?M.redDim:M.textSec;return d.jsx("span",{style:{color:r,fontFamily:"monospace",fontWeight:600},children:n})}function Je({children:e,align:t="left"}){return d.jsx("th",{style:{padding:"4px 8px",textAlign:t,fontWeight:500},children:e})}function et({children:e,align:t="left",dim:n,mono:r}){return d.jsx("td",{style:{padding:"7px 8px",textAlign:t,color:n?M.textDim:M.textPri,fontFamily:r?"monospace":"inherit"},children:e})}function us({children:e}){return d.jsx("div",{style:{fontSize:16,fontWeight:700,marginBottom:6},children:e})}function cs({msg:e}){return d.jsx("div",{style:{padding:40,color:M.textFaint,textAlign:"center",fontSize:14},children:e})}const fs=document.getElementById("root"),_i=fs.dataset.jobId,Ei=fs.dataset.side||"white",nE=fs.dataset.mode||"novelties",wp={novelties:d.jsx(Rx,{jobId:_i,side:Ei}),habits:d.jsx(Vx,{jobId:_i,side:Ei}),"habits-practice":d.jsx(Xx,{jobId:_i,side:Ei}),repertoire:d.jsx(lw,{jobId:_i,side:Ei}),strategise:d.jsx(Q2,{jobId:_i,side:Ei})};Am(fs).render(wp[nE]??wp.novelties);
